{
  "Link": "https://zure.com/blog/securing-azure-networks-with-network-security-perimeter",
  "Author": "jere.haavisto@zure.com (Jere Haavisto)",
  "PubDate": "2025-04-10T04:40:00+00:00",
  "FeedLevelAuthor": "Blog",
  "Title": "Securing Azure networks with Network Security Perimeter",
  "Description": "[!\\[Securing Azure networks with Network Security Perimeter\\](https://zure.com/hubfs/Imported_Blog_Media/Picture1-1-1024x279.png)](https://zure.com/blog/securing-azure-networks-with-network-security-perimeter?hsLang=en)",
  "EnhancedContent": "Skip to content\n\nBlog\n\n# Securing Azure networks with Network Security Perimeter\n\n![Jere Haavisto](https://zure.com/hs-fs/hubfs/Profile%20pictures/Jere%201.jpg?width=220&amp;name=Jere%201.jpg)\n\nJere Haavisto\n\n10.4.2025\n\n[Blog](https://zure.com/blog/tag/blog)\n\n[Security](https://zure.com/blog/tag/security)\n\n![](https://zure.com/hs-fs/hubfs/Imported_Blog_Media/Picture1-1-1024x279.png?width=1037&amp;name=Picture1-1-1024x279.png)\n\nHave you seen Azure environments with resources that have public access allowed or just some limitations to the IP addresses in place? Well, I have.\n\nThe way to secure these PaaS resources like Storage Accounts, Key Vaults and SQL Servers for example was to put them in a virtual network, create networks security groups (NSG), create Private Endpoints and allow connections to the resources through the NSG to the Private Endpoint. This was done resource by resource and is a lot of work when there are multiple resources as well as hard to maintain without making security gaps.\n\nThe above is probably the reason why I have seen more environments with PaaS resources open to internet than ones with network restrictions while going security assessments for customers.\n\nWhat if I told you that there is an easy and secure solution to all that hassle? The answer is below and beware, this is a bit longer of a post.\n\n## Network Security Perimeter\n\nIn November 2024, Microsoft introduced a significant enhancement to Azure's security capabilities: the Network Security Perimeter (NSP). With NSP you can create a singular ruleset instead of separate NSG rules to every resource. The below picture is an example from Microsoft.\n\n![Picture1 1](https://zure.com/hubfs/Imported_Blog_Media/Picture1-1-1024x279.png)\n\nWhat it essentially does, for supported resources, is it removes the need for Private Endpoints, virtual networks and NSG´s. The supported resources as of March, 2025 are:\n\n- Azure Monitor\n- Azure AI Search\n- Cosmos DB\n- Event Hubs\n- Key Vault\n- SQL DB\n- Storage\n\nNetwork Security Perimeter is available on all public cloud regions, but it is worth to note, that access logs from it can currently be only stored in East US, East US 2, North Central US, South Central US, West US and West US 2.\n\n## How does it work?\n\nI won’t go too much into details but in a nutshell, here are some info about NSP´s:\n\n- One Network Security Perimeter can contain up to 200 Profiles and it can have up to 1000 PaaS resources associated with it.\n- One Profile can have total of 200 Inbound and Outbound rule elements\n- Profiles has two modes:\n- Learning mode (Default): Helps admins to understand the existing access patterns\n- Enforced mode: All traffic is denied, except the traffic allowed within the profiles.\n\nThe key thing here is the profile which defines the inbound and outbound rules to the perimeter. Much like Network Security Groups do but slightly different.\n\n## A little demonstration\n\n**Demo one with a Key Vault:**\n\nTo set up the test I created some NSP supported resources that have default networking settings (Public access that is enabled from all networks):\n\n![Picture2 1](https://zure.com/hubfs/Imported_Blog_Media/Picture2-1.png)\n\n![Picture3 1](https://zure.com/hubfs/Imported_Blog_Media/Picture3-1.png)\n\nI also have a Linux machine on the same subscription with access to all of the above resources. Below picture shows that I can read a secret value from the keyvault:\n\n![Picture4 1](https://zure.com/hubfs/Imported_Blog_Media/Picture4-1.png)\n\nThe managed identity of the VM has Key Vault Secrets User assigned on the Key Vault in question and I am logged in with it.\n\nNow, since all of the PaaS resources are open to the world, I need to secure them so that only my VM can access them. I create an Network security perimeter and associate the selected resources to it:\n\n![Picture5 1](https://zure.com/hubfs/Imported_Blog_Media/Picture5-1.png)\n\nI don’t create inbound or outbound rules right now because of the demo, but you can. The NSP is created and you can see the resources associated with it as well as the profile assigned to them. Notice that they both are in learning mode.\n\n![Picture6 1](https://zure.com/hubfs/Imported_Blog_Media/Picture6-1-1024x297.png)\n\nLet’s change that and change the mode to Enforced:\n\n![Picture7 1](https://zure.com/hubfs/Imported_Blog_Media/Picture7-1-1024x334.png)\n\nAfter enforcing we can see that the access mode changed and the Effective public network access status changed:\n\n![Picture8 1](https://zure.com/hubfs/Imported_Blog_Media/Picture8-1.png)\n\n![Picture9 1](https://zure.com/hubfs/Imported_Blog_Media/Picture9-1-1024x140.png)\n\nAs a side note, the networking tab on the resource itself still shows that public access is enabled and it has added the NSP info below it.\n\n![Picture10 1](https://zure.com/hubfs/Imported_Blog_Media/Picture10-1.png)\n\nThat’s confusing but nevertheless, it is not possible to connect to the resource because I did not do any inbound rules on creation as can be seen below:\n\n![Picture11 1](https://zure.com/hubfs/Imported_Blog_Media/Picture11-1.png)\n\nI run the same command as before and tried to read the secret but I now get an error code explaining that the request was blocked because of NSP rules.\n\nNow I obviously need to access that secret and to do so I need to make an inbound rule.\n\n![Picture12 1](https://zure.com/hubfs/Imported_Blog_Media/Picture12-1-1024x523.png)\n\nWhen creating an inbound rule, there are two options. IP address range or Subscription, im going to create a Subscription based rule so that the Linux VM I have, can access the vault.\n\n![Picture13 1](https://zure.com/hubfs/Imported_Blog_Media/Picture13-1.png)\n\nAfter the inbound rule is created and I try again with the VM, it works again:\n\n![Picture14 1 1](https://zure.com/hubfs/Imported_Blog_Media/Picture14-1-1.png)\n\n## Demo 2 with a Storage Account:\n\nNow that the Key Vault is working nicely it´s time to gain access to the Storage Account. The inbound profile was set up to allow access from that subscription to the NSP so when I try and go to read my container on the storage account via a browser on my machine. I get greeted with this:\n\n![Picture15 1](https://zure.com/hubfs/Imported_Blog_Media/Picture15-1.png)\n\nTime to do some magic in the profile again and this time i´m just going to add my IP as an inbound rule for demo purposes.\n\n![Picture16 1](https://zure.com/hubfs/Imported_Blog_Media/Picture16-1.png)\n\nAfter doing the rule and refreshing the browser in the storage account view I can access the blob.\n\nJust to confirm that the NSP is working, I was denied access when trying from another IP-address.\n\n![Picture8 1 1](https://zure.com/hubfs/Imported_Blog_Media/Picture8-1-1.png)\n\n## Conclusion\n\nNetwork security perimeter is in Public Preview at the time (March, 2025) and is currently free. You should expect some sort of price tag either for it or for the service level of the PaaS service that supports it once it is in General Availability.\n\nI am ready for some costs as this greatly improves the security posture of your cloud environment and you get to get those critical and/or production PaaS resources behind a secure perimeter away from the grasp of the internet.\n\nOne big benefit that I did not cover here is the outbound rules as well. You get to control where the secured services can send data to by defining an FQDN where outbound traffic is allowed.\n\nManagement of Network security perimeter also seems a lot simpler (at least in my testing environment) than managing a virtual network, network security groups and private endpoints. I can only imagine the benefit especially in larger environments where complexity is greater.\n\n## We can help\n\nThere are many Azure environments where the benefits of cloud have been fully embraced. Meaning that PaaS resources have been taken into use with default setting and are accessed via the internet. The access however is not controlled on the network level that often. I hate the term silver bullet, but in a way, the network security perimeter is a sort of one. It is easy to implement and gets resources behind a perimeter where you know that anyone cannot try to access them via the internet.\n\nI hope this picked your interest. Feel free to reach out if you want us to check your environment and see if those networks need improvement!\n\n![Jere Haavisto](https://zure.com/hs-fs/hubfs/Profile%20pictures/Jere%201.jpg?width=608&amp;name=Jere%201.jpg)\n\nJere Haavisto\n\nJere has 8 years of experience in IT. He has worked in IT administration and as a service manager before transitioning to do cybersecurity in the cloud. Azure and Microsoft 365 cybersecurity professional with broad knowledge of internal IT management as well as everything in between. Jere especially loves identity and access related problems and troubleshooting as well as securing them. On his free time, he goes to the gym and paints miniatures.\n\n##\n\nRead these next\n\nBlog\n\n### [Welcome Aleksi and Olli!](https://zure.com/blog/welcome-aleksi-and-olli?hsLang=en)\n\nGuest Writer\n\n[News](https://zure.com/blog/tag/news)\n\nBlog\n\n### [Welcome Aleksi and Olli!](https://zure.com/blog/welcome-aleksi-and-olli?hsLang=en)\n\nGuest Writer\n\n[News](https://zure.com/blog/tag/news)\n\nBlog\n\n### [Fabric IQ – The new semantic layer for your organizational data](https://zure.com/blog/fabric-iq-the-new-semantic-layer-for-your-organizational-data?hsLang=en)\n\n![Lauri Lehman](https://zure.com/hs-fs/hubfs/Profile%20pictures/LauriLehman-01-lowres.jpg?width=220&amp;name=LauriLehman-01-lowres.jpg)\n\nLauri Lehman\n\nBlog\n\n### [Fabric IQ – The new semantic layer for your organizational data](https://zure.com/blog/fabric-iq-the-new-semantic-layer-for-your-organizational-data?hsLang=en)\n\n![Lauri Lehman](https://zure.com/hs-fs/hubfs/Profile%20pictures/LauriLehman-01-lowres.jpg?width=220&amp;name=LauriLehman-01-lowres.jpg)\n\nLauri Lehman\n\n[All articles](https://zure.com/insights?hsLang=en)",
  "FeedUrl": "https://zure.com/blog/rss.xml",
  "OutputDir": "_blogs",
  "FeedName": "Zure Data & AI Blog",
  "Tags": [
    "Blog",
    "Security"
  ],
  "ProcessedDate": "2026-01-01 15:29:23"
}
