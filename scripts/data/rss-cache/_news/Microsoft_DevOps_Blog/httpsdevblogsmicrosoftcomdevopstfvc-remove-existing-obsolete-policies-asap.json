{
  "Tags": [
    "#DevOps",
    "Azure & Cloud",
    "Azure DevOps",
    "Azure Repos",
    "Community",
    "TFVC"
  ],
  "Author": "Dan Hellem",
  "FeedUrl": "https://devblogs.microsoft.com/devops/feed/",
  "Link": "https://devblogs.microsoft.com/devops/tfvc-remove-existing-obsolete-policies-asap/",
  "ProcessedDate": "2026-02-18 17:22:02",
  "PubDate": "2026-02-18T16:35:23+00:00",
  "OutputDir": "_news",
  "EnhancedContent": "In April 2025, we [announced the deprecation schedule](https://devblogs.microsoft.com/devops/tfvc-policies-storage-updates/) for legacy TFVC check-in policies. This change was required due to limitations in how those policies were previously implemented and stored. The old policies have been marked as obsolete, and you can replace them by selecting the equivalent updated policy.\n\nWe are currently in Phase II of this transition. During this phase, you can still replace obsolete policies through Team Explorer. When attempting to check in, you‚Äôll also see a notification indicating that your configuration is out of compliance and still using obsolete policies.\n\n[![tfvc policy image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABOwAAALWAQMAAADPup43AAAAA1BMVEXW1taWrGEgAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAh0lEQVR4nO3BMQEAAADCoPVPbQsvoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICfAcL5AAHptNFUAAAAAElFTkSuQmCC)](https://devblogs.microsoft.com/devops/wp-content/uploads/sites/6/2026/02/tfvc-policy.webp)\n\nThe final phase of this transition is about to be completed. Once it takes effect, any remaining obsolete policies will block all users of the repository from checking in changes. These policies will also no longer be visible or manageable through Visual Studio Team Explorer.\n\nIf you are still using obsolete policies at that point, you will need to run a C# code snippet to remove them and restore compliance.\n\n## üìå Update Policies with Visual Studio\n\nIf you are able to do so, removing the obsolete policies through Team Explorer takes just a few minutes.\n\n1. Open Visual Studio\n2. Connect to the project\n3. Go to Team Explorer > Settings > Source Control\n4. Click on the **Check-in Policy** tab\n5. Add new policies and remove obsolete policies\n\n[![tfvc policy 2 image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABTwAAAQUAQMAAABu1UQ7AAAAA1BMVEXW1taWrGEgAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAwUlEQVR4nO3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8GyxUgABNYCO1wAAAABJRU5ErkJggg==)](https://devblogs.microsoft.com/devops/wp-content/uploads/sites/6/2026/02/tfvc-policy-2.webp)\n\n## üë®‚Äçüíª Update policies through C# app\n\nOne of the challenges in updating how we store policies is that TFVC is a legacy system. This makes it difficult to deprecate policies without disrupting customers or introducing higher-risk changes to older code paths. This situation highlights the complexities that can arise when updating legacy components. When these policies are deprecated, they are removed from the Team Explorer experience but remain in storage and must still be manually removed.\n\nWe strongly recommend replacing any obsolete policies now to avoid disruption. If it is too late and you are blocked, you can create a small C# application and run the provided code to remove the policies and unblock yourself.\n\nPlease note that you must be a Project Administrator in order to run the command and remove the obsolete policies.\n\n1. Open Visual Studio\n2. Create a new C# Console App using .Net Framework\n\n[![tfvc create proj image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABgAAAANLAQMAAAC9h8QgAAAAA1BMVEXW1taWrGEgAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAtUlEQVR4nO3BMQEAAADCoPVPbQ0PoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADg2gB7qQABuLex1gAAAABJRU5ErkJggg==)](https://devblogs.microsoft.com/devops/wp-content/uploads/sites/6/2026/02/tfvc-create-proj.webp)\n3. Open Solution Explorer. Right click on the project and add select **Manage NuGet packages**.\n\n[![tfvc nuget image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABQQAAAPqAQMAAAD/zsAQAAAAA1BMVEXW1taWrGEgAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAtElEQVR4nO3BgQAAAADDoPlTX+EAVQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwGnoyAAGmuKNwAAAAAElFTkSuQmCC)](https://devblogs.microsoft.com/devops/wp-content/uploads/sites/6/2026/02/tfvc-nuget.webp)\n4. Search for `Microsoft.TeamFoundationServer.ExtendedClient`\nand install.\n5. Open the `Program.cs`\nfile and add the following code into the Main method.\n\n``` var collectionUri = \"https://contoso.visualstudio.com/\"; var currentProjectName = \"fabrikam\";\n\nusing (TfsTeamProjectCollection tpc = new TfsTeamProjectCollection(new Uri(collectionUri))) { var versionControlServer = tpc.GetService<VersionControlServer>(); TeamProject teamProject = versionControlServer.GetTeamProject(currentProjectName); teamProject.SetCheckinPolicies(null); }\n\n```\n6. Update the `collectionUri`\nand `currentProjectName` variables to match your environment.\n7. Run the project.\n\nWhen the code begins to run, you may be prompted to sign in using the same identity you use for Azure DevOps. After signing in, the script will execute and remove the obsolete policies.\n\nOnce the process is complete, you can reopen Visual Studio to add policies for your project.\n\n## üëü Walk me through it\n\nTo learn more about migration and dealing with custom policies, be sure to read our [migration guide](https://learn.microsoft.com/en-us/azure/devops/repos/tfvc/tfvc-check-in-policy-migrate-guide).\n\nWe‚Äôve also put together a short video to guide you through both options for removing obsolete policies.\n\n[https://devblogs.microsoft.com/devops/wp-content/uploads/sites/6/2026/02/tfvc-steps-to-remove-obsolete-checkin-policies.mp4](https://devblogs.microsoft.com/devops/wp-content/uploads/sites/6/2026/02/tfvc-steps-to-remove-obsolete-checkin-policies.mp4)",
  "Title": "TFVC Remove Existing Obsolete Policies ASAP",
  "Description": "In April 2025, we announced the deprecation schedule for legacy TFVC check-in policies. This change was required due to limitations in how those policies were previously implemented and stored. The old policies have been marked as obsolete, and you can replace them by selecting the equivalent updated policy. We are currently in Phase II of [‚Ä¶]\n\nThe post [TFVC Remove Existing Obsolete Policies ASAP](https://devblogs.microsoft.com/devops/tfvc-remove-existing-obsolete-policies-asap/) appeared first on [Azure DevOps Blog](https://devblogs.microsoft.com/devops).",
  "FeedName": "Microsoft DevOps Blog",
  "FeedLevelAuthor": "Azure DevOps Blog"
}
