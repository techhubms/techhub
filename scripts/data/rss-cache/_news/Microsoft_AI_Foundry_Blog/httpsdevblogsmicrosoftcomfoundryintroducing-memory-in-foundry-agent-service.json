{
  "FeedUrl": "https://devblogs.microsoft.com/foundry/feed/",
  "Author": "Lewis Liu, Paul Hsu, Takuto Higuchi",
  "Title": "Introducing Memory in Foundry Agent Service",
  "FeedName": "Microsoft AI Foundry Blog",
  "Tags": [
    "Agent memory",
    "AIAgent",
    "MCP",
    "Memory",
    "Microsoft Foundry",
    "MSIgnite",
    "What's New"
  ],
  "Description": "Give your agents the power to remember Imagine your agent never asks the same question twice. Until now, most agents have been stateless. Each conversation resets to zero, forgetting what users said just minutes ago or weeks ago. Developers tried to bridge this gap with homegrown solutions — storing embeddings in databases, manually retrieving prior […]\n\nThe post [Introducing Memory in Foundry Agent Service](https://devblogs.microsoft.com/foundry/introducing-memory-in-foundry-agent-service/) appeared first on [Microsoft Foundry Blog](https://devblogs.microsoft.com/foundry).",
  "PubDate": "2025-11-25T16:00:48+00:00",
  "EnhancedContent": "## Give your agents the power to remember\n\nImagine your agent never asks the same question twice. Until now, most agents have been stateless. Each conversation resets to zero, forgetting what users said just minutes ago or weeks ago. Developers tried to bridge this gap with homegrown solutions — storing embeddings in databases, manually retrieving prior messages, or stuffing entire chat histories into prompts. These workarounds add latency, cost, and complexity, and still fall short of delivering truly personal, context-aware interactions.\n\nAt Ignite 2025, we introduced the **public preview of** **m** **emory** **in** **Foundry Agent Service** — a fully managed, long-term memory store natively integrated with our agent service. Memory empowers developers to seamlessly store, retrieve, and manage chat summaries, user preferences and critical context across sessions, devices, and workflows. With secure, high-quality memory, agents can deliver richer, more personalized experiences out-of-the-box. This unlocks more natural interactions and sustained engagement across your applications.\n\n## Developer-first: fast prototyping to enterprise scale\n\n**Start fast, scale seamlessly:** Build a prototype in minutes with out-of-the-box configuration, then scale easily to support millions of users and memories as your needs grow.\n\n**State-of-the-art quality:** Memory in Foundry Agent Service delivers outstanding performance from day one. We continually develop and apply the latest state-of-the-art techniques, so your agents benefit from the latest advances in memory retrieval, relevance, and personalization.\n\n**Unified API, flexible backends:** Use a unified interface to access your Foundry’s managed service or bring your own storage in the future. You get advanced retrieval, memory extraction, and consolidation — without added complexity.\n\n[![Foundry memory enablement](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAACSIAAAZkAQMAAADBFXtPAAAAA1BMVEXW1taWrGEgAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB6UlEQVR4nO3BMQEAAADCoPVPbQlPoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA+BldBAAHyFW/NAAAAAElFTkSuQmCC)](https://devblogs.microsoft.com/foundry/wp-content/uploads/sites/89/2025/11/Screenshot-2025-11-21-at-3.38.09-PM.webp)\n\nIn the Foundry portal, you can enable the memory feature with a single click. A memory store will be automatically created and configured for your agent. For advanced configurations or customizations, you can leverage our APIs and SDKs to get started.\n\n```py\n# Python sample\n# Create a memory store\nmemory_store_name = \"my_memory_store\" definition = MemoryStoreDefaultDefinition( chat_model=\"gpt-4.1\", embedding_model=\"text-embedding-3-small\", options=MemoryStoreDefaultOptions( user_profile_enabled=True, user_profile_details=\"Food preferences for a meal planning agent\", chat_summary_enabled=True ), )\n\nmemory_store = project_client.memory_stores.create( name=memory_store_name, description=\"Example memory store for conversations\", definition=definition, )\n\n# Add memories to the memory store\nscope = \"user123\" user_message = ResponsesUserMessageItemParam( content=\"I prefer dark roast coffee and usually drink it in the morning\" ) update_poller = project_client.memory_stores.begin_update_memories( name=memory_store.name, scope=scope, items=[user_message], update_delay=0, )\n\nupdate_result = update_poller.result()\n\n# Retrieve memories from the memory store\nquery_message = ResponsesUserMessageItemParam(content=\"What are my coffee preferences?\") search_response = project_client.memory_stores.search_memories( name=memory_store.name, scope=scope, items=[query_message], options=MemorySearchOptions(max_memories=5), )\n\n# Retrieve user profiles, typically you only need to call this once\nsearch_response = project_client.memory_stores.search_memories( name=memory_store.name, scope=scope ) ```\n\n## Memory behind the scenes\n\nThe memory in Foundry Agent Service enables agents to deliver seamless, context-rich experiences by managing memory in several phases for optimal performance:\n\n1. **Extract what matters:** When a user interacts with an agent, the system actively extracts key information such as user preferences, facts, and relevant context from the conversation. For example, preferences like “allergic to dairy” and facts about recent activities are identified and stored.\n2. **Consolidate to keep things clean**: Extracted memories are consolidated to keep the memory store efficient and relevant. We use LLMs to merge similar or duplicate topics, so the agent doesn’t store redundant information. Conflicting facts are detected (e.g., a new allergy) are resolved to maintain a single, accurate memory.\n3. **Retrieve where needed:** When the agent needs to recall information, it uses hybrid search techniques to find the most relevant memories. This allows the agent to quickly surface the right context, making conversations feel natural and informed. Core memories (like allergies, favorite products, or recurring requests) are retrieved at the beginning of a conversation, so the agent is immediately aware of the user’s core needs.\n4. **Customize the memory for your use case:** Developers can guide the memory store using the user\\_profile\\_details parameter to specify important topics. The system translates these cues into instructions for the underlying model, shaping how memory extraction, consolidation, and retrieval are performed. This flexibility ensures agents to focus on what matters most for your application.\n\nHere is an example of how memory can improve and personalize integration between a recipe agent and a user who expressed a food allergy in the past.\n\n[![How memory works with agent](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAyAQMAAACQ++z9AAAAA1BMVEXW1taWrGEgAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAD0lEQVQokWNgGAWjYGgCAAK8AAGBAoNpAAAAAElFTkSuQmCC)](https://devblogs.microsoft.com/foundry/wp-content/uploads/sites/89/2025/11/FoundryMemoryStore2-1.svg)\n\n## Our approach to quality\n\nWhen building memory in the Foundry Agent Service, we use rigorous techniques to deliver the best quality and performance. We rely on precise evaluation frameworks and iterative refinement to ensure that memory persistence and retrieval meet the highest standards. While we recognize that many existing public benchmark datasets have limitations, we address these by curating datasets that test different aspects of memory, from semantic fact recall to user preferences, and applying the resulting knowledge about the user to new situations.\n\nOur memory systematically extracts both user profile information and chat summaries from conversation histories. This approach preserves key information and details from past conversations, striving for faithfulness to the original contexts.\n\nAt its core, memory personalizes and streamlines interactions with agents, making conversations more natural and effective. Our evaluations measure the end-to-end quality of agents equipped with memory compared to those without — focusing on real-world scenarios. In recent tests, agents with memory in Foundry Agent Service achieved state-of-the-art and competitive performance on common memory benchmarks.\n\nThe memory space is evolving rapidly, and we are committed to pushing the boundary. We continuously invest in research, experimentation, and feedback-driven improvements.\n\n[![quality benchmark](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAFDAQMAAACeJ+6lAAAAA1BMVEXW1taWrGEgAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAP0lEQVR4nO3BMQEAAADCoPVPbQwfoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4G6LDAAFd0ZLNAAAAAElFTkSuQmCC)](https://devblogs.microsoft.com/foundry/wp-content/uploads/sites/89/2025/11/Screenshot-2025-11-19-at-5.53.45-PM.webp)\n\n\\* Accuracies are macro-averages\n\n\\* All results reported using text-embedding-3-small\n\n## Get Started\n\nMemory in Foundry Agent Service is now in public preview. Whether you’re building your first agent or scaling to thousands, you can start prototyping today.\n\n- [Start building with Foundry Portal](https://ai.azure.com/)\n\n- [Memory documentation](https://learn.microsoft.com/en-us/azure/ai-foundry/agents/concepts/agent-memory)\n\n- [Code samples](https://github.com/Azure/azure-sdk-for-python/tree/main/sdk/ai/azure-ai-projects/samples/memories)\n\nIf you’re watching Microsoft Ignite 2025 on-demand content later, be sure to check out these sessions:\n\n- [Innovation Session: Build & Manage AI Apps with Your Agent Factory](https://ignite.microsoft.com/en-US/sessions/BRK1706?source=sessions)\n\n- [AI agents in Microsoft Foundry, ship fast, scale fearlessly](https://ignite.microsoft.com/en-US/sessions/BRK189?source=sessions)\n\n- [AI powered automation & multi-agent orchestration in Microsoft Foundry](https://ignite.microsoft.com/en-US/sessions/BRK197?source=sessions)\n\n- [AI builder’s guide to agent development in Foundry Agent Service](https://ignite.microsoft.com/en-US/sessions/BRK201?source=sessions)",
  "OutputDir": "_news",
  "FeedLevelAuthor": "Microsoft Foundry Blog",
  "ProcessedDate": "2025-11-25 16:06:59",
  "Link": "https://devblogs.microsoft.com/foundry/introducing-memory-in-foundry-agent-service/"
}
