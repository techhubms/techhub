{
  "Tags": [],
  "OutputDir": "_community",
  "Description": "Modern API‑driven applications demand **global reach**, **high availability**, and **predictable latency**. Azure provides two complementary services that help achieve this: **Azure API Management (APIM)** as the API gateway and **Azure Front Door (AFD)** as the global entry point and load balancer.\n\nGoing over the available documentation available, my team and I found this article on how to front a [single-region APIM with an Azure Front Door](https://learn.microsoft.com/en-us/azure/api-management/front-door-api-management), but we wanted to extend this to a multi-region APIM as well. That led us to design the solution detailed in this article which explains how to configure **multi‑regional, active‑active** APIM behind Azure Front Door using **Custom origins** and regional gateway endpoints.\n\n***(I have also covered topics like why organizations commonly pair APIM with Front Door, when to use internal vs. external APIM modes, etc. but main topic first! Scroll down to the bottom for more info).***\n\n## **Configuring Multi‑Regional APIM with Azure Front Door**\n\n**WHAT TO KNOW:** If using APIM Premium with multi‑region gateways, each region exposes its own **regional gateway endpoint**, formatted as:\n\n> >\n> *https://--01.regional.azure-api.net*\n> >\n\n### **Examples:**\n\n- https://mydemo-apim-westeurope-01.regional.azure-api.net\n- https://mydemo-apim-eastus-01.regional.azure-api.net\n\nwhere 'mydemo' is the name of the APIM instance.\n\nYou will use these **regional endpoints** and configure them as a separate origin in Azure Front Door—using the **Custom origin type**.\n\n## **Solution Architecture**\n\n![]()\n\n## **Azure Front Door Configuration Steps**\n\n### **1. Create an Origin Group**\n\nInside your Front Door profile, define a group (Settings -> Origin Groups - > Add -> Add an origin) that will contain all APIM regional gateways. See images below:\n\n![]()![]()\n\n### **2. Add Each APIM Region as a Custom Origin**\n\nUse the **Custom** origin type:\n\n- **Origin type:**Custom\n- **Host name:** Use the APIM *regional* endpoint\nExample: mydemo-apim-westeurope-01.regional.azure-api.net\n- **Origin host header:** Same as the host name.\n- **Enable certificate subject name validation**\n(Recommended when private link or TLS integrity is required.)\n- **Priority:** Lower value = higher priority (for failover).\n- **Weight:** Controls how traffic is distributed across equally prioritized origins.\n- **Status:** Enable origin.\n\n![]()\n\n**And repeat the same steps for additional APIM regions giving them priority and weightage as you feel appropriate.**\n\n## **How to Know Which Region is being Invoked**\n\nTo test this setup, create 2 Virtual Machines (VMs) in Azure - one for each region. For this guide, we chose to create the VMs in West Europe and East US.\n\nOpen up a Command Prompt from the VM and do a curl on the sample Echo API that comes with every new APIM deployment:\n\n> >\n> Example: curl -v \"afd-blah.b01.azurefd.net/echo/resource?param1=sample\"\n> >\n\nYour results should show the region being hit as shown below:\n\n![]()\n\n## **How AFD Routes Traffic Across Multiple APIM Regions**\n\nAFD evaluates origins in this order:\n\n1. **Available instances** — the Health Probe removes unhealthy origins\n2. **Priority** — selects highest‑priority available origins\n3. **Latency** — optionally selects lowest‑latency pool\n4. **Weight** — round‑robin distribution across selected origins\n\n### **Example**\n\nWhen origins are configured as below:\n\n- West Europe (priority 1, weight 1000)\n- East US (priority 1, weight 500)\n- Central US (priority 2, weight 1000)\n\nAFD will:\n\n- Use West Europe + East US in a 1000:500 ratio.\n- Only use Central US if both West Europe & East US become unavailable.\n\nFor more information on this nice algorithm, see here: [Traffic routing methods to origin - Azure Front Door | Microsoft Learn](https://learn.microsoft.com/en-us/azure/frontdoor/routing-methods#overall-decision-flow)\n\n# **More Info (as promised)**\n\n## **Why Use Azure API Management?**\n\nAzure API Management is a fully managed service providing:\n\n#### **1. Centralized API Gateway**\n\n- Enforces policies such as authentication, rate limiting, transformations, and caching.\n- Acts as a single façade for backend services, enabling modernization without breaking existing clients.\n\n#### **2. Security & Governance**\n\n- Integrates with Azure AD, OAuth2, and mTLS (mutual TLS).\n- Provides threat protection and schema validation.\n\n#### **3. Developer Ecosystem**\n\n- Developer portal, API documentation, testing console, versioning, and releases.\n\n#### **4. Multi‑Region Gateways (Premium Tier)**\n\n- Allows deployment of additional regional gateways for active‑active, low‑latency global experiences.\n\n## **APIM Deployment Modes: Internal vs. External**\n\n#### **External Mode**\n\n- The APIM gateway is reachable **publicly** over the internet.\n- Common when:\n- Exposing APIs to partners, mobile apps, or public clients.\n- You can easily front this with an Azure Front Door for reasons listed in the next section.\n\n#### **Internal Mode**\n\n- APIM gateway is deployed inside a **VNet**, accessible only privately.\n- Used when:\n- APIs must stay private to an enterprise network.\n- Only internal consumers/VPN/VNet peered systems need access.\n- To make your APIM publicly accessible, you need to front it with **both an Application Gateway and an Azure Front Door**because:\n- Azure Front Door (AFD) **cannot** directly reach an internal‑mode APIM because AFD requires a **publicly routable origin**.\n- Application Gateway is a Layer‑7 reverse proxy that can expose a public frontend while still reaching internal private backends (like APIM gateway). [\\[Ref\\]](https://github.com/MicrosoftDocs/azure-docs/blob/main/articles/api-management/api-management-howto-integrate-internal-vnet-appgateway.md)\n\n## **But Why Put Azure Front Door in Front of API Management?**\n\nAzure Front Door provides capabilities that APIM alone does not offer:\n\n#### **1. Global Load Balancing**\n\n- As discussed above.\n\n#### **2. Edge Security**\n\n- Web Application Firewall, TLS termination at the edge, DDoS absorption.\n- Reduces load on API gateways.\n\n#### **3. Faster Global Performance**\n\n- Anycast network and global POPs reduce round‑trip latency before requests hit APIM.\n- A POP (Point of Presence) is an Azure Front Door edge location—a physical site in Microsoft’s global network where incoming user traffic first lands. Azure Front Door uses numerous global and local POPs strategically placed close to end‑users (both enterprise and consumer) to improve performance.\n- Anycast is a networking protocol Azure Front Door uses to improve global connectivity. Ref: [Traffic acceleration - Azure Front Door | Microsoft Learn](https://learn.microsoft.com/en-us/azure/frontdoor/front-door-traffic-acceleration?pivots=front-door-standard-premium#select-the-front-door-edge-location-for-the-request-anycast)\n\n#### **4. Unified Global Endpoint**\n\n- A **single public endpoint** (e.g., https://api.contoso.com) that intelligently distributes traffic across **multiple APIM regions.**\n\n**With all of the above features, it is best to pair API Management with a Front Door, especially when dealing with multi-region architectures.**\n\n**Credits:**\n\n*Junee Singh, Senior Solution Engineer at Microsoft*\n\n*Isiah Hudson, Senior Solution Engineer at Microsoft*",
  "FeedLevelAuthor": "rss.livelink.threads-in-node",
  "ProcessedDate": "2026-02-20 08:09:56",
  "Title": "Using Azure API Management with Azure Front Door for Global, Multi‑Region Architectures",
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure",
  "EnhancedContent": "## For all Azure API Management (APIM) users who leverage a multi-region setup Active-Active setup and would like to add an Azure Front door protecting your APIM instance.\n\nModern API‑driven applications demand **global reach**, **high availability**, and **predictable latency**. Azure provides two complementary services that help achieve this: **Azure API Management (APIM)** as the API gateway and **Azure Front Door (AFD)** as the global entry point and load balancer.\n\nGoing over the available documentation available, my team and I found this article on how to front a [single-region APIM with an Azure Front Door](https://learn.microsoft.com/en-us/azure/api-management/front-door-api-management), but we wanted to extend this to a multi-region APIM as well. That led us to design the solution detailed in this article which explains how to configure **multi‑regional, active‑active** APIM behind Azure Front Door using **Custom origins** and regional gateway endpoints.\n\n***(I have also covered topics like why organizations commonly pair APIM with Front Door, when to use internal vs. external APIM modes, etc. but main topic first! Scroll down to the bottom for more info).***\n\n## **Configuring Multi‑Regional APIM with Azure Front Door**\n\n**WHAT TO KNOW:** If using APIM Premium with multi‑region gateways, each region exposes its own **regional gateway endpoint**, formatted as:\n\n> >\n> *https://&lt;service-name&gt;-&lt;region&gt;-01.regional.azure-api.net*\n> >\n\n### **Examples:**\n\n- https://mydemo-apim-westeurope-01.regional.azure-api.net\n- https://mydemo-apim-eastus-01.regional.azure-api.net\n\nwhere 'mydemo' is the name of the APIM instance.\n\nYou will use these **regional endpoints** and configure them as a separate origin in Azure Front Door—using the **Custom origin type**.\n\n## **Solution Architecture**\n\n## **Azure Front Door Configuration Steps**\n\n### **1. Create an Origin Group**\n\nInside your Front Door profile, define a group (Settings -&gt; Origin Groups - &gt; Add -&gt; Add an origin) that will contain all APIM regional gateways. See images below:\n\n### **2. Add Each APIM Region as a Custom Origin**\n\nUse the **Custom** origin type:\n\n- **Origin type:**Custom\n- **Host name:** Use the APIM *regional* endpoint\nExample: mydemo-apim-westeurope-01.regional.azure-api.net\n- **Origin host header:** Same as the host name.\n- **Enable certificate subject name validation**\n(Recommended when private link or TLS integrity is required.)\n- **Priority:** Lower value = higher priority (for failover).\n- **Weight:** Controls how traffic is distributed across equally prioritized origins.\n- **Status:** Enable origin.\n\n**And repeat the same steps for additional APIM regions giving them priority and weightage as you feel appropriate.**\n\n## **How to Know Which Region is being Invoked**\n\nTo test this setup, create 2 Virtual Machines (VMs) in Azure - one for each region. For this guide, we chose to create the VMs in West Europe and East US.\n\nOpen up a Command Prompt from the VM and do a curl on the sample Echo API that comes with every new APIM deployment:\n\n> >\n> Example: curl -v \"afd-blah.b01.azurefd.net/echo/resource?param1=sample\"\n> >\n\nYour results should show the region being hit as shown below:\n\n## **How AFD Routes Traffic Across Multiple APIM Regions**\n\nAFD evaluates origins in this order:\n\n1. **Available instances** — the Health Probe removes unhealthy origins\n2. **Priority** — selects highest‑priority available origins\n3. **Latency** — optionally selects lowest‑latency pool\n4. **Weight** — round‑robin distribution across selected origins\n\n### **Example**\n\nWhen origins are configured as below:\n\n- West Europe (priority 1, weight 1000)\n- East US (priority 1, weight 500)\n- Central US (priority 2, weight 1000)\n\nAFD will:\n\n- Use West Europe + East US in a 1000:500 ratio.\n- Only use Central US if both West Europe & East US become unavailable.\n\nFor more information on this nice algorithm, see here: [Traffic routing methods to origin - Azure Front Door | Microsoft Learn](https://learn.microsoft.com/en-us/azure/frontdoor/routing-methods#overall-decision-flow)\n\n# **More Info (as promised)**\n\n## **Why Use Azure API Management?**\n\nAzure API Management is a fully managed service providing:\n\n#### **1. Centralized API Gateway**\n\n- Enforces policies such as authentication, rate limiting, transformations, and caching.\n- Acts as a single façade for backend services, enabling modernization without breaking existing clients.\n\n#### **2. Security & Governance**\n\n- Integrates with Azure AD, OAuth2, and mTLS (mutual TLS).\n- Provides threat protection and schema validation.\n\n#### **3. Developer Ecosystem**\n\n- Developer portal, API documentation, testing console, versioning, and releases.\n\n#### **4. Multi‑Region Gateways (Premium Tier)**\n\n- Allows deployment of additional regional gateways for active‑active, low‑latency global experiences.\n\n## **APIM Deployment Modes: Internal vs. External**\n\n#### **External Mode**\n\n- The APIM gateway is reachable **publicly** over the internet.\n- Common when:\n- Exposing APIs to partners, mobile apps, or public clients.\n- You can easily front this with an Azure Front Door for reasons listed in the next section.\n\n#### **Internal Mode**\n\n- APIM gateway is deployed inside a **VNet**, accessible only privately.\n- Used when:\n- APIs must stay private to an enterprise network.\n- Only internal consumers/VPN/VNet peered systems need access.\n- To make your APIM publicly accessible, you need to front it with **both an Application Gateway and an Azure Front Door**because:\n- Azure Front Door (AFD) **cannot** directly reach an internal‑mode APIM because AFD requires a **publicly routable origin**.\n- Application Gateway is a Layer‑7 reverse proxy that can expose a public frontend while still reaching internal private backends (like APIM gateway). [\\[Ref\\]](https://github.com/MicrosoftDocs/azure-docs/blob/main/articles/api-management/api-management-howto-integrate-internal-vnet-appgateway.md)\n\n## **But Why Put Azure Front Door in Front of API Management?**\n\nAzure Front Door provides capabilities that APIM alone does not offer:\n\n#### **1. Global Load Balancing**\n\n- As discussed above.\n\n#### **2. Edge Security**\n\n- Web Application Firewall, TLS termination at the edge, DDoS absorption.\n- Reduces load on API gateways.\n\n#### **3. Faster Global Performance**\n\n- Anycast network and global POPs reduce round‑trip latency before requests hit APIM.\n- A POP (Point of Presence) is an Azure Front Door edge location—a physical site in Microsoft’s global network where incoming user traffic first lands. Azure Front Door uses numerous global and local POPs strategically placed close to end‑users (both enterprise and consumer) to improve performance.\n- Anycast is a networking protocol Azure Front Door uses to improve global connectivity. Ref: [Traffic acceleration - Azure Front Door | Microsoft Learn](https://learn.microsoft.com/en-us/azure/frontdoor/front-door-traffic-acceleration?pivots=front-door-standard-premium#select-the-front-door-edge-location-for-the-request-anycast)\n\n#### **4. Unified Global Endpoint**\n\n- A **single public endpoint** (e.g., https://api.contoso.com) that intelligently distributes traffic across **multiple APIM regions.**\n\n**With all of the above features, it is best to pair API Management with a Front Door, especially when dealing with multi-region architectures.**\n\n**Credits:**\n\n*Junee Singh, Senior Solution Engineer at Microsoft*\n\n*Isiah Hudson, Senior Solution Engineer at Microsoft*\n\nUpdated Feb 12, 2026\n\nVersion 1.0\n\n[api design](/tag/api%20design?nodeId=board%3AAzureDevCommunityBlog)\n\n[azure deployment environments](/tag/azure%20deployment%20environments?nodeId=board%3AAzureDevCommunityBlog)\n\n[best practices](/tag/best%20practices?nodeId=board%3AAzureDevCommunityBlog)\n\n[performance](/tag/performance?nodeId=board%3AAzureDevCommunityBlog)\n\n[software architecture](/tag/software%20architecture?nodeId=board%3AAzureDevCommunityBlog)\n\n[!\\[juneesingh&#x27;s avatar\\](https://techcommunity.microsoft.com/t5/s/gxcuf89792/m_assets/avatars/default/avatar-6.svg?image-dimensions=50x50)](/users/juneesingh/2949155) [juneesingh](/users/juneesingh/2949155) ![Icon for Microsoft rank](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/cmstNC05WEo0blc?image-dimensions=100x16&amp;constrain-image=true)Microsoft\n\nJoined March 11, 2025\n\n[View Profile](/users/juneesingh/2949155)\n\n/category/azure/blog/azuredevcommunityblog [Microsoft Developer Community Blog](/category/azure/blog/azuredevcommunityblog) Follow this blog board to get notified when there's new activity",
  "PubDate": "2026-02-20T08:00:00+00:00",
  "FeedName": "Microsoft Tech Community",
  "Author": "juneesingh",
  "Link": "https://techcommunity.microsoft.com/t5/microsoft-developer-community/using-azure-api-management-with-azure-front-door-for-global/ba-p/4492384"
}
