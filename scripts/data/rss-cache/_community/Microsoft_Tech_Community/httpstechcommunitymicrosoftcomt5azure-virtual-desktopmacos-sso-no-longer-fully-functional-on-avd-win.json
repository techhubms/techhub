{
  "FeedLevelAuthor": "rss.livelink.threads-in-node",
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure",
  "Title": "macOS: SSO no longer fully functional on AVD (Win11 25H2)",
  "Author": "FT_1",
  "PubDate": "2026-02-12T10:57:27+00:00",
  "OutputDir": "_community",
  "Tags": [],
  "Description": "Hello everyone,\n\nSince updating our Test Azure Virtual Desktop Session Hosts from Windows 11 23h2 to 25H2 (26200.7462) , we've been experiencing an SSO issue that exclusively affects macOS clients.\n\nSymptoms\n\nFor macOS users (Windows App), the following issues occur:\n\nExample Teams\n\n- Teams shows the user as \"Unknown User\"\n- Chat and collaboration features fail to load\n- Error message: \"You need to sign in again. This may be a requirement from your IT department or Teams, or the result of a password update. - Sign in\"\n- After clicking \"Sign in,\" only a window appears with \"Continue with sign-in\" (no PW/MFA prompt)\n- After this, all other applications work without further authentication\n\nTechnical Details\n\nmacOS Device:\n\nAppleM4 Pro macOS Tahoe 26.2\n\nInstalled WindowsApp version:\n\n11.3.2 (2848)\n\ndsregcmd /status:\n\n- No errors detected\n- PRT is active and was updated for sign-in\n\nEntra Sign-In Logs:\n\n- Error code: 9002341\n\nEventLog on Session Host (AAD-Operational):\n\nEvent ID: 1098 Error: 0xCAA2000C The request requires user interaction. Code: interaction\\_required Description: AADSTS9002341: User is required to permit SSO. Event ID: 1097 Error: 0xCAA90056 Renew token by the primary refresh token failed. Logged at RefreshTokenRequest.cpp, line: 148, method: RefreshTokenRequest::AcquireToken.\n\nObservations\n\n- Affects: Both managed (internal) and unmanaged (external) macOS devices\n- Does NOT affect: Windows clients connecting via Windows App\n- Interesting: If a macOS user starts the session (with the error) and then reconnects on a Windows device, authentication works automatically there\n\nWorkaround\n\nThe issue can be resolved for macOS clients by removing the \"DE\" flag from \"Automatic app sign-in\" in the following file:\n\nC:\\Windows\\System32\\IntegratedServicesRegionPolicySet.json\n\nQuestions\n\n1. Is this a known issue?\n2. Has anyone experienced similar issues with macOS clients after the 25H2 update?\n3. Why does this issue only occur with macOS clients?\n4. Why does SSO only work after removing the \"DE\" flag for macOS devices, and why are Windows devices not affected?\n\nI would appreciate any insights or confirmation of this issue!\n\nThank you and greetings FT\\_1",
  "FeedName": "Microsoft Tech Community",
  "Link": "https://techcommunity.microsoft.com/t5/azure-virtual-desktop/macos-sso-no-longer-fully-functional-on-avd-win11-25h2/m-p/4494544#M14001",
  "ProcessedDate": "2026-02-12 23:06:00",
  "EnhancedContent": "Hello everyone,\n\nSince updating our Test Azure Virtual Desktop Session Hosts from Windows 11 23h2 to 25H2 (26200.7462) , we've been experiencing an SSO issue that exclusively affects macOS clients.\n\nSymptoms\n\nFor macOS users (Windows App), the following issues occur:\n\nExample Teams\n\n- Teams shows the user as \"Unknown User\"\n- Chat and collaboration features fail to load\n- Error message: \"You need to sign in again. This may be a requirement from your IT department or Teams, or the result of a password update. - Sign in\"\n- After clicking \"Sign in,\" only a window appears with \"Continue with sign-in\" (no PW/MFA prompt)\n- After this, all other applications work without further authentication\n\nTechnical Details\n\nmacOS Device:\n\nAppleM4 Pro macOS Tahoe 26.2\n\nInstalled WindowsApp version:\n\n11.3.2 (2848)\n\ndsregcmd /status:\n\n- No errors detected\n- PRT is active and was updated for sign-in\n\nEntra Sign-In Logs:\n\n- Error code: 9002341\n\nEventLog on Session Host (AAD-Operational):\n\nEvent ID: 1098 Error: 0xCAA2000C The request requires user interaction. Code: interaction\\_required Description: AADSTS9002341: User is required to permit SSO. Event ID: 1097 Error: 0xCAA90056 Renew token by the primary refresh token failed. Logged at RefreshTokenRequest.cpp, line: 148, method: RefreshTokenRequest::AcquireToken.\n\nObservations\n\n- Affects: Both managed (internal) and unmanaged (external) macOS devices\n- Does NOT affect: Windows clients connecting via Windows App\n- Interesting: If a macOS user starts the session (with the error) and then reconnects on a Windows device, authentication works automatically there\n\nWorkaround\n\nThe issue can be resolved for macOS clients by removing the \"DE\" flag from \"Automatic app sign-in\" in the following file:\n\nC:\\Windows\\System32\\IntegratedServicesRegionPolicySet.json\n\nQuestions\n\n1. Is this a known issue?\n2. Has anyone experienced similar issues with macOS clients after the 25H2 update?\n3. Why does this issue only occur with macOS clients?\n4. Why does SSO only work after removing the \"DE\" flag for macOS devices, and why are Windows devices not affected?\n\nI would appreciate any insights or confirmation of this issue!\n\nThank you and greetings FT\\_1"
}
