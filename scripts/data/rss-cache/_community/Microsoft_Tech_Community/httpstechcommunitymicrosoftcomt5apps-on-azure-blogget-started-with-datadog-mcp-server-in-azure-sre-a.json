{
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure",
  "Author": "dbandaru",
  "Link": "https://techcommunity.microsoft.com/t5/apps-on-azure-blog/get-started-with-datadog-mcp-server-in-azure-sre-agent/ba-p/4497123",
  "Title": "Get started with Datadog MCP server in Azure SRE Agent",
  "OutputDir": "_community",
  "PubDate": "2026-02-25T16:56:04+00:00",
  "FeedName": "Microsoft Tech Community",
  "Description": "# Get started with Datadog MCP server in Azure SRE Agent\n\nConnect Azure SRE Agent to Datadog's observability platform using the official Datadog MCP server for logs, metrics, traces, incidents, and more.\n\n## Overview\n\nThe Datadog MCP server is a cloud-hosted bridge between your Datadog organization and Azure SRE Agent. Once configured, it enables real-time interaction with logs, metrics, APM traces, monitors, incidents, dashboards, and other Datadog data through natural language. All actions respect your existing Datadog RBAC permissions.\n\nThe server uses **Streamable HTTP** transport with two custom headers (`DD_API_KEY` and `DD_APPLICATION_KEY` ) for authentication. Azure SRE Agent connects directly to the Datadog-hosted endpoint—no npm packages, local proxies, or container deployments are required. The SRE Agent portal includes a **dedicated Datadog MCP server connector type** that pre-populates the required header keys for streamlined setup.\n\n### Key capabilities\n\n| Area | Capabilities | | --- | --- | | **Logs** | Search and analyze logs with SQL-based queries, filter by facets and time ranges | | **Metrics** | Query metric values, explore available metrics, get metric metadata and tags | | **APM** | Search spans, fetch complete traces, analyze trace performance, compare traces | | **Monitors** | Search monitors, validate configurations, inspect monitor groups and templates | | **Incidents** | Search and get incident details, view timeline and responders | | **Dashboards** | Search and list dashboards by name or tag | | **Hosts** | Search hosts by name, tags, or status | | **Services** | List services and map service dependencies | | **Events** | Search events including monitor alerts, deployments, and custom events | | **Notebooks** | Search and retrieve notebooks for investigation documentation | | **RUM** | Search Real User Monitoring events for frontend observability |\n\n> >\n> [!NOTE]\n> This is the official Datadog-hosted MCP server (Preview). The server exposes **16+ core tools** with additional toolsets available for alerting, APM, Database Monitoring, Error Tracking, feature flags, LLM Observability, networking, security, software delivery, and Synthetic tests. Tool availability depends on your Datadog plan and RBAC permissions.\n> >\n\n## Prerequisites\n\n- Azure SRE Agent resource deployed in Azure\n- Datadog organization with an active plan\n- Datadog user account with appropriate RBAC permissions\n- **API key**: Created from Organization Settings > API Keys\n- **Application key**: Created from Organization Settings > Application Keys with `MCP Read`\nand/or `MCP Write` permissions\n- Your organization must be allowlisted for the Datadog MCP server Preview\n\n## Step 1: Create API and Application keys\n\nThe Datadog MCP server requires two credentials: an **API key** (identifies your organization) and an **Application key** (authenticates the user and defines permission scope). Both are created in the Datadog portal.\n\n### Create an API key\n\n1. Log in to your [Datadog organization](https://app.datadoghq.com/) (use your region-specific URL if applicable—e.g., `app.datadoghq.eu`\nfor EU1)\n2. Select your **account avatar** in the bottom-left corner of the navigation bar\n3. Select **Organization Settings**\n4. In the left sidebar, select **API Keys** (under the *Access* section)\n5. Direct URL: `https://app.datadoghq.com/organization-settings/api-keys`\n6. Select **+ New Key** in the top-right corner\n7. Enter a descriptive name (e.g., `sre-agent-mcp`\n)\n8. Select **Create Key**\n9. Copy the key value immediately—it is shown only once. If lost, you must create a new key.\n\n> >\n> [!TIP]\n> API keys are organization-level credentials. Any Datadog Admin or user with the `API Keys Write`\n> permission can create them. The API key alone does not grant data access—it must be paired with an Application key.\n> >\n\n### Create an Application key\n\n1. From the same **Organization Settings** page, select **Application Keys** in the left sidebar\n2. Direct URL: `https://app.datadoghq.com/organization-settings/application-keys`\n3. Select **+ New Key** in the top-right corner\n4. Enter a descriptive name (e.g., `sre-agent-mcp-app`\n)\n5. Select **Create Key**\n6. Copy the key value immediately—it is shown only once\n\n### Add MCP permissions to the Application key\n\nAfter creating the Application key, you must grant it the MCP-specific scopes:\n\n1. In the **Application Keys** list, locate the key you just created\n2. Select the **key name** to open its detail panel\n3. In the detail panel, find the **Scopes** section and select **Edit**\n4. Search for `MCP`\nin the scopes search box\n5. Check **MCP Read** to enable read access to Datadog data via MCP tools\n6. Optionally check **MCP Write** if your agent needs to create or modify resources (e.g., feature flags, Synthetic tests)\n7. Select **Save**\n\n> >\n> [!NOTE]\n> If you don't see the `MCP Read`\n> or `MCP Write`\n> scopes, your organization may not be enrolled in the Datadog MCP server preview. Contact your Datadog account representative to request access.\n> >\n\n### Required permissions summary\n\n| Permission | Description | Required? | | --- | --- | --- | | `MCP Read` | Read access to Datadog data via MCP tools (logs, metrics, traces, monitors, etc.) | Yes | | `MCP Write` | Write access for mutating operations (creating feature flags, editing Synthetic tests, etc.) | Optional |\n\n> >\n> [!IMPORTANT]\n> For production use, create keys from a **service account** rather than a personal account. Navigate to **Organization Settings** > **Service Accounts** to create one. This ensures the integration continues to work if team members leave the organization. Apply the principle of least privilege—grant only `MCP Read`\n> unless write operations are needed.\n> > >\n> [!TIP]\n> Use **scoped Application keys** to restrict access to only the permissions your agent needs. This limits blast radius if a key is compromised.\n> >\n\n## Step 2: Add the MCP connector\n\nConnect the Datadog MCP server to your SRE Agent using the portal. The portal includes a dedicated Datadog connector type that pre-populates the required configuration.\n\n### Determine your regional endpoint\n\nSelect the endpoint URL that matches your Datadog organization's region:\n\n| Region | Endpoint URL | | --- | --- | | **US1** (default) | `https://mcp.datadoghq.com/api/unstable/mcp-server/mcp` | | **US3** | `https://mcp.us3.datadoghq.com/api/unstable/mcp-server/mcp` | | **US5** | `https://mcp.us5.datadoghq.com/api/unstable/mcp-server/mcp` | | **EU1** | `https://mcp.datadoghq.eu/api/unstable/mcp-server/mcp` | | **AP1** | `https://mcp.ap1.datadoghq.com/api/unstable/mcp-server/mcp` | | **AP2** | `https://mcp.ap2.datadoghq.com/api/unstable/mcp-server/mcp` |\n\n### Using the Azure portal\n\n1. In Azure portal, navigate to your SRE Agent resource\n2. Select **Builder** > **Connectors**\n3. Select **Add connector**\n4. Select **Datadog MCP server** and select **Next**\n\n![Select ](https://techcommunity.microsoft.com/t5/datadog-02-select-connector.png)\n\n1. Configure the connector:\n\n| Field | Value | | --- | --- | | **Name** | `datadog-mcp` | | **Connection type** | Streamable-HTTP (pre-selected) | | **URL** | `https://mcp.datadoghq.com/api/unstable/mcp-server/mcp`<br> (change for non-US1 regions) | | **Authentication** | Custom headers (pre-selected, disabled) | | **DD\\_API\\_KEY** | Your Datadog API key | | **DD\\_APPLICATION\\_KEY** | Your Datadog Application key |\n\n1. Select **Next** to review\n\n![Configure the Datadog MCP connector with the endpoint URL, DD_API_KEY, and DD_APPLICATION_KEY fields](https://techcommunity.microsoft.com/t5/datadog-03-config-form.png)\n\n1. Select **Add connector**\n\n> >\n> [!NOTE]\n> The Datadog connector type pre-populates both header keys (`DD_API_KEY`\n> and `DD_APPLICATION_KEY`\n> ) and sets the authentication method to \"Custom headers\" automatically. The default URL is the US1 endpoint—update it if your organization is in a different region.\n> > >\n> [!NOTE]\n> Once the connector shows **Connected** status, the Datadog MCP tools are automatically available to your agent. You can verify by checking the tools list in the connector details.\n> >\n\n![Connectors list showing datadog-mcp with Connected status](https://techcommunity.microsoft.com/t5/datadog-01-connectors-list.png)\n\n## Step 3: Create a Datadog subagent (optional)\n\nCreate a specialized subagent to give the AI focused Datadog observability expertise and better prompt responses.\n\n1. Navigate to **Builder** > **Subagents**\n2. Select **Add subagent**\n3. Paste the following YAML configuration:\n\n``` api_version: azuresre.ai/v1 kind: AgentConfiguration metadata: owner: your-team@contoso.com version: \"1.0.0\" spec: name: DatadogObservabilityExpert display_name: Datadog Observability Expert\n\nsystem_prompt: | You are a Datadog observability expert with access to logs, metrics, APM traces, monitors, incidents, dashboards, hosts, services, and more via the Datadog MCP server.\n\n## Capabilities\n\n### Logs\n- Search logs using facets, tags, and time ranges with `search_datadog_logs`\n- Perform SQL-based log analysis with `analyze_datadog_logs` for aggregations,\ngrouping, and statistical queries\n- Correlate log entries with traces and metrics\n\n### Metrics\n- Query metric time series with `get_datadog_metric`\n- Get metric metadata, tags, and context with `get_datadog_metric_context`\n- Discover available metrics with `search_datadog_metrics`\n\n### APM (Application Performance Monitoring)\n- Fetch complete traces with `get_datadog_trace`\n- Search distributed traces and spans with `search_datadog_spans`\n- Analyze service-level performance and latency patterns\n- Map service dependencies with `search_datadog_service_dependencies`\n\n### Monitors & Alerting\n- Search monitors by name, tag, or status with `search_datadog_monitors`\n- Investigate triggered monitors and alert history\n- Correlate monitor alerts with underlying metrics and logs\n\n### Incidents\n- Search incidents with `search_datadog_incidents`\n- Get incident details, timeline, and responders with `get_datadog_incident`\n- Correlate incidents with monitors, logs, and traces\n\n### Infrastructure\n- Search hosts by name, tag, or status with `search_datadog_hosts`\n- List and discover services with `search_datadog_services`\n- Search dashboards with `search_datadog_dashboards`\n- Search events (monitor alerts, deployments) with `search_datadog_events`\n\n### Notebooks\n- Search notebooks with `search_datadog_notebooks`\n- Retrieve notebook content with `get_datadog_notebook`\n\n### Real User Monitoring\n- Search RUM events for frontend performance data with `search_datadog_rum_events`\n\n## Best Practices\n\nWhen investigating incidents:\n- Start with `search_datadog_incidents` or `get_datadog_incident` for context\n- Check related monitors with `search_datadog_monitors`\n- Correlate with `search_datadog_logs` and `get_datadog_metric` for root cause\n- Use `get_datadog_trace` to inspect request flows for latency issues\n- Check `search_datadog_hosts` for infrastructure-level problems\n\nWhen analyzing logs:\n- Use `analyze_datadog_logs` for SQL-based aggregation queries\n- Use `search_datadog_logs` for individual log retrieval and filtering\n- Include time ranges to narrow results and reduce response size\n- Filter by service, host, or status to focus on relevant data\n\nWhen working with metrics:\n- Use `search_datadog_metrics` to discover available metric names\n- Use `get_datadog_metric_context` to understand metric tags and metadata\n- Use `get_datadog_metric` to query actual metric values with time ranges\n\nWhen handling errors:\n- If access is denied, explain which RBAC permission is needed\n- Suggest the user verify their Application key has `MCP Read` or `MCP Write`\n- For large traces that appear truncated, note this is a known limitation\n\nmcp_connectors:\n- datadog-mcp\n\nhandoffs: []\n\n```\n\n1. Select **Save**\n\n> >\n> [!NOTE]\n> The `mcp_connectors`\n> field references the connector name you created in Step 2. This gives the subagent access to all tools provided by the Datadog MCP server.\n> >\n\n## Step 4: Add a Datadog skill (optional)\n\nSkills provide contextual knowledge and best practices that help agents use tools more effectively. Create a Datadog skill to give your agent expertise in log queries, metric analysis, and incident investigation workflows.\n\n1. Navigate to **Builder** > **Skills**\n2. Select **Add skill**\n3. Paste the following skill configuration:\n\n``` api_version: azuresre.ai/v1 kind: SkillConfiguration metadata: owner: your-team@contoso.com version: \"1.0.0\" spec: name: datadog_observability display_name: Datadog Observability\n\ndescription: | Expertise in Datadog's observability platform including logs, metrics, APM, monitors, incidents, dashboards, hosts, and services. Use for searching logs, querying metrics, investigating incidents, analyzing traces, inspecting monitors, and navigating Datadog data via the Datadog MCP server.\n\ninstructions: |\n## Overview\n\nDatadog is a cloud-scale observability platform for logs, metrics, APM traces, monitors, incidents, infrastructure, and more. The Datadog MCP server enables natural language interaction with your organization's Datadog data.\n\n**Authentication:** Two custom headers—`DD_API_KEY` (API key) and `DD_APPLICATION_KEY` (Application key with MCP permissions). All actions respect existing RBAC permissions.\n\n**Regional endpoints:** The MCP server URL varies by Datadog region (US1, US3, US5, EU1, AP1, AP2). Ensure the connector URL matches your organization's region.\n\n## Searching Logs\n\nUse `search_datadog_logs` for individual log retrieval and `analyze_datadog_logs` for SQL-based aggregation queries.\n\n**Common log search patterns:**\n\n```\n# Errors from a specific service\nservice:payment-api status:error\n\n# Logs from a host in the last hour\nhost:web-prod-01\n\n# Logs containing a specific trace ID\ntrace_id:abc123def456\n\n# Errors with a specific HTTP status\n@http.status_code:500 service:api-gateway\n\n# Logs from a Kubernetes pod\nkube_namespace:production kube_deployment:checkout-service ```\n\n**SQL-based log analysis with `analyze_datadog_logs`:**\n\n```sql -- Count errors by service in the last hour SELECT service, count(*) as error_count FROM logs WHERE status = 'error' GROUP BY service ORDER BY error_count DESC\n\n-- Average response time by endpoint SELECT @http.url_details.path, avg(@duration) as avg_duration FROM logs WHERE service = 'api-gateway' GROUP BY @http.url_details.path ```\n\n## Querying Metrics\n\nUse `search_datadog_metrics` to discover metrics, `get_datadog_metric_context` for metadata, and `get_datadog_metric` for time series data.\n\n**Common metric patterns:**\n\n```\n# System metrics\nsystem.cpu.user, system.mem.used, system.disk.used\n\n# Container metrics\ndocker.cpu.usage, kubernetes.cpu.requests\n\n# Application metrics\ntrace.servlet.request.hits, trace.servlet.request.duration\n\n# Custom metrics\napp.payment.processed, app.queue.depth ```\n\nAlways specify a time range when querying metrics to avoid retrieving excessive data.\n\n## Investigating Traces\n\nUse `get_datadog_trace` for complete trace details and `search_datadog_spans` for span-level queries.\n\n**Trace investigation workflow:**\n1. Search for slow or errored spans with `search_datadog_spans`\n2. Get the full trace with `get_datadog_trace` using the trace ID\n3. Identify the bottleneck service or operation\n4. Correlate with `search_datadog_logs` using the trace ID\n5. Check related metrics with `get_datadog_metric`\n\n## Working with Monitors\n\nUse `search_datadog_monitors` to find monitors by name, tag, or status.\n\n**Common monitor queries:**\n\n```\n# Find all triggered monitors\nSearch for monitors with status \"Alert\"\n\n# Find monitors for a specific service\nSearch for monitors tagged with service:payment-api\n\n# Find monitors by name\nSearch for monitors matching \"CPU\" or \"memory\" ```\n\n## Incident Investigation Workflow\n\nFor structured incident investigation:\n1. `search_datadog_incidents` — find recent or active incidents\n2. `get_datadog_incident` — get full incident details and timeline\n3. `search_datadog_monitors` — check which monitors triggered\n4. `search_datadog_logs` — search for errors around the incident time\n5. `get_datadog_metric` — check key metrics for anomalies\n6. `get_datadog_trace` — inspect request traces for latency or errors\n7. `search_datadog_hosts` — verify infrastructure health\n8. `search_datadog_service_dependencies` — map affected services\n\n## Working with Dashboards and Notebooks\n\n- Use `search_datadog_dashboards` to find dashboards by title or tag\n- Use `search_datadog_notebooks` and `get_datadog_notebook` for investigation\nnotebooks that document past analyses\n\n## Toolsets\n\nThe Datadog MCP server supports toolsets via the `?toolsets=` query parameter on the endpoint URL. Available toolsets:\n\n| Toolset | Description | |---------|-------------| | `core` | Logs, metrics, traces, dashboards, monitors, incidents, hosts, services, events, notebooks (default) | | `alerting` | Monitor validation, groups, and templates | | `apm` | Trace analysis, span search, Watchdog insights, performance investigation | | `dbm` | Database Monitoring query plans and samples | | `error-tracking` | Error Tracking issues across RUM, Logs, and Traces | | `feature-flags` | Creating, listing, and updating feature flags | | `llmobs` | LLM Observability spans | | `networks` | Cloud Network Monitoring, Network Device Monitoring | | `onboarding` | Guided Datadog setup and configuration | | `security` | Code security scanning, security signals, findings | | `software-delivery` | CI Visibility, Test Optimization | | `synthetics` | Synthetic test management |\n\nTo enable additional toolsets, append `?toolsets=core,apm,alerting` to the connector URL.\n\n## Troubleshooting\n\n| Issue | Solution | |-------|----------| | 401/403 errors | Verify API key and Application key are correct and active | | No data returned | Check that Application key has `MCP Read` permission | | Wrong region | Ensure the connector URL matches your Datadog organization's region | | Truncated traces | Large traces may be truncated; this is a known limitation | | Tool not found | The tool may require a non-default toolset; update the connector URL | | Write operations fail | Verify Application key has `MCP Write` permission |\n\nmcp_connectors:\n- datadog-mcp\n\n```\n\n1. Select **Save**\n\n### Reference the skill in your subagent\n\nUpdate your subagent configuration to include the skill:\n\n``` spec: name: DatadogObservabilityExpert skills:\n- datadog_observability\nmcp_connectors:\n- datadog-mcp\n\n```\n\n## Step 5: Test the integration\n\n1. Open a new chat session with your SRE Agent\n2. Try these example prompts:\n\n### Log analysis\n\n``` Search for error logs from the payment-api service in the last hour\n\nAnalyze logs to count errors by service over the last 24 hours\n\nFind all logs with HTTP 500 status from the api-gateway in the last 30 minutes\n\nShow me the most recent logs from host web-prod-01\n\n```\n\n### Metrics investigation\n\n``` What is the current CPU usage across all production hosts?\n\nShow me the request rate and error rate for the checkout-service over the last 4 hours\n\nWhat metrics are available for the payment-api service?\n\nGet the p99 latency for the api-gateway service in the last hour\n\n```\n\n### APM and trace analysis\n\n``` Find the slowest traces for the checkout-service in the last hour\n\nGet the full trace details for trace ID abc123def456\n\nWhat services depend on the payment-api?\n\nSearch for errored spans in the api-gateway service from the last 30 minutes\n\n```\n\n### Monitor and alerting workflows\n\n``` Show me all monitors currently in Alert status\n\nFind monitors related to the database-primary host\n\nWhat monitors are tagged with team:platform?\n\nSearch for monitors matching \"disk space\" or \"memory\"\n\n```\n\n### Incident investigation\n\n``` Show me all active incidents from the last 24 hours\n\nGet details for incident INC-12345 including the timeline\n\nWhat monitors triggered during the last production incident?\n\nCorrelate the most recent incident with related logs and metrics\n\n```\n\n### Infrastructure and dashboards\n\n``` Search for hosts tagged with env:production and team:platform\n\nList all dashboards related to \"Kubernetes\" or \"EKS\"\n\nWhat services are running in the production environment?\n\nShow me recent deployment events for the checkout-service\n\n```\n\n## Available tools\n\n### Core toolset (default)\n\nThe `core` toolset is included by default and provides essential observability tools.\n\n| Tool | Description | | --- | --- | | `search_datadog_logs` | Search logs by facets, tags, and time ranges | | `analyze_datadog_logs` | SQL-based log analysis for aggregations and statistical queries | | `get_datadog_metric` | Query metric time series with rollup and aggregation | | `get_datadog_metric_context` | Get metric metadata, tags, and related context | | `search_datadog_metrics` | List and discover available metrics | | `get_datadog_trace` | Fetch a complete distributed trace by trace ID | | `search_datadog_spans` | Search APM spans by service, operation, or tags | | `search_datadog_monitors` | Search monitors by name, tag, or status | | `get_datadog_incident` | Get incident details including timeline and responders | | `search_datadog_incidents` | List and search incidents | | `search_datadog_dashboards` | Search dashboards by title or tag | | `search_datadog_hosts` | Search hosts by name, tag, or status | | `search_datadog_services` | List and search services | | `search_datadog_service_dependencies` | Map service dependency relationships | | `search_datadog_events` | Search events (monitor alerts, deployments, custom events) | | `get_datadog_notebook` | Retrieve notebook content by ID | | `search_datadog_notebooks` | Search notebooks by title or tag | | `search_datadog_rum_events` | Search Real User Monitoring events |\n\n### Alerting toolset\n\nEnable with `?toolsets=core,alerting` on the connector URL.\n\n| Tool | Description | | --- | --- | | `validate_datadog_monitor` | Validate monitor configuration before creation | | `get_datadog_monitor_templates` | Get monitor configuration templates | | `search_datadog_monitor_groups` | Search monitor groups and their statuses |\n\n### APM toolset\n\nEnable with `?toolsets=core,apm` on the connector URL.\n\n| Tool | Description | | --- | --- | | `apm_search_spans` | Advanced span search with APM-specific filters | | `apm_explore_trace` | Interactive trace exploration and analysis | | `apm_trace_summary` | Get a summary analysis of a trace | | `apm_trace_comparison` | Compare two traces side by side | | `apm_analyze_trace_metrics` | Analyze aggregated trace metrics and trends |\n\n### Database Monitoring toolset\n\nEnable with `?toolsets=core,dbm` on the connector URL.\n\n| Tool | Description | | --- | --- | | `search_datadog_dbm_plans` | Search database query execution plans | | `search_datadog_dbm_samples` | Search database query samples and statistics |\n\n### Error Tracking toolset\n\nEnable with `?toolsets=core,error-tracking` on the connector URL.\n\n| Tool | Description | | --- | --- | | `search_datadog_error_tracking_issues` | Search error tracking issues across RUM, Logs, and Traces | | `get_datadog_error_tracking_issue` | Get details of a specific error tracking issue |\n\n### Feature Flags toolset\n\nEnable with `?toolsets=core,feature-flags` on the connector URL.\n\n| Tool | Description | | --- | --- | | `list_datadog_feature_flags` | List feature flags | | `create_datadog_feature_flag` | Create a new feature flag | | `update_datadog_feature_flag_environment` | Update feature flag settings for an environment |\n\n### LLM Observability toolset\n\nEnable with `?toolsets=core,llmobs` on the connector URL.\n\n| Tool | Description | | --- | --- | | LLM Observability spans | Query and analyze LLM Observability span data |\n\n### Networks toolset\n\nEnable with `?toolsets=core,networks` on the connector URL.\n\n| Tool | Description | | --- | --- | | Cloud Network Monitoring tools | Analyze cloud network traffic and dependencies | | Network Device Monitoring tools | Monitor and troubleshoot network devices |\n\n### Security toolset\n\nEnable with `?toolsets=core,security` on the connector URL.\n\n| Tool | Description | | --- | --- | | `datadog_code_security_scan` | Run code security scanning | | `datadog_sast_scan` | Run Static Application Security Testing | | `datadog_secrets_scan` | Scan for secrets and credentials in code |\n\n### Software Delivery toolset\n\nEnable with `?toolsets=core,software-delivery` on the connector URL.\n\n| Tool | Description | | --- | --- | | `search_datadog_ci_pipeline_events` | Search CI pipeline execution events | | `get_datadog_flaky_tests` | Identify flaky tests in CI pipelines |\n\n### Synthetics toolset\n\nEnable with `?toolsets=core,synthetics` on the connector URL.\n\n| Tool | Description | | --- | --- | | `get_synthetics_tests` | List and get Synthetic test configurations | | `edit_synthetics_tests` | Edit Synthetic test settings | | `synthetics_test_wizard` | Guided wizard for creating Synthetic tests |\n\n## Toolsets\n\nThe Datadog MCP server organizes tools into **toolsets**. By default, only the `core` toolset is enabled. To enable additional toolsets, append the `?toolsets=` query parameter to the connector URL.\n\n### Syntax\n\n``` https://mcp.datadoghq.com/api/unstable/mcp-server/mcp?toolsets=core,apm,alerting\n\n```\n\n### Examples\n\n| Use case | URL suffix | | --- | --- | | Default (core only) | No suffix needed | | Core + APM analysis | `?toolsets=core,apm` | | Core + Alerting + APM | `?toolsets=core,alerting,apm` | | Core + Database Monitoring | `?toolsets=core,dbm` | | Core + Security scanning | `?toolsets=core,security` | | Core + CI/CD visibility | `?toolsets=core,software-delivery` | | All toolsets | `?toolsets=core,alerting,apm,dbm,error-tracking,feature-flags,llmobs,networks,onboarding,security,software-delivery,synthetics` |\n\n> >\n> [!TIP]\n> Only enable the toolsets you need. Each additional toolset increases the number of tools exposed to the agent, which can increase token usage and may impact response quality. Start with `core`\n> and add toolsets as needed.\n> >\n\n### Updating the connector URL\n\nTo add toolsets after initial setup:\n\n1. Navigate to **Builder** > **Connectors**\n2. Select the `datadog-mcp`\nconnector\n3. Update the **URL** field to include the `?toolsets=`\nparameter\n4. Select **Save**\n\n## Troubleshooting\n\n### Authentication issues\n\n| Error | Cause | Solution | | --- | --- | --- | | `401 Unauthorized` | Invalid API key or Application key | Verify both keys are correct and active in Organization Settings | | `403 Forbidden` | Missing RBAC permissions | Ensure the Application key has `MCP Read`<br> and/or `MCP Write`<br> permissions | | Connection refused | Wrong regional endpoint | Verify the connector URL matches your Datadog organization's region | | \"Organization not allowlisted\" | Preview access not granted | Contact Datadog support to request MCP server Preview access |\n\n### Data and permission issues\n\n| Error | Cause | Solution | | --- | --- | --- | | No data returned | Insufficient permissions or wrong time range | Verify Application key permissions; try a broader time range | | Tool not found | Tool belongs to a non-default toolset | Add the required toolset to the `?toolsets=`<br> parameter in the connector URL | | Truncated trace data | Trace exceeds size limit | Large traces are truncated for context window efficiency; query specific spans instead | | Write operation failed | Missing `MCP Write`<br> permission | Add `MCP Write`<br> permission to the Application key | | Metric not found | Wrong metric name or no data in time range | Use `search_datadog_metrics`<br> to discover available metric names |\n\n### Verify the connection\n\nTest the server endpoint directly:\n\n``` curl -I \"https://mcp.datadoghq.com/api/unstable/mcp-server/mcp\" \\ -H \"DD_API_KEY: \" \\ -H \"DD_APPLICATION_KEY: \"\n\n```\n\nExpected response: `200 OK` confirms authentication is working.\n\n### Re-authorize the integration\n\nIf you encounter persistent issues:\n\n1. Navigate to **Organization Settings** > **Application Keys** in Datadog\n2. Revoke the existing Application key\n3. Create a new Application key with the required `MCP Read`\n/`MCP Write` permissions\n4. Update the connector in the SRE Agent portal with the new key\n\n## Limitations\n\n| Limitation | Details | | --- | --- | | **Preview only** | The Datadog MCP server is in Preview and not recommended for production use | | **Allowlisted organizations** | Only organizations that have been allowlisted by Datadog can access the MCP server | | **Large trace truncation** | Responses are optimized for LLM context windows; large traces may be truncated | | **Unstable API path** | The endpoint URL contains `/unstable/`<br> indicating the API may change without notice | | **Toolset availability** | Some toolsets may not be available depending on your Datadog plan and features enabled | | **Regional endpoints** | You must use the endpoint matching your organization's region; cross-region queries are not supported |\n\n## Security considerations\n\n### How permissions work\n\n- **RBAC-scoped**: All actions respect the RBAC permissions associated with the API and Application keys\n- **Key-based**: Access is controlled through API key (organization-level) and Application key (user or service account-level)\n- **Permission granularity**: `MCP Read`\nenables read operations; `MCP Write` enables mutating operations\n\n### Data security\n\n- All traffic encrypted via HTTPS (TLS 1.2+)\n- API keys authenticate the organization; Application keys authenticate the user/service account\n- Tool calls are tracked in Datadog's **Audit Trail**\n\n### Admin controls\n\nDatadog administrators can:\n- Create and revoke API and Application keys in Organization Settings\n- Assign granular RBAC permissions (`MCP Read`\n, `MCP Write` ) to Application keys\n- Use service accounts to decouple access from individual user accounts\n- Monitor MCP tool usage through the Datadog Audit Trail\n- Scope Application keys to limit the blast radius of compromised credentials\n\n> >\n> [!IMPORTANT]\n> The Datadog MCP server can read sensitive operational data including logs, metrics, and traces. Use service accounts with scoped Application keys, grant only the permissions your agent needs, and monitor the Audit Trail for unusual activity.\n> >\n\n## Related content\n\n- [Datadog MCP Server documentation](https://docs.datadoghq.com/mcp/)\n- [Datadog API and Application keys](https://docs.datadoghq.com/account_management/api-app-keys/)\n- [Datadog RBAC permissions](https://docs.datadoghq.com/account_management/rbac/permissions/)\n- [Datadog Audit Trail](https://docs.datadoghq.com/account_management/audit_trail/)\n- [Datadog regional sites](https://docs.datadoghq.com/getting_started/site/)\n- [MCP integration overview](https://techcommunity.microsoft.com/mcp-integration.md)\n- [Build a custom subagent](https://techcommunity.microsoft.com/build-custom-subagent.md)",
  "FeedLevelAuthor": "rss.livelink.threads-in-node",
  "Tags": [],
  "ProcessedDate": "2026-02-25 17:22:39",
  "EnhancedContent": "# Get started with Datadog MCP server in Azure SRE Agent\n\nConnect Azure SRE Agent to Datadog's observability platform using the official Datadog MCP server for logs, metrics, traces, incidents, and more.\n\n## Overview\n\nThe Datadog MCP server is a cloud-hosted bridge between your Datadog organization and Azure SRE Agent. Once configured, it enables real-time interaction with logs, metrics, APM traces, monitors, incidents, dashboards, and other Datadog data through natural language. All actions respect your existing Datadog RBAC permissions.\n\nThe server uses **Streamable HTTP** transport with two custom headers (`DD_API_KEY` and `DD_APPLICATION_KEY` ) for authentication. Azure SRE Agent connects directly to the Datadog-hosted endpoint—no npm packages, local proxies, or container deployments are required. The SRE Agent portal includes a **dedicated Datadog MCP server connector type** that pre-populates the required header keys for streamlined setup.\n\n### Key capabilities\n\n| Area | Capabilities | | --- | --- | | **Logs** | Search and analyze logs with SQL-based queries, filter by facets and time ranges | | **Metrics** | Query metric values, explore available metrics, get metric metadata and tags | | **APM** | Search spans, fetch complete traces, analyze trace performance, compare traces | | **Monitors** | Search monitors, validate configurations, inspect monitor groups and templates | | **Incidents** | Search and get incident details, view timeline and responders | | **Dashboards** | Search and list dashboards by name or tag | | **Hosts** | Search hosts by name, tags, or status | | **Services** | List services and map service dependencies | | **Events** | Search events including monitor alerts, deployments, and custom events | | **Notebooks** | Search and retrieve notebooks for investigation documentation | | **RUM** | Search Real User Monitoring events for frontend observability |\n\n> >\n> [!NOTE]\n> This is the official Datadog-hosted MCP server (Preview). The server exposes **16+ core tools** with additional toolsets available for alerting, APM, Database Monitoring, Error Tracking, feature flags, LLM Observability, networking, security, software delivery, and Synthetic tests. Tool availability depends on your Datadog plan and RBAC permissions.\n> >\n\n## Prerequisites\n\n- Azure SRE Agent resource deployed in Azure\n- Datadog organization with an active plan\n- Datadog user account with appropriate RBAC permissions\n- **API key**: Created from Organization Settings &gt; API Keys\n- **Application key**: Created from Organization Settings &gt; Application Keys with `MCP Read`\nand/or `MCP Write` permissions\n- Your organization must be allowlisted for the Datadog MCP server Preview\n\n## Step 1: Create API and Application keys\n\nThe Datadog MCP server requires two credentials: an **API key** (identifies your organization) and an **Application key** (authenticates the user and defines permission scope). Both are created in the Datadog portal.\n\n### Create an API key\n\n1. Log in to your [Datadog organization](https://app.datadoghq.com/) (use your region-specific URL if applicable—e.g., `app.datadoghq.eu`\nfor EU1)\n2. Select your **account avatar** in the bottom-left corner of the navigation bar\n3. Select **Organization Settings**\n4. In the left sidebar, select **API Keys** (under the *Access* section)\n5. Direct URL: `https://app.datadoghq.com/organization-settings/api-keys`\n6. Select **+ New Key** in the top-right corner\n7. Enter a descriptive name (e.g., `sre-agent-mcp`\n)\n8. Select **Create Key**\n9. Copy the key value immediately—it is shown only once. If lost, you must create a new key.\n\n> >\n> [!TIP]\n> API keys are organization-level credentials. Any Datadog Admin or user with the `API Keys Write`\n> permission can create them. The API key alone does not grant data access—it must be paired with an Application key.\n> >\n\n### Create an Application key\n\n1. From the same **Organization Settings** page, select **Application Keys** in the left sidebar\n2. Direct URL: `https://app.datadoghq.com/organization-settings/application-keys`\n3. Select **+ New Key** in the top-right corner\n4. Enter a descriptive name (e.g., `sre-agent-mcp-app`\n)\n5. Select **Create Key**\n6. Copy the key value immediately—it is shown only once\n\n### Add MCP permissions to the Application key\n\nAfter creating the Application key, you must grant it the MCP-specific scopes:\n\n1. In the **Application Keys** list, locate the key you just created\n2. Select the **key name** to open its detail panel\n3. In the detail panel, find the **Scopes** section and select **Edit**\n4. Search for `MCP`\nin the scopes search box\n5. Check **MCP Read** to enable read access to Datadog data via MCP tools\n6. Optionally check **MCP Write** if your agent needs to create or modify resources (e.g., feature flags, Synthetic tests)\n7. Select **Save**\n\n> >\n> [!NOTE]\n> If you don't see the `MCP Read`\n> or `MCP Write`\n> scopes, your organization may not be enrolled in the Datadog MCP server preview. Contact your Datadog account representative to request access.\n> >\n\n### Required permissions summary\n\n| Permission | Description | Required? | | --- | --- | --- | | `MCP Read` | Read access to Datadog data via MCP tools (logs, metrics, traces, monitors, etc.) | Yes | | `MCP Write` | Write access for mutating operations (creating feature flags, editing Synthetic tests, etc.) | Optional |\n\n> >\n> [!IMPORTANT]\n> For production use, create keys from a **service account** rather than a personal account. Navigate to **Organization Settings** &gt; **Service Accounts** to create one. This ensures the integration continues to work if team members leave the organization. Apply the principle of least privilege—grant only `MCP Read`\n> unless write operations are needed.\n> > >\n> [!TIP]\n> Use **scoped Application keys** to restrict access to only the permissions your agent needs. This limits blast radius if a key is compromised.\n> >\n\n## Step 2: Add the MCP connector\n\nConnect the Datadog MCP server to your SRE Agent using the portal. The portal includes a dedicated Datadog connector type that pre-populates the required configuration.\n\n### Determine your regional endpoint\n\nSelect the endpoint URL that matches your Datadog organization's region:\n\n| Region | Endpoint URL | | --- | --- | | **US1** (default) | `https://mcp.datadoghq.com/api/unstable/mcp-server/mcp` | | **US3** | `https://mcp.us3.datadoghq.com/api/unstable/mcp-server/mcp` | | **US5** | `https://mcp.us5.datadoghq.com/api/unstable/mcp-server/mcp` | | **EU1** | `https://mcp.datadoghq.eu/api/unstable/mcp-server/mcp` | | **AP1** | `https://mcp.ap1.datadoghq.com/api/unstable/mcp-server/mcp` | | **AP2** | `https://mcp.ap2.datadoghq.com/api/unstable/mcp-server/mcp` |\n\n### Using the Azure portal\n\n1. In Azure portal, navigate to your SRE Agent resource\n2. Select **Builder** &gt; **Connectors**\n3. Select **Add connector**\n4. Select **Datadog MCP server** and select **Next**\n\n![Select &quot;Datadog MCP server&quot; as the connector type in the Add a connector dialog](https://techcommunity.microsoft.com/t5/datadog-02-select-connector.png)\n\n1. Configure the connector:\n\n| Field | Value | | --- | --- | | **Name** | `datadog-mcp` | | **Connection type** | Streamable-HTTP (pre-selected) | | **URL** | `https://mcp.datadoghq.com/api/unstable/mcp-server/mcp`<br> (change for non-US1 regions) | | **Authentication** | Custom headers (pre-selected, disabled) | | **DD\\_API\\_KEY** | Your Datadog API key | | **DD\\_APPLICATION\\_KEY** | Your Datadog Application key |\n\n1. Select **Next** to review\n\n![Configure the Datadog MCP connector with the endpoint URL, DD_API_KEY, and DD_APPLICATION_KEY fields](https://techcommunity.microsoft.com/t5/datadog-03-config-form.png)\n\n1. Select **Add connector**\n\n> >\n> [!NOTE]\n> The Datadog connector type pre-populates both header keys (`DD_API_KEY`\n> and `DD_APPLICATION_KEY`\n> ) and sets the authentication method to \"Custom headers\" automatically. The default URL is the US1 endpoint—update it if your organization is in a different region.\n> > >\n> [!NOTE]\n> Once the connector shows **Connected** status, the Datadog MCP tools are automatically available to your agent. You can verify by checking the tools list in the connector details.\n> >\n\n![Connectors list showing datadog-mcp with Connected status](https://techcommunity.microsoft.com/t5/datadog-01-connectors-list.png)\n\n## Step 3: Create a Datadog subagent (optional)\n\nCreate a specialized subagent to give the AI focused Datadog observability expertise and better prompt responses.\n\n1. Navigate to **Builder** &gt; **Subagents**\n2. Select **Add subagent**\n3. Paste the following YAML configuration:\n\n``` api_version: azuresre.ai/v1 kind: AgentConfiguration metadata: owner: your-team@contoso.com version: \"1.0.0\" spec: name: DatadogObservabilityExpert display_name: Datadog Observability Expert\n\nsystem_prompt: | You are a Datadog observability expert with access to logs, metrics, APM traces, monitors, incidents, dashboards, hosts, services, and more via the Datadog MCP server.\n\n## Capabilities\n\n### Logs\n- Search logs using facets, tags, and time ranges with `search_datadog_logs`\n- Perform SQL-based log analysis with `analyze_datadog_logs` for aggregations,\ngrouping, and statistical queries\n- Correlate log entries with traces and metrics\n\n### Metrics\n- Query metric time series with `get_datadog_metric`\n- Get metric metadata, tags, and context with `get_datadog_metric_context`\n- Discover available metrics with `search_datadog_metrics`\n\n### APM (Application Performance Monitoring)\n- Fetch complete traces with `get_datadog_trace`\n- Search distributed traces and spans with `search_datadog_spans`\n- Analyze service-level performance and latency patterns\n- Map service dependencies with `search_datadog_service_dependencies`\n\n### Monitors & Alerting\n- Search monitors by name, tag, or status with `search_datadog_monitors`\n- Investigate triggered monitors and alert history\n- Correlate monitor alerts with underlying metrics and logs\n\n### Incidents\n- Search incidents with `search_datadog_incidents`\n- Get incident details, timeline, and responders with `get_datadog_incident`\n- Correlate incidents with monitors, logs, and traces\n\n### Infrastructure\n- Search hosts by name, tag, or status with `search_datadog_hosts`\n- List and discover services with `search_datadog_services`\n- Search dashboards with `search_datadog_dashboards`\n- Search events (monitor alerts, deployments) with `search_datadog_events`\n\n### Notebooks\n- Search notebooks with `search_datadog_notebooks`\n- Retrieve notebook content with `get_datadog_notebook`\n\n### Real User Monitoring\n- Search RUM events for frontend performance data with `search_datadog_rum_events`\n\n## Best Practices\n\nWhen investigating incidents:\n- Start with `search_datadog_incidents` or `get_datadog_incident` for context\n- Check related monitors with `search_datadog_monitors`\n- Correlate with `search_datadog_logs` and `get_datadog_metric` for root cause\n- Use `get_datadog_trace` to inspect request flows for latency issues\n- Check `search_datadog_hosts` for infrastructure-level problems\n\nWhen analyzing logs:\n- Use `analyze_datadog_logs` for SQL-based aggregation queries\n- Use `search_datadog_logs` for individual log retrieval and filtering\n- Include time ranges to narrow results and reduce response size\n- Filter by service, host, or status to focus on relevant data\n\nWhen working with metrics:\n- Use `search_datadog_metrics` to discover available metric names\n- Use `get_datadog_metric_context` to understand metric tags and metadata\n- Use `get_datadog_metric` to query actual metric values with time ranges\n\nWhen handling errors:\n- If access is denied, explain which RBAC permission is needed\n- Suggest the user verify their Application key has `MCP Read` or `MCP Write`\n- For large traces that appear truncated, note this is a known limitation\n\nmcp_connectors:\n- datadog-mcp\n\nhandoffs: []\n\n```\n\n1. Select **Save**\n\n> >\n> [!NOTE]\n> The `mcp_connectors`\n> field references the connector name you created in Step 2. This gives the subagent access to all tools provided by the Datadog MCP server.\n> >\n\n## Step 4: Add a Datadog skill (optional)\n\nSkills provide contextual knowledge and best practices that help agents use tools more effectively. Create a Datadog skill to give your agent expertise in log queries, metric analysis, and incident investigation workflows.\n\n1. Navigate to **Builder** &gt; **Skills**\n2. Select **Add skill**\n3. Paste the following skill configuration:\n\n``` api_version: azuresre.ai/v1 kind: SkillConfiguration metadata: owner: your-team@contoso.com version: \"1.0.0\" spec: name: datadog_observability display_name: Datadog Observability\n\ndescription: | Expertise in Datadog's observability platform including logs, metrics, APM, monitors, incidents, dashboards, hosts, and services. Use for searching logs, querying metrics, investigating incidents, analyzing traces, inspecting monitors, and navigating Datadog data via the Datadog MCP server.\n\ninstructions: |\n## Overview\n\nDatadog is a cloud-scale observability platform for logs, metrics, APM traces, monitors, incidents, infrastructure, and more. The Datadog MCP server enables natural language interaction with your organization's Datadog data.\n\n**Authentication:** Two custom headers—`DD_API_KEY` (API key) and `DD_APPLICATION_KEY` (Application key with MCP permissions). All actions respect existing RBAC permissions.\n\n**Regional endpoints:** The MCP server URL varies by Datadog region (US1, US3, US5, EU1, AP1, AP2). Ensure the connector URL matches your organization's region.\n\n## Searching Logs\n\nUse `search_datadog_logs` for individual log retrieval and `analyze_datadog_logs` for SQL-based aggregation queries.\n\n**Common log search patterns:**\n\n```\n# Errors from a specific service\nservice:payment-api status:error\n\n# Logs from a host in the last hour\nhost:web-prod-01\n\n# Logs containing a specific trace ID\ntrace_id:abc123def456\n\n# Errors with a specific HTTP status\n@http.status_code:500 service:api-gateway\n\n# Logs from a Kubernetes pod\nkube_namespace:production kube_deployment:checkout-service ```\n\n**SQL-based log analysis with `analyze_datadog_logs`:**\n\n```sql -- Count errors by service in the last hour SELECT service, count(*) as error_count FROM logs WHERE status = 'error' GROUP BY service ORDER BY error_count DESC\n\n-- Average response time by endpoint SELECT @http.url_details.path, avg(@duration) as avg_duration FROM logs WHERE service = 'api-gateway' GROUP BY @http.url_details.path ```\n\n## Querying Metrics\n\nUse `search_datadog_metrics` to discover metrics, `get_datadog_metric_context` for metadata, and `get_datadog_metric` for time series data.\n\n**Common metric patterns:**\n\n```\n# System metrics\nsystem.cpu.user, system.mem.used, system.disk.used\n\n# Container metrics\ndocker.cpu.usage, kubernetes.cpu.requests\n\n# Application metrics\ntrace.servlet.request.hits, trace.servlet.request.duration\n\n# Custom metrics\napp.payment.processed, app.queue.depth ```\n\nAlways specify a time range when querying metrics to avoid retrieving excessive data.\n\n## Investigating Traces\n\nUse `get_datadog_trace` for complete trace details and `search_datadog_spans` for span-level queries.\n\n**Trace investigation workflow:**\n1. Search for slow or errored spans with `search_datadog_spans`\n2. Get the full trace with `get_datadog_trace` using the trace ID\n3. Identify the bottleneck service or operation\n4. Correlate with `search_datadog_logs` using the trace ID\n5. Check related metrics with `get_datadog_metric`\n\n## Working with Monitors\n\nUse `search_datadog_monitors` to find monitors by name, tag, or status.\n\n**Common monitor queries:**\n\n```\n# Find all triggered monitors\nSearch for monitors with status \"Alert\"\n\n# Find monitors for a specific service\nSearch for monitors tagged with service:payment-api\n\n# Find monitors by name\nSearch for monitors matching \"CPU\" or \"memory\" ```\n\n## Incident Investigation Workflow\n\nFor structured incident investigation:\n1. `search_datadog_incidents` — find recent or active incidents\n2. `get_datadog_incident` — get full incident details and timeline\n3. `search_datadog_monitors` — check which monitors triggered\n4. `search_datadog_logs` — search for errors around the incident time\n5. `get_datadog_metric` — check key metrics for anomalies\n6. `get_datadog_trace` — inspect request traces for latency or errors\n7. `search_datadog_hosts` — verify infrastructure health\n8. `search_datadog_service_dependencies` — map affected services\n\n## Working with Dashboards and Notebooks\n\n- Use `search_datadog_dashboards` to find dashboards by title or tag\n- Use `search_datadog_notebooks` and `get_datadog_notebook` for investigation\nnotebooks that document past analyses\n\n## Toolsets\n\nThe Datadog MCP server supports toolsets via the `?toolsets=` query parameter on the endpoint URL. Available toolsets:\n\n| Toolset | Description | |---------|-------------| | `core` | Logs, metrics, traces, dashboards, monitors, incidents, hosts, services, events, notebooks (default) | | `alerting` | Monitor validation, groups, and templates | | `apm` | Trace analysis, span search, Watchdog insights, performance investigation | | `dbm` | Database Monitoring query plans and samples | | `error-tracking` | Error Tracking issues across RUM, Logs, and Traces | | `feature-flags` | Creating, listing, and updating feature flags | | `llmobs` | LLM Observability spans | | `networks` | Cloud Network Monitoring, Network Device Monitoring | | `onboarding` | Guided Datadog setup and configuration | | `security` | Code security scanning, security signals, findings | | `software-delivery` | CI Visibility, Test Optimization | | `synthetics` | Synthetic test management |\n\nTo enable additional toolsets, append `?toolsets=core,apm,alerting` to the connector URL.\n\n## Troubleshooting\n\n| Issue | Solution | |-------|----------| | 401/403 errors | Verify API key and Application key are correct and active | | No data returned | Check that Application key has `MCP Read` permission | | Wrong region | Ensure the connector URL matches your Datadog organization's region | | Truncated traces | Large traces may be truncated; this is a known limitation | | Tool not found | The tool may require a non-default toolset; update the connector URL | | Write operations fail | Verify Application key has `MCP Write` permission |\n\nmcp_connectors:\n- datadog-mcp\n\n```\n\n1. Select **Save**\n\n### Reference the skill in your subagent\n\nUpdate your subagent configuration to include the skill:\n\n``` spec: name: DatadogObservabilityExpert skills:\n- datadog_observability\nmcp_connectors:\n- datadog-mcp\n\n```\n\n## Step 5: Test the integration\n\n1. Open a new chat session with your SRE Agent\n2. Try these example prompts:\n\n### Log analysis\n\n``` Search for error logs from the payment-api service in the last hour\n\nAnalyze logs to count errors by service over the last 24 hours\n\nFind all logs with HTTP 500 status from the api-gateway in the last 30 minutes\n\nShow me the most recent logs from host web-prod-01\n\n```\n\n### Metrics investigation\n\n``` What is the current CPU usage across all production hosts?\n\nShow me the request rate and error rate for the checkout-service over the last 4 hours\n\nWhat metrics are available for the payment-api service?\n\nGet the p99 latency for the api-gateway service in the last hour\n\n```\n\n### APM and trace analysis\n\n``` Find the slowest traces for the checkout-service in the last hour\n\nGet the full trace details for trace ID abc123def456\n\nWhat services depend on the payment-api?\n\nSearch for errored spans in the api-gateway service from the last 30 minutes\n\n```\n\n### Monitor and alerting workflows\n\n``` Show me all monitors currently in Alert status\n\nFind monitors related to the database-primary host\n\nWhat monitors are tagged with team:platform?\n\nSearch for monitors matching \"disk space\" or \"memory\"\n\n```\n\n### Incident investigation\n\n``` Show me all active incidents from the last 24 hours\n\nGet details for incident INC-12345 including the timeline\n\nWhat monitors triggered during the last production incident?\n\nCorrelate the most recent incident with related logs and metrics\n\n```\n\n### Infrastructure and dashboards\n\n``` Search for hosts tagged with env:production and team:platform\n\nList all dashboards related to \"Kubernetes\" or \"EKS\"\n\nWhat services are running in the production environment?\n\nShow me recent deployment events for the checkout-service\n\n```\n\n## Available tools\n\n### Core toolset (default)\n\nThe `core` toolset is included by default and provides essential observability tools.\n\n| Tool | Description | | --- | --- | | `search_datadog_logs` | Search logs by facets, tags, and time ranges | | `analyze_datadog_logs` | SQL-based log analysis for aggregations and statistical queries | | `get_datadog_metric` | Query metric time series with rollup and aggregation | | `get_datadog_metric_context` | Get metric metadata, tags, and related context | | `search_datadog_metrics` | List and discover available metrics | | `get_datadog_trace` | Fetch a complete distributed trace by trace ID | | `search_datadog_spans` | Search APM spans by service, operation, or tags | | `search_datadog_monitors` | Search monitors by name, tag, or status | | `get_datadog_incident` | Get incident details including timeline and responders | | `search_datadog_incidents` | List and search incidents | | `search_datadog_dashboards` | Search dashboards by title or tag | | `search_datadog_hosts` | Search hosts by name, tag, or status | | `search_datadog_services` | List and search services | | `search_datadog_service_dependencies` | Map service dependency relationships | | `search_datadog_events` | Search events (monitor alerts, deployments, custom events) | | `get_datadog_notebook` | Retrieve notebook content by ID | | `search_datadog_notebooks` | Search notebooks by title or tag | | `search_datadog_rum_events` | Search Real User Monitoring events |\n\n### Alerting toolset\n\nEnable with `?toolsets=core,alerting` on the connector URL.\n\n| Tool | Description | | --- | --- | | `validate_datadog_monitor` | Validate monitor configuration before creation | | `get_datadog_monitor_templates` | Get monitor configuration templates | | `search_datadog_monitor_groups` | Search monitor groups and their statuses |\n\n### APM toolset\n\nEnable with `?toolsets=core,apm` on the connector URL.\n\n| Tool | Description | | --- | --- | | `apm_search_spans` | Advanced span search with APM-specific filters | | `apm_explore_trace` | Interactive trace exploration and analysis | | `apm_trace_summary` | Get a summary analysis of a trace | | `apm_trace_comparison` | Compare two traces side by side | | `apm_analyze_trace_metrics` | Analyze aggregated trace metrics and trends |\n\n### Database Monitoring toolset\n\nEnable with `?toolsets=core,dbm` on the connector URL.\n\n| Tool | Description | | --- | --- | | `search_datadog_dbm_plans` | Search database query execution plans | | `search_datadog_dbm_samples` | Search database query samples and statistics |\n\n### Error Tracking toolset\n\nEnable with `?toolsets=core,error-tracking` on the connector URL.\n\n| Tool | Description | | --- | --- | | `search_datadog_error_tracking_issues` | Search error tracking issues across RUM, Logs, and Traces | | `get_datadog_error_tracking_issue` | Get details of a specific error tracking issue |\n\n### Feature Flags toolset\n\nEnable with `?toolsets=core,feature-flags` on the connector URL.\n\n| Tool | Description | | --- | --- | | `list_datadog_feature_flags` | List feature flags | | `create_datadog_feature_flag` | Create a new feature flag | | `update_datadog_feature_flag_environment` | Update feature flag settings for an environment |\n\n### LLM Observability toolset\n\nEnable with `?toolsets=core,llmobs` on the connector URL.\n\n| Tool | Description | | --- | --- | | LLM Observability spans | Query and analyze LLM Observability span data |\n\n### Networks toolset\n\nEnable with `?toolsets=core,networks` on the connector URL.\n\n| Tool | Description | | --- | --- | | Cloud Network Monitoring tools | Analyze cloud network traffic and dependencies | | Network Device Monitoring tools | Monitor and troubleshoot network devices |\n\n### Security toolset\n\nEnable with `?toolsets=core,security` on the connector URL.\n\n| Tool | Description | | --- | --- | | `datadog_code_security_scan` | Run code security scanning | | `datadog_sast_scan` | Run Static Application Security Testing | | `datadog_secrets_scan` | Scan for secrets and credentials in code |\n\n### Software Delivery toolset\n\nEnable with `?toolsets=core,software-delivery` on the connector URL.\n\n| Tool | Description | | --- | --- | | `search_datadog_ci_pipeline_events` | Search CI pipeline execution events | | `get_datadog_flaky_tests` | Identify flaky tests in CI pipelines |\n\n### Synthetics toolset\n\nEnable with `?toolsets=core,synthetics` on the connector URL.\n\n| Tool | Description | | --- | --- | | `get_synthetics_tests` | List and get Synthetic test configurations | | `edit_synthetics_tests` | Edit Synthetic test settings | | `synthetics_test_wizard` | Guided wizard for creating Synthetic tests |\n\n## Toolsets\n\nThe Datadog MCP server organizes tools into **toolsets**. By default, only the `core` toolset is enabled. To enable additional toolsets, append the `?toolsets=` query parameter to the connector URL.\n\n### Syntax\n\n``` https://mcp.datadoghq.com/api/unstable/mcp-server/mcp?toolsets=core,apm,alerting\n\n```\n\n### Examples\n\n| Use case | URL suffix | | --- | --- | | Default (core only) | No suffix needed | | Core + APM analysis | `?toolsets=core,apm` | | Core + Alerting + APM | `?toolsets=core,alerting,apm` | | Core + Database Monitoring | `?toolsets=core,dbm` | | Core + Security scanning | `?toolsets=core,security` | | Core + CI/CD visibility | `?toolsets=core,software-delivery` | | All toolsets | `?toolsets=core,alerting,apm,dbm,error-tracking,feature-flags,llmobs,networks,onboarding,security,software-delivery,synthetics` |\n\n> >\n> [!TIP]\n> Only enable the toolsets you need. Each additional toolset increases the number of tools exposed to the agent, which can increase token usage and may impact response quality. Start with `core`\n> and add toolsets as needed.\n> >\n\n### Updating the connector URL\n\nTo add toolsets after initial setup:\n\n1. Navigate to **Builder** &gt; **Connectors**\n2. Select the `datadog-mcp`\nconnector\n3. Update the **URL** field to include the `?toolsets=`\nparameter\n4. Select **Save**\n\n## Troubleshooting\n\n### Authentication issues\n\n| Error | Cause | Solution | | --- | --- | --- | | `401 Unauthorized` | Invalid API key or Application key | Verify both keys are correct and active in Organization Settings | | `403 Forbidden` | Missing RBAC permissions | Ensure the Application key has `MCP Read`<br> and/or `MCP Write`<br> permissions | | Connection refused | Wrong regional endpoint | Verify the connector URL matches your Datadog organization's region | | \"Organization not allowlisted\" | Preview access not granted | Contact Datadog support to request MCP server Preview access |\n\n### Data and permission issues\n\n| Error | Cause | Solution | | --- | --- | --- | | No data returned | Insufficient permissions or wrong time range | Verify Application key permissions; try a broader time range | | Tool not found | Tool belongs to a non-default toolset | Add the required toolset to the `?toolsets=`<br> parameter in the connector URL | | Truncated trace data | Trace exceeds size limit | Large traces are truncated for context window efficiency; query specific spans instead | | Write operation failed | Missing `MCP Write`<br> permission | Add `MCP Write`<br> permission to the Application key | | Metric not found | Wrong metric name or no data in time range | Use `search_datadog_metrics`<br> to discover available metric names |\n\n### Verify the connection\n\nTest the server endpoint directly:\n\n``` curl -I \"https://mcp.datadoghq.com/api/unstable/mcp-server/mcp\" \\ -H \"DD_API_KEY: <your_api_key>\" \\ -H \"DD_APPLICATION_KEY: <your_application_key>\"\n\n```\n\nExpected response: `200 OK` confirms authentication is working.\n\n### Re-authorize the integration\n\nIf you encounter persistent issues:\n\n1. Navigate to **Organization Settings** &gt; **Application Keys** in Datadog\n2. Revoke the existing Application key\n3. Create a new Application key with the required `MCP Read`\n/`MCP Write` permissions\n4. Update the connector in the SRE Agent portal with the new key\n\n## Limitations\n\n| Limitation | Details | | --- | --- | | **Preview only** | The Datadog MCP server is in Preview and not recommended for production use | | **Allowlisted organizations** | Only organizations that have been allowlisted by Datadog can access the MCP server | | **Large trace truncation** | Responses are optimized for LLM context windows; large traces may be truncated | | **Unstable API path** | The endpoint URL contains `/unstable/`<br> indicating the API may change without notice | | **Toolset availability** | Some toolsets may not be available depending on your Datadog plan and features enabled | | **Regional endpoints** | You must use the endpoint matching your organization's region; cross-region queries are not supported |\n\n## Security considerations\n\n### How permissions work\n\n- **RBAC-scoped**: All actions respect the RBAC permissions associated with the API and Application keys\n- **Key-based**: Access is controlled through API key (organization-level) and Application key (user or service account-level)\n- **Permission granularity**: `MCP Read`\nenables read operations; `MCP Write` enables mutating operations\n\n### Data security\n\n- All traffic encrypted via HTTPS (TLS 1.2+)\n- API keys authenticate the organization; Application keys authenticate the user/service account\n- Tool calls are tracked in Datadog's **Audit Trail**\n\n### Admin controls\n\nDatadog administrators can:\n- Create and revoke API and Application keys in Organization Settings\n- Assign granular RBAC permissions (`MCP Read`\n, `MCP Write` ) to Application keys\n- Use service accounts to decouple access from individual user accounts\n- Monitor MCP tool usage through the Datadog Audit Trail\n- Scope Application keys to limit the blast radius of compromised credentials\n\n> >\n> [!IMPORTANT]\n> The Datadog MCP server can read sensitive operational data including logs, metrics, and traces. Use service accounts with scoped Application keys, grant only the permissions your agent needs, and monitor the Audit Trail for unusual activity.\n> >\n\n## Related content\n\n- [Datadog MCP Server documentation](https://docs.datadoghq.com/mcp/)\n- [Datadog API and Application keys](https://docs.datadoghq.com/account_management/api-app-keys/)\n- [Datadog RBAC permissions](https://docs.datadoghq.com/account_management/rbac/permissions/)\n- [Datadog Audit Trail](https://docs.datadoghq.com/account_management/audit_trail/)\n- [Datadog regional sites](https://docs.datadoghq.com/getting_started/site/)\n- [MCP integration overview](https://techcommunity.microsoft.com/mcp-integration.md)\n- [Build a custom subagent](https://techcommunity.microsoft.com/build-custom-subagent.md)\n\nPublished Feb 25, 2026\n\nVersion 1.0\n\n[!\\[dbandaru&#x27;s avatar\\](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/dS0xODc2Mjc5LTU4NDM2OWk2MjcxQjY2RTZCMEQzMDkw?image-dimensions=50x50)](/users/dbandaru/1876279) [dbandaru](/users/dbandaru/1876279) ![Icon for Microsoft rank](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/cmstNC05WEo0blc?image-dimensions=100x16&amp;constrain-image=true)Microsoft\n\nJoined May 24, 2023\n\n[View Profile](/users/dbandaru/1876279)\n\n/category/azure/blog/appsonazureblog [Apps on Azure Blog](/category/azure/blog/appsonazureblog) Follow this blog board to get notified when there's new activity"
}
