{
  "FeedLevelAuthor": "rss.livelink.threads-in-node",
  "ProcessedDate": "2025-12-20 16:04:44",
  "Title": "Stop Running Runbooks at 3 am: Let Azure SRE Agent Do Your On-Call Grunt Work",
  "Description": "*Your pager goes off. It's 2:47am. Production is throwing 500 errors. You know the drill - SSH into this, query that, check these metrics, correlate those logs. Twenty minutes later, you're still piecing together what went wrong. Sound familiar?*\n\n## The On-Call Reality Nobody Talks About\n\nEvery SRE, DevOps engineer, and developer who's carried a pager knows this pain. When incidents hit, you're not solving problems - you're executing runbooks. Copy-paste this query. Check that dashboard. Run these az commands. Connect the dots between five different tools.\n\nIt's tedious. It's error-prone at 3am. And honestly? It's work that doesn't require human creativity but requires human time.\n\n**What if an AI agent could do this for you?**\n\n## Enter Azure SRE Agent + Runbook Automation\n\nHere's what I built: I gave SRE Agent a simple markdown runbook containing the same diagnostic steps I'd run manually during an incident. The agent executes those steps, collects evidence, and sends me an email with everything I need to take action.\n\nNo more bouncing between terminals. No more forgetting a step because it's 3am and your brain is foggy.\n\n### What My Runbook Contains\n\nJust the basics any on-call would run:\n\n- **az monitor metrics** – CPU, memory, request rates\n- **Log Analytics queries** – Error patterns, exception details, dependency failures\n- **App Insights data** – Failed requests, stack traces, correlation IDs\n- **az containerapp logs** – Revision logs, app configuration\n\nThat's it. Plain markdown with KQL queries and CLI commands. Nothing fancy.\n\n### What the Agent Does\n\n1. Reads the runbook from its knowledge base\n2. Executes each diagnostic step\n3. Collects results and evidence\n4. Sends me an email with analysis and findings\n\nI wake up to an email that says: *\"CPU spiked to 92% at 2:45am, triggering connection pool exhaustion. Top exception: SqlException (1,832 occurrences). Errors correlate with traffic spike. Recommend scaling to 5 replicas.\"*\n\nAll the evidence. All the queries used. All the timestamps. Ready for me to act.\n\n## How to Set This Up (6 Steps)\n\nHere's how you can build this yourself:\n\n### Step 1: Create SRE Agent\n\nCreate a new [SRE Agent](https://aka.ms/sreagent/portal) in the Azure portal. **No Azure resource groups to configure.** If your apps run on Azure, the agent pulls context from the incident itself. If your apps run elsewhere, you don't need Azure resource configuration at all.\n\n### Step 2: Grant Reader Permission (Optional)\n\nIf your runbooks execute against Azure resources, assign **Reader** role to the SRE Agent's managed identity on your subscription. This allows the agent to run az commands and query metrics. Skip this if your runbooks target non-Azure apps.\n\n### Step 3: Add Your Runbook to SRE Agent's Knowledge base\n\nYou already have runbooks, they're in your wiki, Confluence, or team docs. Just add them as .md files to the agent's knowledge base. To learn about other ways to link your runbooks to the agent, read [this](https://techcommunity.microsoft.com/blog/appsonazureblog/never-explain-context-twice-introducing-azure-sre-agent-memory/4473059)\n\n### Step 4: Connect Outlook\n\n[Connect](https://learn.microsoft.com/en-us/azure/sre-agent/connectors) the agent to your Outlook so it can send you the analysis email with findings.\n\n### Step 5: Create a Subagent\n\nCreate a subagent with simple instructions like:\n\n*\"You are an expert in triaging and diagnosing incidents. When triggered, search the knowledge base for the relevant runbook, execute the diagnostic steps, collect evidence, and send an email summary with your findings.\"*\n\nAssign the tools the agent needs:\n\n- **RunAzCliReadCommands** – for az monitor, az containerapp commands\n- **QueryLogAnalyticsByWorkspaceId** – for KQL queries against Log Analytics\n- **QueryAppInsightsByResourceId** – for App Insights data\n- **SearchMemory** – to find the right runbook\n- **SendOutlookEmail** – to deliver the analysis\n\n### Step 6: Set Up Incident Trigger\n\nConnect your incident management tool - **PagerDuty, ServiceNow, or Azure Monitor alerts** and setup the incident trigger to the subagent. When an incident fires, the agent kicks off automatically.\n\n**That's it.** Your agentic workflow now looks like this:\n\n![]()\n\n## This Works for Any App, Not Just Azure\n\nHere's the thing: **SRE Agent is platform agnostic.** It's executing your runbooks, whatever they contain.\n\n- On-prem databases? Add your diagnostic SQL.\n- Custom monitoring stack? Add those API calls.\n\nThe agent doesn't care where your app runs. It cares about following your runbook and getting you answers.\n\n## Why This Matters\n\n**Lower MTTR.** By the time you're awake and coherent, the analysis is done.\n\n**Consistent execution.** No missed steps. No \"I forgot to check the dependencies\" at 4am.\n\n**Evidence for postmortems.** Every query, every result, timestamped and documented.\n\n**Focus on what matters.** Your brain should be deciding *what to do* not *gathering data*.\n\n## The Bottom Line\n\nOn-call runbook execution is the most common, most tedious, and most automatable part of incident response. It's grunt work that pulls engineers away from the creative problem-solving they were hired for.\n\nSRE Agent offloads that work from your plate. You write the runbook once, and the agent executes it every time, faster and more consistently than any human at 3am.\n\n**Stop running runbooks. Start reviewing results.**\n\n*Try it yourself: Create a markdown runbook with your diagnostic queries and commands, add it to your SRE Agent's knowledge base, and let the agent handle your next incident. Your 3am self will thank you.*",
  "EnhancedContent": "*Your pager goes off. It's 2:47am. Production is throwing 500 errors. You know the drill - SSH into this, query that, check these metrics, correlate those logs. Twenty minutes later, you're still piecing together what went wrong. Sound familiar?*\n\n## The On-Call Reality Nobody Talks About\n\nEvery SRE, DevOps engineer, and developer who's carried a pager knows this pain. When incidents hit, you're not solving problems - you're executing runbooks. Copy-paste this query. Check that dashboard. Run these az commands. Connect the dots between five different tools.\n\nIt's tedious. It's error-prone at 3am. And honestly? It's work that doesn't require human creativity but requires human time.\n\n**What if an AI agent could do this for you?**\n\n## Enter Azure SRE Agent + Runbook Automation\n\nHere's what I built: I gave SRE Agent a simple markdown runbook containing the same diagnostic steps I'd run manually during an incident. The agent executes those steps, collects evidence, and sends me an email with everything I need to take action.\n\nNo more bouncing between terminals. No more forgetting a step because it's 3am and your brain is foggy.\n\n### What My Runbook Contains\n\nJust the basics any on-call would run:\n\n- **az monitor metrics** – CPU, memory, request rates\n- **Log Analytics queries** – Error patterns, exception details, dependency failures\n- **App Insights data** – Failed requests, stack traces, correlation IDs\n- **az containerapp logs** – Revision logs, app configuration\n\nThat's it. Plain markdown with KQL queries and CLI commands. Nothing fancy.\n\n### What the Agent Does\n\n1. Reads the runbook from its knowledge base\n2. Executes each diagnostic step\n3. Collects results and evidence\n4. Sends me an email with analysis and findings\n\nI wake up to an email that says: *\"CPU spiked to 92% at 2:45am, triggering connection pool exhaustion. Top exception: SqlException (1,832 occurrences). Errors correlate with traffic spike. Recommend scaling to 5 replicas.\"*\n\nAll the evidence. All the queries used. All the timestamps. Ready for me to act.\n\n## How to Set This Up (6 Steps)\n\nHere's how you can build this yourself:\n\n### Step 1: Create SRE Agent\n\nCreate a new [SRE Agent](https://aka.ms/sreagent/portal) in the Azure portal. **No Azure resource groups to configure.** If your apps run on Azure, the agent pulls context from the incident itself. If your apps run elsewhere, you don't need Azure resource configuration at all.\n\n### Step 2: Grant Reader Permission (Optional)\n\nIf your runbooks execute against Azure resources, assign **Reader** role to the SRE Agent's managed identity on your subscription. This allows the agent to run az commands and query metrics. Skip this if your runbooks target non-Azure apps.\n\n### Step 3: Add Your Runbook to SRE Agent's Knowledge base\n\nYou already have runbooks, they're in your wiki, Confluence, or team docs. Just add them as .md files to the agent's knowledge base. To learn about other ways to link your runbooks to the agent, read [this](https://techcommunity.microsoft.com/blog/appsonazureblog/never-explain-context-twice-introducing-azure-sre-agent-memory/4473059)\n\n### Step 4: Connect Outlook\n\n[Connect](https://learn.microsoft.com/en-us/azure/sre-agent/connectors) the agent to your Outlook so it can send you the analysis email with findings.\n\n### Step 5: Create a Subagent\n\nCreate a subagent with simple instructions like:\n\n*\"You are an expert in triaging and diagnosing incidents. When triggered, search the knowledge base for the relevant runbook, execute the diagnostic steps, collect evidence, and send an email summary with your findings.\"*\n\nAssign the tools the agent needs:\n\n- **RunAzCliReadCommands** – for az monitor, az containerapp commands\n- **QueryLogAnalyticsByWorkspaceId** – for KQL queries against Log Analytics\n- **QueryAppInsightsByResourceId** – for App Insights data\n- **SearchMemory** – to find the right runbook\n- **SendOutlookEmail** – to deliver the analysis\n\n### Step 6: Set Up Incident Trigger\n\nConnect your incident management tool - **PagerDuty, ServiceNow, or Azure Monitor alerts** and setup the incident trigger to the subagent. When an incident fires, the agent kicks off automatically.\n\n**That's it.** Your agentic workflow now looks like this:\n\n## This Works for Any App, Not Just Azure\n\nHere's the thing: **SRE Agent is platform agnostic.** It's executing your runbooks, whatever they contain.\n\n- On-prem databases? Add your diagnostic SQL.\n- Custom monitoring stack? Add those API calls.\n\nThe agent doesn't care where your app runs. It cares about following your runbook and getting you answers.\n\n## Why This Matters\n\n**Lower MTTR.** By the time you're awake and coherent, the analysis is done.\n\n**Consistent execution.** No missed steps. No \"I forgot to check the dependencies\" at 4am.\n\n**Evidence for postmortems.** Every query, every result, timestamped and documented.\n\n**Focus on what matters.** Your brain should be deciding *what to do* not *gathering data*.\n\n## The Bottom Line\n\nOn-call runbook execution is the most common, most tedious, and most automatable part of incident response. It's grunt work that pulls engineers away from the creative problem-solving they were hired for.\n\nSRE Agent offloads that work from your plate. You write the runbook once, and the agent executes it every time, faster and more consistently than any human at 3am.\n\n**Stop running runbooks. Start reviewing results.**\n\n*Try it yourself: Create a markdown runbook with your diagnostic queries and commands, add it to your SRE Agent's knowledge base, and let the agent handle your next incident. Your 3am self will thank you.*\n\nPublished Dec 20, 2025\n\nVersion 1.0\n\n[application modernization](/tag/application%20modernization?nodeId=board%3AAppsonAzureBlog)\n\n[azure app service](/tag/azure%20app%20service?nodeId=board%3AAppsonAzureBlog)\n\n[azure container apps](/tag/azure%20container%20apps?nodeId=board%3AAppsonAzureBlog)\n\n[azure container instances](/tag/azure%20container%20instances?nodeId=board%3AAppsonAzureBlog)\n\n[azure load testing](/tag/azure%20load%20testing?nodeId=board%3AAppsonAzureBlog)\n\n[azure logic apps](/tag/azure%20logic%20apps?nodeId=board%3AAppsonAzureBlog)\n\n[azure paas](/tag/azure%20paas?nodeId=board%3AAppsonAzureBlog)\n\n[azure sre agent](/tag/azure%20sre%20agent?nodeId=board%3AAppsonAzureBlog)\n\n[containers](/tag/containers?nodeId=board%3AAppsonAzureBlog)\n\n[devops](/tag/devops?nodeId=board%3AAppsonAzureBlog)\n\n[!\\[dchelupati&#x27;s avatar\\](https://techcommunity.microsoft.com/t5/s/gxcuf89792/m_assets/avatars/default/avatar-8.svg?image-dimensions=50x50)](/users/dchelupati/3031090) [dchelupati](/users/dchelupati/3031090) ![Icon for Microsoft rank](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/cmstNC05WEo0blc?image-dimensions=100x16&amp;constrain-image=true)Microsoft\n\nJoined May 13, 2025\n\n[View Profile](/users/dchelupati/3031090)\n\n/category/azure/blog/appsonazureblog [Apps on Azure Blog](/category/azure/blog/appsonazureblog) Follow this blog board to get notified when there's new activity",
  "Link": "https://techcommunity.microsoft.com/t5/apps-on-azure-blog/stop-running-runbooks-at-3-am-let-azure-sre-agent-do-your-on/ba-p/4479811",
  "Author": "dchelupati",
  "PubDate": "2025-12-20T15:52:24+00:00",
  "OutputDir": "_community",
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure",
  "FeedName": "Microsoft Tech Community",
  "Tags": []
}
