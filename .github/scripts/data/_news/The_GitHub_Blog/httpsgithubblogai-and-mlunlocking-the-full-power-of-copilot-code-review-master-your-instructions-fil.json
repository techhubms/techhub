{
  "EnhancedContent": "Copilot code review (CCR) helps you automate code reviews and ensure your project meets your team’s standards. We recently added support for both `copilot-instructions.md` and path-specific `*.instructions.md` files, so now you can customize Copilot’s behavior to fit your workflow. This flexibility empowers you to guide Copilot with clear, actionable rules for effective and consistent reviews.\n\nBut with this flexibility comes some uncertainty:\n\n- When is Copilot code review reading your instructions?\n- Why doesn’t it always follow your instructions exactly?\n- How can you ensure Copilot code review listens to your guidance?\n\nWhile you can format your instructions file however you want, Copilot code review is non-deterministic and has specific limitations that will evolve as we improve the product. Understanding how to guide Copilot within its current capabilities is key to getting the most from your reviews.\n\nAfter reviewing many instructions files, common questions, and feedback, we’ve created this guide to help you write instructions that really work—and avoid some pitfalls along the way.\n\n⚠️ Note: While these tips are designed for Copilot code review, you might find some of them useful when writing instructions files for other Copilot products.\n\n## **General tips**\n\nGetting started is the hardest part. Here are some things to keep in mind when starting with your instructions.\n\n- **Keep it concise:** Copilot works best with focused, short instructions. Start small and iterate. Even a single line can help guide Copilot. On the flip side, long instructions files (over ~1,000 lines) can lead to inconsistent behavior.\n- **Structure matters:** Use headings and bullet points to keep information organized and easy for Copilot to process.\n- **Be direct:** Short, imperative rules are more effective than long paragraphs.\n- **Show examples:** Demonstrate concepts with sample code or explanations—just like you would with a teammate.\n\n## **Repo-wide vs. path-specific instructions**\n\nIn addition to the centralized repo-wide `copilot-instructions.md` file, we recently expanded your customization options by enabling Copilot code review to read any `NAME.instructions.md` file with an `applyTo` frontmatter in your `.github/instructions` directory. It can be confusing to have two seemingly similar options for customization, but each provides different value! Here are some tips for how to differentiate between the two, and use them both effectively.\n\n- Place language-specific rules in `*.instructions.md`\nfiles and then use the `applyTo` frontmatter property to target specific languages (e.g., `applyTo: **/*.py` or `applyTo: documentation/*.md` ).\n- Place rules meant specifically for only Copilot code review or only Copilot coding agent in `*.instructions.md`\nfiles, and use the `excludeAgent` frontmatter property to prevent either agent from reading your file.\n- Organize different topics (e.g., security, language-specific guidelines, etc.) into separate `*.instructions.md`\nfiles.\n- Reserve general instructions, team standards, and guidelines for the whole repository for `copilot-instructions.md`\n(e.g., “Flag use of deprecated libraries across the codebase”).\n\n## **Rules of thumb**\n\nWe’ve gone over what not to do. Now for what to do, effective instructions files often include:\n\n1. Clear titles\n2. A purpose or scope statement to clarify intent\n3. Lists of guidelines/rules instead of dense paragraphs\n4. Best practice recommendations\n5. Style conventions (indentation, naming, organization)\n6. Sample code blocks for clarification\n7. Section headings for organization\n8. Task-specific instructions (e.g., for tests or endpoints)\n9. Language/tooling context\n10. Emphasis on readability and consistency\n11. Explicit directives for Copilot (“Prefer X over Y”)\n\n## **What not to do**\n\nCertain types of instructions aren’t supported by Copilot code review. Here are common pitfalls to avoid:\n\n- Trying to **change the UX or formatting of Copilot comments** (e.g., “Change the font of Copilot code review comments”).\n- Trying to **modify the “Pull Request Overview” comment** (e.g. prompting to remove it or change its purpose to be something other than provide an overview of the pull request).\n- Requesting Copilot code review **performs tasks outside of code review**. (e.g., trying to modify the product behavior like asking it to block a pull request from merging).\n- Including **external links.** Copilot won’t follow them. You should copy relevant info into your instructions files instead.\n- Adding **requests meant to generally and non-specifically improve behavior** (e.g., “Be more accurate” or “Identify all issues”). Copilot code review is already tuned to do this and adding language like this adds more noise that confuses the LLM.\n\n## **Recommended structure for instructions files**\n\nStarting off with a blank Markdown file can feel daunting. Here’s one structure that you can use, ready to copy-paste into your instructions file as a starting point!\n\n```\n# [Your Title Here]\n*Example: ReactJS Development Guidelines*\n\n## Purpose & Scope\nBriefly describe what this file covers and when to use it.\n\n---\n\n## Naming Conventions\n- [Add rules here, e.g., \"Use camelCase for variable names.\"]\n\n## Code Style\n- [Add rules here, e.g., \"Indent using 2 spaces.\"]\n\n## Error Handling\n- [Add rules here.]\n\n## Testing\n- [Add rules here.]\n\n## Security\n- [Add rules here.]\n\n---\n\n## Code Examples\n```js // Correct pattern function myFunction() { ... }\n\n// Incorrect pattern function My_function() { ... } ```\n\n---\n\n## [Optional] Task-Specific or Advanced Sections\n\n### Framework-Specific Rules\n- [Add any relevant rules for frameworks, libraries, or tooling.]\n\n### Advanced Tips & Edge Cases\n- [Document exceptions, advanced patterns, or important caveats.]\n```\n\n## **Example: A `typescript.instructions.md` file**\n\nNow let’s implement all of these guidelines in an example path-specific instruction file.\n\n``` --- applyTo: \"**/*.ts\" ---\n# TypeScript Coding Standards\nThis file defines our TypeScript coding conventions for Copilot code review.\n\n## Naming Conventions\n\n- Use `camelCase` for variables and functions.\n- Use `PascalCase` for class and interface names.\n- Prefix private variables with `_`.\n\n## Code Style\n\n- Prefer `const` over `let` when variables are not reassigned.\n- Use arrow functions for anonymous callbacks.\n- Avoid using `any` type; specify more precise types whenever possible.\n- Limit line length to 100 characters.\n\n## Error Handling\n\n- Always handle promise rejections with `try/catch` or `.catch()`.\n- Use custom error classes for application-specific errors.\n\n## Testing\n\n- Write unit tests for all exported functions.\n- Use [Jest](https://jestjs.io/) for all testing.\n- Name test files as `<filename>.test.ts`.\n\n## Example\n\n```typescript // Good interface User { id: number; name: string; }\n\nconst fetchUser = async (id: number): Promise<User> => { try { // ...fetch logic } catch (error) { // handle error } };\n\n// Bad interface user { Id: number; Name: string; }\n\nasync function FetchUser(Id) { // ...fetch logic, no error handling } ```\n\n## **Get started**\n\n### Getting started with Copilot code review\n\nNew to Copilot code review? Get started by [adding Copilot as a reviewer](https://docs.github.com/en/copilot/how-tos/use-copilot-agents/request-a-code-review/use-code-review#using-copilot-code-review) to your pull requests!\n\n### Adding new custom instructions\n\nCreate a `copilot-instructions.md` file in the `.github` directory of your repository, or a path-specific `*.instructions.md` file within the `.github/instructions` directory in your repository, and use this post and [examples in the awesome-copilot repository](https://github.com/github/awesome-copilot/tree/main/instructions) for inspiration.\n\nOr just [ask Copilot coding agent](https://docs.github.com/en/copilot/how-tos/configure-custom-instructions/add-repository-instructions#asking-copilot-coding-agent-to-generate-a-copilot-instructionsmd-file) to generate an instructions file for you, and iterate from there.\n\n### Editing existing custom instructions\n\nHave existing custom instructions for Copilot code review that you think could use some editing after reading this post, but don’t know where to begin? Have Copilot coding agent edit your file for you!\n\n1. Navigate to the agents page at [github.com/copilot/agents](https://github.com/copilot/agents).\n2. Using the dropdown menu in the prompt field, select the repository and branch where you want Copilot to edit custom instructions.\n\nCopy the following prompt, editing it for your use-case as needed. **Make sure to modify the first sentence to specify which instruction files you want it to edit.** This prompt will tailor your instructions file for Copilot code review, so it may make unwanted edits if used for instruction files meant for other agents.\n\n``` **Prompt for Copilot Coding Agent: Revise My Instructions File**\n\n--- Review and revise my existing `NAME-OF-INSTRUCTION-FILES` files. Preserve my file's meaning and intention—do NOT make unnecessary changes or edits. Only make improvements where needed, specifically:\n\n- Remove unsupported or redundant content.\nUnsupported content includes:\n- instructions to change Copilot code review comment formatting (font, font size, adding headers, etc)\n- instructions to change \"PR Overview\" comment content\n- instructions for product behavior changes outside of existing code review functionality (like trying to block a pull request from merging)\n- Vague, non-specific directives like “be more accurate”, \"identify all issues\" or similar\n- Directives to “follow links” or inclusion of any external links\n- Reformat sections for clarity if they do not have any structure.\n- If my file does not have any structure, reformat into the structure below or similar, depending on the topics covered in the file.\n- Do not change the intent or substance of the original content unless the content is not supported.\n- Organize content with section headings and bullet points or numbered lists.\n- Add sample code blocks if clarification is needed and they are missing.\n- When applicable, separate language-specific rules into path-specific instructions files with the format `NAME.instructions.md`, with the `applyTo` property, if not already done.\n- If the file is over 4000 characters long, prioritize shortening the file by identifying redundant instructions, instructions that could be summarized, and instructions that can be removed due to being unspported.\n\n**Example Structure:**\n\n# Python Coding Standards\n\nGuidelines for Python code reviews with Copilot.\n\n## Naming Conventions\n\n- Use `snake_case` for functions and variables.\n- Use `PascalCase` for class names.\n\n## Code Style\n\n- Prefer list comprehensions for simple loops.\n- Limit lines to 80 characters.\n\n## Error Handling\n\n- Catch specific exceptions, not bare `except:`.\n- Add error messages when raising exceptions.\n\n## Testing\n\n- Name test files as `test_*.py`.\n- Use `pytest` for tests.\n\n## Example\n\n```python\n# Good\ndef calculate_total(items): return sum(items)\n\n# Bad\ndef CalculateTotal(Items): total = 0 for item in Items: total += item return total ```\n\n---\n\n### Framework-Specific Rules\n- For Django, use class-based views when possible.\n\n### Advanced Tips & Edge Cases\n- Use type hints for function signatures.\n```\n\n1. Click **Start task** or press Return.\n\nCopilot will start a new session, which will appear in the list below the prompt box. Copilot will create a draft pull request, modify your custom instructions, push them to the branch, then add you as a reviewer when it has finished. This will trigger a notification for you.\n\n## **Resources to check out**\n\n- [Copilot code review custom instructions example in GitHub docs](https://docs.github.com/en/copilot/tutorials/customization-library/custom-instructions/code-reviewer)\n- [awesome-copilot repository of instructions examples](https://github.com/github/awesome-copilot/tree/main/instructions)\n\nCustomizing with Copilot instructions files makes code review work for you—give it a try and see the difference in your workflow!",
  "PubDate": "2025-11-14T17:00:00+00:00",
  "FeedName": "The GitHub Blog",
  "FeedUrl": "https://github.blog/feed/",
  "Title": "Unlocking the full power of Copilot code review: Master your instructions files",
  "OutputDir": "_news",
  "Link": "https://github.blog/ai-and-ml/unlocking-the-full-power-of-copilot-code-review-master-your-instructions-files/",
  "Tags": [
    "AI & ML",
    "GitHub Copilot",
    "GitHub Copilot code review"
  ],
  "Author": "Ria Gopu",
  "FeedLevelAuthor": "The GitHub Blog",
  "ProcessedDate": "2025-11-14 17:02:48",
  "Description": "Discover practical tips, examples, and best practices for writing effective instructions files. Whether you’re new or experienced, you’ll find something to level up your code reviews.\n\nThe post [Unlocking the full power of Copilot code review: Master your instructions files](https://github.blog/ai-and-ml/unlocking-the-full-power-of-copilot-code-review-master-your-instructions-files/) appeared first on [The GitHub Blog](https://github.blog)."
}
