{
  "Tags": [
    "Agents",
    "AI Foundry",
    "All things Azure",
    "App Development",
    "Azure",
    "Azure OpenAI",
    "codex",
    "codex-mini",
    "coding-agent",
    "Developer Productivity",
    "openai"
  ],
  "OutputDir": "_news",
  "FeedLevelAuthor": "All things Azure",
  "ProcessedDate": "2025-08-05 14:11:57",
  "FeedUrl": "https://devblogs.microsoft.com/all-things-azure/feed/",
  "Title": "Securely Turbo‑Charge Your Software Delivery with Codex Coding Agent on Azure OpenAI",
  "Description": "Introduction We have contributed the following five pull requests to add Azure OpenAI support to Codex, letting you enjoy the same Codex experience as in ChatGPT while running securely on Azure: PR #769 PR #1324 PR #1321 PR #1778 (awaiting merge – Entra ID token-based authentication related to PR #92) We are collaborating with OpenAI on additional updates and integrations, so […]\n\nThe post [Securely Turbo‑Charge Your Software Delivery with Codex Coding Agent on Azure OpenAI](https://devblogs.microsoft.com/all-things-azure/securely-turbo%e2%80%91charge-your-software-delivery-with-the-codex-coding-agent-on-azure-openai/) appeared first on [All things Azure](https://devblogs.microsoft.com/all-things-azure).",
  "Link": "https://devblogs.microsoft.com/all-things-azure/securely-turbo%e2%80%91charge-your-software-delivery-with-the-codex-coding-agent-on-azure-openai/",
  "FeedName": "Microsoft DevBlog",
  "Author": "Govind Kamtamneni",
  "EnhancedContent": "## Introduction\n\nWe have contributed the following four pull requests to add Azure OpenAI support to Codex, letting you enjoy the same Codex experience as in ChatGPT while running securely on Azure:\n\n- [PR #769](https://github.com/openai/codex/pull/769)\n- [PR #1324](https://github.com/openai/codex/pull/1324)\n- [PR #1321](https://github.com/openai/codex/pull/1321)\n- [PR #92](https://github.com/openai/codex/pull/92) (work in progress – Entra ID token-based authentication)\n\nWe are collaborating with OpenAI on additional updates and integrations, so stay tuned. Meanwhile, follow the steps below to get Codex running on your Azure subscription.\n\n**Pending OpenAI's NPM release**\n\nUntil OpenAI [publishes a new release](https://www.npmjs.com/package/@openai/codex?activeTab=versions) from main, please [build from source](https://github.com/openai/codex?tab=readme-ov-file#installation)\n\nOpenAI’s [**Codex CLI**](https://github.com/openai/codex) is the same coding agent that powers ChatGPT’s Codex. You can now run this coding agent *entirely on Azure infrastructure*, which keeps your data inside your compliance boundary and gives you the advantages of enterprise-grade security, private networking, role-based access control, and predictable cost management. Codex is more than a chat with your code agent – it is an **asynchronous coding agent** that can be triggered from your terminal or from a GitHub Actions runner, automatically opening pull requests, refactoring files, and writing tests with the credentials of your Azure OpenAI deployment. Explore deploying it with Azure OpenAI for use cases such as language translation, data-to-code, and legacy migration as detailed in the original [Introducing Codex blog post](https://openai.com/index/introducing-codex/).\n\nAfter you are up and running, visit [gitagu.com](https://gitagu.com) to configure your repository for Codex and to browse a growing catalog of other Azure-hosted coding agents, including GitHub Copilot Coding Agent, Cognition Devin, SRE Agent, and more.\n\n[https://devblogs.microsoft.com/all-things-azure/wp-content/uploads/sites/83/2025/06/Video.webm](https://devblogs.microsoft.com/all-things-azure/wp-content/uploads/sites/83/2025/06/Video.webm)\n\n### Prerequisites\n\n- An active Azure subscription with access to **Azure OpenAI**.\n- Contributor permissions in [Azure AI Foundry](https://ai.azure.com).\n- macOS, Linux, or Windows 11 plus **WSL 2** (Codex is trained on Unix-style shells).\n- Node 18+ and `npm`\nfor installing the CLI.\n\n### Step 1 – Deploy a Codex model in Azure AI Foundry\n\n1. Go to Azure AI Foundry @ `ai.azure.com`\nand create a new project.\n2. Select a reasoning model such as [`codex-mini`](https://devblogs.microsoft.com/foundry/codex-mini-fast-scalable-code-generation-for-the-cli-era/), `o4-mini`\n, or `o3` .\n3. Click **Deploy**, choose a name, and wait about two minutes.\n4. Copy the **Endpoint URL** and generate an **API key**.\n\n### Step 2 – Install the Codex CLI\n\n```default npm install -g @openai/codex export NODE_NO_WARNINGS=1 # Optional - to reduce verbosity codex --version # verify installation ```\n\n### Step 3 – Configure `~/.codex/config.json`\n\n```json { \"model\": \"codex-mini\", \"provider\": \"azure\", \"providers\": { \"azure\": { \"name\": \"AzureOpenAI\", \"baseURL\": \"https://<your-resource>.cognitiveservices.azure.com/openai\", \"envKey\": \"AZURE_OPENAI_API_KEY\" } }, \"history\": { \"maxSize\": 1000, \"saveHistory\": true, \"sensitivePatterns\": [] } } ```\n\n```default\n# Linux, macOS, or WSL\nexport AZURE_OPENAI_API_KEY=\"<your-api-key>\"\n# Work-around for current Codex bug – also set:\nexport OPENAI_API_KEY=\"$AZURE_OPENAI_API_KEY\" ```\n\n### Step 4 – Explore with your coding agent\n\n``` codex -p azure\n\n```\n\n- `# generate a unit test for src/utils/date.ts`\n- `# convert this Java class to Python`\n\n### Step 5 – Run Codex in GitHub Actions\n\n[![codex blog featured image image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAADIAQMAAABoEU4WAAAAA1BMVEXW1taWrGEgAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAHklEQVRYhe3BMQEAAADCoPVPbQdvoAAAAAAAAADgNx54AAHw+DPXAAAAAElFTkSuQmCC)](https://devblogs.microsoft.com/all-things-azure/wp-content/uploads/sites/83/2025/06/codex-blog-featured-image-1.png)\n\nCodex can execute as part of your CI pipeline. Store your API key in the repository’s secret store as `AZURE_OPENAI_API_KEY` and add a job like:\n\n```default jobs: codex_refactor: runs-on: ubuntu-latest steps:\n- uses: actions/checkout@v4\n- name: Run Codex agent\nrun: | npm install -g @openai/codex export AZURE_OPENAI_API_KEY=${{ secrets.AZURE_OPENAI_API_KEY }} export OPENAI_API_KEY=${{ secrets.AZURE_OPENAI_API_KEY }} codex -p azure \"# refactor the authentication module for clarity\" ```\n\n### Step 6 – Explore more agents with [Gitagu](https://gitagu.com)\n\n- Browse detailed docs and benchmarks for other Azure-hosted agents.\n- Create repo-ready configuration guides with one click.\n- Experiment with GitHub Copilot Coding Agent, Cognition Devin, SRE Agent, and others.\n\n### Troubleshooting\n\n| Symptom | Fix | | --- | --- | | `401 Unauthorized`<br> or `403 Forbidden` | Export both `AZURE_OPENAI_API_KEY`<br> *and* (until the bug is resolved) `OPENAI_API_KEY`<br> with the same value.<br>Confirm that your key has *project/deployment* access. | | `ENOTFOUND`<br>, DNS error, or `404 Not Found` | Verify `baseURL`<br> in `config.json`<br> uses your resource name and correct domain, e.g.<br>`https://<resource>.openai.azure.com/openai`<br>.<br>Some tenants require the `.cognitiveservices`<br> domain (example shared by a reader: `https://ecano-project1rp-resource.cognitiveservices.azure.com/openai`<br>). | | CLI says “no provider found” or ignores Azure settings | Open `~/.codex/config.json`<br> and ensure:<br><ul><br><li><code>\"provider\": \"azure\"</code><br></li><br><br><li><code>\"envKey\": \"AZURE_OPENAI_API_KEY\"</code><br> matches your exported variable</li><br><br><li>The correct <code>model</code><br> and <code>baseURL</code><br> (try either &#8230;openai.azure.com or &#8230;cognitiveservices.com &#8211; as noted above) are present</li><br><br></ul> | | In Codex, you get a warning that “codex-mini” is not in the list of available models for provider “azure” | This is a known issue, and we have a PR in progress to address this. Ignore this warning and proceed with codex-cli tasks. |\n\n### Conclusion\n\nIn just a few minutes you can connect an AI coding agent to your Azure tenant, keep intellectual property secure, and accelerate software delivery. Combine Codex CLI, GitHub Actions, and Gitagu’s agent catalog to build a flexible AI-powered engineering workflow. Give it a try and share what you create.\n\nQuestions or feedback? Drop a comment below",
  "PubDate": "2025-06-17T22:54:11+00:00"
}
