{
  "EnhancedContent": "In today’s data-driven world, the ability to quickly expose data through modern APIs is crucial. Microsoft Fabric’s API for GraphQL combined with Materialized Lake Views offers a powerful solution that bridges the gap between your Fabric LakeHouse data and application developers who need fast, flexible access to your data.\n\nIn this guide, we’ll walk you through how to create a materialized view in a Lakehouse and expose it through a GraphQL API—all within the Microsoft Fabric ecosystem. This approach gives you the best of both worlds: the performance optimization of materialized views and the developer-friendly querying capabilities of GraphQL.\n\n## Why This Combination Matters\n\nBefore we dive into the how-to, let’s understand why this matters:\n\n- **Materialized Views** pre-compute and store query results, dramatically improving query performance for complex analytics.\n- **GraphQL APIs** provide a flexible, self-documenting interface that lets developers request exactly the data they need.\n- **Microsoft Fabric** brings these capabilities together in a unified platform, eliminating the need for complex integrations.\n\nThe result? Data engineers can optimize query performance while application developers get fast, intuitive API access—without compromising on either side.\n\n## What You’ll Build\n\nIn this tutorial, we’ll use the LakeHouse sample Wide World Importers retail dataset to create a practical example. We’ll:\n\n1. Set up a Lakehouse with sample retail data.\n2. Create a materialized view that aggregates sales metrics.\n3. Expose that view through a GraphQL API.\n4. Query the data using GraphQL.\n\nLet’s get started!\n\n## Step 1: Create a Lakehouse with LakeHouse Schemas Enabled\n\nFirst, we need to create a Lakehouse with schema support enabled. This must be done during the lakehouse creation process.\n\n1. Navigate to your Fabric workspace.\n2. Select **+ New** and select **Lakehouse**.\n3. Give your Lakehouse a meaningful name (e.g., ‘RetailAnalytics’).\n4. **Important**: Check the box next to ‘**Lakehouse schemas (Preview)**‘ to enable schema support.\n5. Select **Create**.\n\nNow let’s populate it with sample data:\n\n1. Select **Start with sample data**.\n2. Choose **Retail Data Model from Wide World Importers**.\n\nWithin moments, your Lakehouse will be populated with realistic retail data in the dbo schema, including dimension tables (cities, customers, employees, stock items) and the fact\\_sale table. This dataset mirrors real-world retail scenarios, making it perfect for demonstrating enterprise use cases.\n\n> >\n> **Note**: Lakehouse schemas is currently in Preview. Once enabled during creation, you cannot disable schemas for that lakehouse. If you have an existing lakehouse without schemas, you’ll need to create a new one with schemas enabled.\n> >\n\n## Step 2: Create a Materialized Lake View\n\nNow let’s create a materialized lake view using a notebook. Unlike traditional SQL views, materialized lake views in Fabric are created using Spark SQL in notebooks and are automatically managed by the platform.\n\n**Important: Materialized lake views require Fabric Runtime 1.3 or later.** Make sure your workspace is configured to use Runtime 1.3 before proceeding.\n\n1. In your Lakehouse, select **Manage materialized lake views** from the ribbon.\n2. Select **new materialized lake view**, then **new notebook**.\n3. A new notebook opens where you can write your Spark SQL code.\n\nIn the notebook, create a materialized lake view that aggregates sales metrics:\n\n``` %%sql CREATE MATERIALIZED LAKE VIEW IF NOT EXISTS dbo.SalesByStockItemAndCity COMMENT \"Sales metrics aggregated by stock item and city\" AS SELECT si.StockItem, si.Brand, si.Color, c.City, c.StateProvince, c.Country, COUNT(DISTINCT fs.SaleKey) as TotalSales, SUM(fs.Quantity) as TotalQuantity, SUM(fs.TotalExcludingTax) as TotalRevenue, SUM(fs.Profit) as TotalProfit, AVG(fs.UnitPrice) as AverageUnitPrice FROM dbo.fact_sale fs INNER JOIN dbo.dimension_stock_item si ON fs.StockItemKey = si.StockItemKey INNER JOIN dbo.dimension_city c ON fs.CityKey = c.CityKey GROUP BY si.StockItem, si.Brand, si.Color, c.City, c.StateProvince, c.Country; ```\n\n1. Run the cell to create the materialized lake view.\n2. Open the **Lakehouse explorer** to verify the view was created successfully.\n\nThis view pre-computes key metrics across the fact and dimension tables. The beauty of materialized lake views is that Fabric automatically manages the refresh logic and dependency tracking—you just define what you want, and Fabric handles how to maintain it.\n\n![](//dataplatformblogwebfd-d3h9cbawf0h8ecgf.b01.azurefd.net/wp-content/uploads/2025/11/MLV-Screenshot-2025-11-13-113058-1024x698.png)\n\n## Step 3: Schedule and Monitor Refreshes\n\nOne of the powerful features of materialized lake views is the automatic lineage tracking and refresh scheduling.\n\n1. Navigate back to your Lakehouse.\n2. Select **Manage materialized lake views** to see the auto-generated lineage diagram.\n3. The lineage view shows dependencies between your view and source tables.\n4. Select **Schedule** from the navigation ribbon.\n5. Turn **On** the refresh and configure your desired schedule (hourly, daily, etc.).\n\nFabric intelligently manages the refresh process—if source data hasn’t changed, the view won’t be needlessly recomputed, saving capacity and compute resources. You can monitor ongoing and historical runs from the dropdown menu to track execution status and performance.\n\n## Step 4: Create an API for GraphQL\n\nHere’s where the magic happens—we’ll expose our materialized lake view through a GraphQL API with just a few clicks.\n\n1. In your Fabric workspace, select **+ New** and select **API for GraphQL**.\n2. Give your API a descriptive name (e.g., ‘RetailDataAPI’).\n3. In the API editor, select, **Select data source**.\n4. Choose your Lakehouse as the data source.\n5. Select the **SalesByStockItemAndCity** materialized lake view from the available tables and views. If you cannot see the view listed in this screen, you might have to access the LakeHouse SQL Analytics Endpoint and manually refresh the available tables and views.\n6. Select **Load** to generate the GraphQL schema automatically.\n\nThat’s it! Fabric automatically generates a fully-functional GraphQL schema based on your materialized view structure. The schema includes queries for fetching data with filtering, sorting, and pagination built in.\n\n## Step 5: Query Your Data with GraphQL\n\nNow you can query your data using GraphQL. The API for GraphQL includes a built-in API explorer that makes testing queries easy.\n\nThe following is an example query to fetch top-performing products in specific regions:\n\n``` query TopProductsByRegion { salesbystockitemandcities( filter: { Country: { eq: \"United States\" } TotalRevenue: { gt: 50000 } } orderBy: { TotalProfit: DESC } first: 10 ) { items { StockItem Brand Color City StateProvince TotalSales TotalQuantity TotalRevenue TotalProfit AverageUnitPrice } } } ```\n\nThe beauty of GraphQL is that application developers can request exactly the fields they need. Want just product names and profit margins? Need to filter by brand or color? Simply modify the query—no need to create new API endpoints.\n\n![](//dataplatformblogwebfd-d3h9cbawf0h8ecgf.b01.azurefd.net/wp-content/uploads/2025/11/GraphQLScreenshot-2025-11-13-112840-1024x616.png)\n\n## The Power of This Approach\n\nThis integration delivers three key benefits:\n\n**Performance**: Materialized views pre-compute complex aggregations, while GraphQL’s efficient data fetching ensures clients get only what they need. The combination means fast queries at both the data layer and API layer.\n\n**Developer Experience**: Application developers get a modern, self-documenting API that supports exactly the flexible querying patterns they need. No more requesting new endpoints for slight variations in data requirements.\n\n**Simplicity**: Everything happens within Microsoft Fabric—no need to set up separate API gateways, manage connections between systems, or maintain complex infrastructure. Create your view, expose it through GraphQL, and you’re done.\n\n## What’s Next?\n\nYou’ve now seen how easy it is to expose Lakehouse data through GraphQL APIs using materialized views. This pattern works for any data in your Lakehouse, whether it’s retail data, IoT telemetry, financial transactions, or operational metrics.\n\nReady to try this with your own data? Here are some resources to get you started:\n\n- **Get started with API for GraphQL**: [Microsoft Fabric GraphQL Documentation](https://learn.microsoft.com/fabric/data-engineering/get-started-api-graphql).\n- **Learn about Materialized Lake Views**: [Materialized Views Guide](https://learn.microsoft.com/fabric/data-engineering/materialized-lake-views/get-started-with-materialized-lake-views).\n- **Explore the Retail Dataset**: Try creating different materialized views—customer lifetime value, product performance trends, or seasonal sales patterns.\n\nThe possibilities are endless when you combine the analytical power of a Fabric LakeHouse with the flexibility of GraphQL. Give it a try and let us know what you build!\n\n*Have questions or want to share what you’ve built? Submit your feedback to [Fabric Ideas](https://community.fabric.microsoft.com/t5/Fabric-Ideas/idb-p/fbc_ideas). We’d love to hear how you’re using API for GraphQL with Materialized Lake Views in your organization.*",
  "ProcessedDate": "2025-12-02 21:02:49",
  "FeedLevelAuthor": "Microsoft Fabric Blog",
  "Tags": [],
  "Link": "https://blog.fabric.microsoft.com/en-US/blog/exposing-lakehouse-materialized-views-to-applications-in-minutes-with-graphql-apis-in-microsoft-fabric/",
  "Description": "In today’s data-driven world, the ability to quickly expose data through modern APIs is crucial. Microsoft Fabric’s API for GraphQL combined with Materialized Lake Views offers a powerful solution that bridges the gap between your Fabric LakeHouse data and application developers who need fast, flexible access to your data. In this guide, we’ll walk you …\n\n[Continue reading “Exposing Lakehouse Materialized Views to applications in minutes with GraphQL APIs in Microsoft Fabric”](https://blog.fabric.microsoft.com/en-us/blog/exposing-lakehouse-materialized-views-to-applications-in-minutes-with-graphql-apis-in-microsoft-fabric/)",
  "Author": "Microsoft Fabric Blog",
  "Title": "Exposing Lakehouse Materialized Views to applications in minutes with GraphQL APIs in Microsoft Fabric",
  "FeedUrl": "https://blog.fabric.microsoft.com/en-us/blog/feed/",
  "OutputDir": "_news",
  "FeedName": "Microsoft Fabric Blog",
  "PubDate": "2025-12-02T14:00:00+00:00"
}
