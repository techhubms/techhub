{
  "OutputDir": "_posts",
  "FeedUrl": "https://dellenny.com/feed/",
  "EnhancedContent": "Skip to content\n\n![](https://i0.wp.com/dellenny.com/wp-content/uploads/2025/03/remotedesktopapp.png?fit=699%2C679&amp;ssl=1)\n\nIf you‚Äôve ever needed to back up your Confluence pages, migrate content to another platform, or simply automate page exports, you‚Äôve probably noticed that the Confluence UI has limitations. Exporting an entire space manually via the UI can be time-consuming, and bulk exports in custom formats (like Markdown) aren‚Äôt supported.\n\nThat‚Äôs where the **Confluence REST API** comes in. With just a few lines of Python and an API token, you can fetch pages, attachments, and even convert them into different formats.\n\n## üîë Step 1. Get Your API Token\n\nIf you‚Äôre on **Confluence Cloud**, you‚Äôll need an Atlassian API token (instead of your password).\n\n1. Go to your Atlassian account: Create API Token\n2. Click **Create API token** ‚Üí give it a name (e.g., ‚ÄúConfluence Export‚Äù).\n3. Copy the token (store it securely).\n\nYou‚Äôll authenticate with:\n\n- **Email address** (your Atlassian login)\n- **API token** (instead of password)\n\nFor **Confluence Server/Data Center**, you can use username/password or a personal access token.\n\n## üîó Step 2. Understand the Key API Endpoints\n\nThe Confluence REST API provides several useful endpoints:\n\n- **Get Page Content** `GET /wiki/rest/api/content/{pageId}?expand=body.view`\nReturns HTML content of the page. Replace `body.view` with `body.storage` if you want Confluence‚Äôs raw XML-like storage format.\n- **Get All Pages in a Space** `GET /wiki/rest/api/space/{spaceKey}/content?limit=100`\nLists all pages in a given space. (Paginated results!)\n- **Get Attachments** `GET /wiki/rest/api/content/{pageId}/child/attachment`\n\n## üêç Step 3. Export with Python\n\nHere‚Äôs a simple Python script to export all pages and attachments from a Confluence space:\n\n``` import requests import os\n\n# === CONFIG ===\nBASE_URL = \"https://your-domain.atlassian.net/wiki\" EMAIL = \"your-email@example.com\" API_TOKEN = \"your-api-token\" # Get this from Atlassian SPACE_KEY = \"TEST\" # Your space key EXPORT_DIR = \"confluence_export\"\n\n# === SETUP ===\nauth = (EMAIL, API_TOKEN) os.makedirs(EXPORT_DIR, exist_ok=True)\n\n# Get all pages in the space\ndef get_space_pages(): url = f\"{BASE_URL}/rest/api/space/{SPACE_KEY}/content?limit=100\" response = requests.get(url, auth=auth) response.raise_for_status() return response.json()[\"page\"][\"results\"]\n\n# Save page as HTML\ndef get_page_content(page_id, title): url = f\"{BASE_URL}/rest/api/content/{page_id}?expand=body.view\" response = requests.get(url, auth=auth) response.raise_for_status() html_content = response.json()[\"body\"][\"view\"][\"value\"]\n\nfilename = os.path.join(EXPORT_DIR, f\"{title}.html\") with open(filename, \"w\", encoding=\"utf-8\") as f: f.write(html_content) print(f\"‚úÖ Saved page: {filename}\")\n\n# Download attachments\ndef download_attachments(page_id): url = f\"{BASE_URL}/rest/api/content/{page_id}/child/attachment\" response = requests.get(url, auth=auth) response.raise_for_status() attachments = response.json().get(\"results\", [])\n\nfor att in attachments: download_link = att[\"_links\"][\"download\"] filename = att[\"title\"].replace(\"/\", \"_\") file_url = f\"{BASE_URL}{download_link}\"\n\nresp = requests.get(file_url, auth=auth) with open(os.path.join(EXPORT_DIR, filename), \"wb\") as f: f.write(resp.content) print(f\"üìé Downloaded attachment: {filename}\")\n\nif __name__ == \"__main__\": pages = get_space_pages() for page in pages: page_id = page[\"id\"] title = page[\"title\"].replace(\"/\", \"_\") # safe filenames get_page_content(page_id, title) download_attachments(page_id)\n\n```\n\n## ‚ö° Step 4. Run the Script\n\n1. Save the script as `export_confluence.py`\n2. Install dependencies: `pip install requests`\n3. Run: `python export_confluence.py`\n\nThis will:\n\n- Export each page as an `.html`\nfile\n- Download all attachments into the same folder\n\n## üéØ Why This Approach Rocks\n\n- **Automated**: No more clicking through UI export options\n- **Flexible**: Convert `.html`\nto `.md` or `.pdf` using tools like Pandoc\n- **Granular**: Fetch only the pages/attachments you need\n- **Reusable**: Integrate into migration or backup pipelines\n\n## ‚úÖ Next Steps\n\n- Convert HTML to Markdown for GitHub/GitLab wikis.\n- Wrap this into a cron job for **scheduled backups**.\n- Enhance pagination support to handle thousands of pages.\n\n### Share this:\n\n- [Click to share on Facebook (Opens in new window)\nFacebook](https://dellenny.com/exporting-confluence-content-with-the-rest-api-and-api-tokens/?share=facebook)\n- [Click to share on X (Opens in new window)\nX](https://dellenny.com/exporting-confluence-content-with-the-rest-api-and-api-tokens/?share=x)\n- [Click to share on LinkedIn (Opens in new window)\nLinkedIn](https://dellenny.com/exporting-confluence-content-with-the-rest-api-and-api-tokens/?share=linkedin)\n- [Click to share on Telegram (Opens in new window)\nTelegram](https://dellenny.com/exporting-confluence-content-with-the-rest-api-and-api-tokens/?share=telegram)\n- [Click to share on WhatsApp (Opens in new window)\nWhatsApp](https://dellenny.com/exporting-confluence-content-with-the-rest-api-and-api-tokens/?share=jetpack-whatsapp) -\n\n### Like this:\n\nLike Loading...\n\n### *Related*\n\n### Discover more from Dellenny\n\nSubscribe to get the latest posts sent to your email.\n\n[Subscribe](https://dellenny.com/?post_type=post&#038;p=2304)\n\n## Related Posts\n\n[![Getting Started with Power Automate A Beginner‚Äôs Guide](https://i0.wp.com/dellenny.com/wp-content/uploads/2025/03/videoediting.png?fit=711%2C708&amp;ssl=1)](https://dellenny.com/getting-started-with-power-automate-a-beginners-guide/)\n\n[![Supercharging Business Automation Microsoft Power Automate Integration with Azure AI](https://i0.wp.com/dellenny.com/wp-content/uploads/2025/02/copilot.png?fit=828%2C797&amp;ssl=1)](https://dellenny.com/supercharging-business-automation-microsoft-power-automate-integration-with-azure-ai/)\n\n[![Exploring the RPA Landscape Top Tools Powering Intelligent Automation in 2025](https://i0.wp.com/dellenny.com/wp-content/uploads/2025/03/integration.png?fit=710%2C702&amp;ssl=1)](https://dellenny.com/exploring-the-rpa-landscape-top-tools-powering-intelligent-automation-in-2025/)\n\nScroll to Top\n\n%d",
  "PubDate": "2025-08-17T12:03:56+00:00",
  "Tags": [
    "Automation"
  ],
  "Description": "If you‚Äôve ever needed to back up your Confluence pages, migrate content to another platform, or simply automate page exports, [‚Ä¶]\n\nThe post [Exporting Confluence Content with the REST API and API Tokens](https://dellenny.com/exporting-confluence-content-with-the-rest-api-and-api-tokens/) appeared first on [Dellenny](https://dellenny.com).",
  "Link": "https://dellenny.com/exporting-confluence-content-with-the-rest-api-and-api-tokens/",
  "ProcessedDate": "2025-08-17 15:11:01",
  "Title": "Exporting Confluence Content with the REST API and API Tokens",
  "Author": "Dellenny",
  "FeedLevelAuthor": "Dellenny",
  "FeedName": "Dellenny's Blog"
}
