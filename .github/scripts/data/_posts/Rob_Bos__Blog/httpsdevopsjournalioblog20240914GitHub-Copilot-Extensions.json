{
  "ProcessedDate": "2025-08-05 09:47:00",
  "FeedUrl": "https://devopsjournal.io/blog/atom.xml",
  "EnhancedContent": "Date posted: **14 Sep 2024**, 6 minutes to read\n\n# GitHub Copilot Extensions\n\nGitHub Copilot is a great tool to help you write code. The next phase is starting now by enabling you to write your own extensions for Copilot! This is a great way to extend the capabilities of Copilot to your own needs. You can for example look in your own knowledge store for information, or even call into an API to get the information you need. All from within GitHub Copilot Chat itself!\n\n![Announcement image](/images/2024/20240914/Announcement.png)\n\nSome examples of this way of working with Copilot are:\n\n- @workspace/#solution - this works inside of your IDE\n- @github - this works with the GitHub API and you can ask questions like “get all issues for this repo” or “get all PRs for this repo”. Note, only available for GitHub Copilot Enterprise.\n\nNext to that we are seeing some extensions coming out. There are two types of extensions you can build at the moment;\n\n1. VS Code extensions for Copilot: this is a way to extend the capabilities of Copilot in your IDE and it has access to information in your IDE, like the files you have open. Do note that this extension will only work in VS Code, and in none of the other supported IDE’s for Copilot. An example of this type of extension is the `@azure`\nextension (see [announcement](https://techcommunity.microsoft.com/t5/microsoft-developer-community/introducing-github-copilot-for-azure-your-cloud-coding-companion/ba-p/4127644)), that allows you to interact with an Azure knowledge base (currently in private preview). Learn from [Matt Olson’s post](https://github.com/molson504x/copilot-custom-extension) how to build one of these.\n2. GitHub Copilot Extensions: these live somewhere online (where ever you decide to host them) and can be called from within Copilot Chat in any UI that supports it (currently only VS Code and the GitHub web interface on github.com). That is what this post is on!\n\n## Writing a GitHub Copilot Extension\n\nGet started to write your own Copilot extension by reading the [announcement](https://github.blog/news-insights/product-news/introducing-github-copilot-extensions/) and the [documentation](https://docs.github.com/en/copilot/building-copilot-extensions/about-building-copilot-extensions). From that you can create a GitHub App (public or private to your organization) and go to the Copilot part of the settings (see next screenshot).\n\nAfter creating the GitHub App, you need to configure the App with a *public* endpoint that will be called by Copilot. This endpoint should be able to handle the requests from Copilot and return the results in the correct format. The easies way to get started is to create a [Codespace](https://github.com/features/codespaces) and use the Codespace URL when you run your solution as the endpoint for your extension:\n\n![Screenshot of the Codespace URL GitHub App](/images/2024/20240914/app%20settings.png)\n\nThe url in the screenshot is the same as the one I am using in the ‘Callback URL’ setting on the `General` tab of the GitHub App settings.\n\nThere are a lot of code examples in the [copilot-extensions](https://github.com/copilot-extensions) organization, like the following:\n\n- Blackbeard extension (talk like a pirate)\n- RAG extension (implement ‘retrieval augmented generation’ to build up your response in several steps)\n- Function calling extension (retrieve a function from the user prompt, like “what is the weather in Amsterdam”)\n- GitHub Models extension (use the new models API’s to talk to an LLM)\nThese are fine to spelunk in, but as soon as you want to do something else then adding a system prompt and stream back the LLM response, you will find some very rough edges.\n\nInstead I recommend to go straight for the [Copilot Extension SDK](https://github.com/copilot-extensions/preview-sdk.js) library. At the time of writing this SDK in in early alpha stage, but it solves several issues that you will run into when you start building your own extension. I’ve been adding some examples to that repository to help you get started.\n\n### Writing the extension code\n\nUsing the examples in the SDK repo should get you started. The main things you need are in the `README.md` in the `examples` folder. Run the `npm install` and `npm run watch` commands to get the examples running. Don’t forget to make your Codespace port public (so that Copilot can send its messages to it), and to configure the Codespace port URL in the GitHub App settings.\n\nYou need to handle a `POST` event into your application, and then return text and a `createDoneEvent` to indicate your response is complete.\n\nIf you want to, you can create a `createAckEvent` that will tell Copilot you have received the request and are working on it. It will display that status to the user and is a nice way to let the user know you are working on their request, especially when you will be going out to an LLM to generate some text for example.\n\nAfter the `acknowledge` event, you can add `createTextEvent(\"your text here\")` to add custom text to the output. What you do next is up to you. There are several options already supported in the SDK:\n\n- Call the GitHub Copilot API with the user prompt and get the response back (limited model options)\n- Call into an API you have access to\n- Ask the user to confirm something (example later in this post)\n- Call into GitHub Models to get a response from an LLM with more model options\n\n## Running the extension server side in a Codespace\n\nWorking on the extension inside of a [Codespace](https://github.com/features/codespaces) is the most easy way to develop an extension: you receive the traffic directly and you can debug all you want. Do note that I’d recommend using a separate GitHub App for this compared to your production version, as ALL the traffic from the GitHub App will be sent your way, which can be confusing to determine what is coming from.\n\n![Screenshot of the running the extension inside of a Codespace](/images/2024/20240914/Running-the-extension.png)\n\nDon’t forget to make the port public in the Codespace settings, and to configure the URL in the GitHub App settings + the Copilot settings section of the GitHub App. If you do not have a Copilot section in the App, then your App is not flagged in for Copilot extensions.\n\n![Screenshot of the Codespace settings](/images/2024/20240914/AppSettings.png)\n\n## Working with the extension\n\nAs soon as you install the GitHub App in an organization (has to have Copilot licenses enabled), every user in that organization can ask it questions. Do note that GitHub Copilot always checks the incoming prompt for the `@` symbol, so you need to start your prompt with `@your-app-name` to trigger the extension. Once you have done so, the entire conversation will be send to your extension, as there is only one extension per thread that can be interacted with. This is probably for security reasons I think, as the extension will get the entire conversation and can do with it what it wants. You can imagine if your extension would be able to read the conversation from another app, sensitive information could be leaked.\n\n![Screenshot of invoking the extension by calling @xebia with your prompt. It shows the result of the prompt that indicates it has been written with the 'talk like a pirate' system prompt](/images/2024/20240914/01-Invoking-the-extension.png)\n\nYou can now try out the extension in every place that supports it! At the time of writing this post, it is available in VS Code (+ Insiders) and the Web UI on github.com. You can ask the extension for something and it will send the prompt to your extension. Do note that GitHub Copilot by itself checks the incoming prompt with its content filter, to prevent harmful messages from being answered. Only when you pass the filter (like for example it needs to be a coding related prompt), the extension will be called. Same goes for the data you send back, it will be checked by GitHub Copilot before it is shown to the user. I first started with just “hi matey” as a response, but that was blocked and thus not shown to the user.\n\nWhen you first interact with a GitHub Copilot Extension, you get a message asking for consent to share the conversation with the extension. Likewise the extension will get your user information (GitHub handle, Location (approximate)). This is to be able to personalize the response to the user. You can always revoke this consent in the [GitHub settings](https://github.com/settings/installations).\n\n![Screenshot asking for Allow access to the new Copilot extension](/images/2024/20240914/Allow-prompt.png)\n\n## Adding system prompts\n\n``` import { prompt, createAckEvent, createDoneEvent, createTextEvent, parseRequestBody } from \"@copilot-extensions/preview-sdk\";\n\nconst tokenForUser = request.headers['x-github-token']; const payload = parseRequestBody(body);\n\nlet result = await prompt(payload_message.content, { messages: payload.messages, // add the current message thread in here for the LLM to use token: tokenForUser }); response.write(createTextEvent(result.message.content)); response.end(createDoneEvent()); console.log('Response sent');\n\n```\n\n## Working with User Confirmation\n\nYou also have the option to work with user confirmation in your extension. Copilot Extensions are really shaping up to give you endless possibilities like making it an ‘agent’ that can do things for you. Asking a question about a repository and an API that does not exist? Let your Copilot Extension fill an issue in a repo with the question and the answer from the API. Or ask the user to confirm something, like in the following example:\n\n``` import { getUserConfirmation } from \"@copilot-extensions/preview-sdk\";\n\nresponse.write( createConfirmationEvent({ id: \"123\", title: \"Are you sure?\", message: \"Create an issue with the missing API surface.\", }), );\n\n```\n\n![Screenshot showing the user confirm dialog with accept and dismiss buttons](/images/2024/20240914/PromptAccept.png)\n\n# Conclusion\n\nGitHub Copilot Extensions are a great way to extend the capabilities of Copilot to your own needs. You can for example look in your own knowledge store for information (API, Database, an LLM with your own data). All from within GitHub Copilot Chat itself! The possibilities are endless and I am looking forward to see what you will build with it.\n\nI am planning to integrate this with our internal knowledge base, starting with something simple like “What is the GitHub handle for Rob Bos?” and then expanding from there. I am also looking forward to see what other people will build with this, as the possibilities are endless.\n\nWhat ideas do you have to build with this? Let me know in the comments below!\n\nTags:\n\nGitHub\n\nGitHub Copilot\n\nExtensions\n\n[!\\[LinkedIn Share button\\](/images/Linkedin-Share-buttons.png)](https://www.linkedin.com/shareArticle?mini=true&url=https://devopsjournal.io/blog/2024/09/14/GitHub-Copilot-Extensions&title=$GitHub%20Copilot%20Extensions&source=$https://devopsjournal.io/blog/2024/09/14/GitHub-Copilot-Extensions)\n\nInstance:\n\nShare on ![Share to Mastodon logo](data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20713%20176%22%20height%3D%22188%22%20width%3D%22761%22%3E%0A%20%20%3Cpath%20d%3D%22M161%20105c-3%2013-22%2026-44%2029-12%201-23%203-35%202-20-1-35-5-35-5v6c3%2019%2019%2021%2035%2021%2016%201%2031-4%2031-4v15s-11%206-31%207c-11%200-25-1-41-5-34-9-40-46-41-83V58C0%2020%2025%208%2025%208c13-5%2034-8%2057-8s44%203%2057%208c0%200%2025%2012%2025%2050%200%200%200%2028-3%2047%22%20fill%3D%22%233088d4%22%2F%3E%0A%20%20%3Cpath%20d%3D%22M35%2048a10%2010%200%201%201%2020%200%2010%2010%200%200%201-20%200m144%2013v46h-18V62c0-9-4-14-12-14-9%200-14%205-14%2017v24h-18V65c0-12-4-17-13-17-8%200-12%205-12%2014v45H74V61c0-10%202-17%207-23%205-5%2012-8%2020-8%209%200%2016%203%2021%2011l4%207%205-7c5-8%2012-11%2021-11%208%200%2015%203%2020%208%204%206%207%2013%207%2023m63%2023c4-4%206-9%206-15s-2-11-6-15-8-6-14-6-10%202-14%206c-3%204-5%209-5%2015s2%2011%205%2015c4%204%208%205%2014%205s10-1%2014-5m6-52h18v74h-18v-9c-6%207-14%2011-23%2011-10%200-18-4-24-12-7-7-10-16-10-27s3-21%2010-28c6-8%2014-11%2024-11%209%200%2017%203%2023%2010v-8zm78%2035c6%204%208%2010%208%2017s-3%2013-8%2018c-5%204-12%206-20%206-14%200-24-6-29-18l15-9c2%206%207%209%2014%209%206%200%2010-2%2010-6%200-3-5-6-13-8l-8-3-8-4c-5-4-7-9-7-16s2-13%207-17%2012-6%2019-6c12%200%2021%205%2027%2015l-16%209c-2-5-6-7-11-7s-8%202-8%206c0%203%204%206%2013%208%206%201%2011%203%2015%206m58-17h-16v31c0%203%201%206%204%207h12v18c-13%201-21%200-27-4-5-4-7-11-7-21V50h-12V32h12V17l18-6v21h16v18zm57%2033c4-4%206-9%206-14%200-6-2-11-6-15s-8-6-13-6c-6%200-10%202-14%206s-5%209-5%2015c0%205%201%2010%205%2014s8%206%2014%206c5%200%209-2%2013-6m-40%2013c-7-7-10-16-10-27s3-21%2010-28c7-8%2016-11%2027-11%2010%200%2019%203%2026%2011%207%207%2011%2017%2011%2028s-4%2020-11%2027c-7%208-16%2012-26%2012-11%200-20-4-27-12m124-12c4-4%205-9%205-15s-1-11-5-15-8-6-14-6-10%202-14%206-5%209-5%2015%201%2011%205%2015%209%205%2014%205c6%200%2010-1%2014-5m5-82h18v104h-18v-9c-5%207-12%2011-22%2011s-18-4-24-12c-7-7-10-16-10-27s3-21%2010-28c6-8%2014-11%2024-11s17%203%2022%2010V2zm82%2081c3-4%205-9%205-14%200-6-2-11-5-15-4-4-8-6-14-6-5%200-10%202-13%206-4%204-6%209-6%2015%200%205%202%2010%206%2014%203%204%208%206%2013%206%206%200%2010-2%2014-6m-40%2013c-7-7-11-16-11-27s4-21%2011-28c7-8%2016-11%2026-11%2011%200%2019%203%2027%2011%207%207%2010%2017%2010%2028s-3%2020-10%2027c-8%208-16%2012-27%2012-10%200-19-4-26-12m141-36v46h-18V63c0-5-1-9-3-12-3-2-6-4-11-4-10%200-15%206-15%2019v40h-18V32h18v8c4-7%2011-10%2021-10%208%200%2014%202%2019%208%205%205%207%2013%207%2022%22%20fill%3D%22%23fff%22%2F%3E%0A%3C%2Fsvg%3E%0A)\n\n[Make a contribution](https://github.com/rajbos/rajbos.github.io/blob/main//_posts/2024-09-14-GitHub-Copilot-Extensions.md)\n\n[![Xpirit logo](/images/XPRT.BLOG.png)](https://www.xpirit.com/xpiriter/rob)",
  "FeedLevelAuthor": "Rob Bos",
  "OutputDir": "_posts",
  "Tags": [],
  "Author": "Rob Bos",
  "FeedName": "Rob Bos' Blog",
  "Link": "https://devopsjournal.io/blog/2024/09/14/GitHub-Copilot-Extensions",
  "Description": "GitHub Copilot is a great tool to help you write code. The next phase is starting now by enabling you to write your own extensions for Copilot! This is a great way to extend the capabilities of Copilot to your own needs. You can for example look in your own knowledge store for information, or even call into an API to get the information you need. All from within GitHub Copilot Chat itself!\n\n![Announcement image](/images/2024/20240914/Announcement.png)\n\nSome examples of this way of working with Copilot are:\n\n- @workspace/#solution - this works inside of your IDE\n- @github - this works with the GitHub API and you can ask questions like “get all issues for this repo” or “get all PRs for this repo”. Note, only available for GitHub Copilot Enterprise.\n\nNext to that we are seeing some extensions coming out. There are two types of extensions you can build at the moment;\n\n1. VS Code extensions for Copilot: this is a way to extend the capabilities of Copilot in your IDE and it has access to information in your IDE, like the files you have open. Do note that this extension will only work in VS Code, and in none of the other supported IDE’s for Copilot. An example of this type of extension is the `@azure`\nextension (see [announcement](https://techcommunity.microsoft.com/t5/microsoft-developer-community/introducing-github-copilot-for-azure-your-cloud-coding-companion/ba-p/4127644)), that allows you to interact with an Azure knowledge base (currently in private preview). Learn from [Matt Olson’s post](https://github.com/molson504x/copilot-custom-extension) how to build one of these.\n2. GitHub Copilot Extensions: these live somewhere online (where ever you decide to host them) and can be called from within Copilot Chat in any UI that supports it (currently only VS Code and the GitHub web interface on github.com). That is what this post is on!\n\n## Writing a GitHub Copilot Extension\n\nGet started to write your own Copilot extension by reading the [announcement](https://github.blog/news-insights/product-news/introducing-github-copilot-extensions/) and the [documentation](https://docs.github.com/en/copilot/building-copilot-extensions/about-building-copilot-extensions). From that you can create a GitHub App (public or private to your organization) and go to the Copilot part of the settings (see next screenshot).\n\nAfter creating the GitHub App, you need to configure the App with a *public* endpoint that will be called by Copilot. This endpoint should be able to handle the requests from Copilot and return the results in the correct format. The easies way to get started is to create a [Codespace](https://github.com/features/codespaces) and use the Codespace URL when you run your solution as the endpoint for your extension:\n\n![Screenshot of the Codespace URL GitHub App](/images/2024/20240914/app%20settings.png)\n\nThe url in the screenshot is the same as the one I am using in the ‘Callback URL’ setting on the `General` tab of the GitHub App settings.\n\nThere are a lot of code examples in the [copilot-extensions](https://github.com/copilot-extensions) organization, like the following:\n\n- Blackbeard extension (talk like a pirate)\n- RAG extension (implement ‘retrieval augmented generation’ to build up your response in several steps)\n- Function calling extension (retrieve a function from the user prompt, like “what is the weather in Amsterdam”)\n- GitHub Models extension (use the new models API’s to talk to an LLM)\nThese are fine to spelunk in, but as soon as you want to do something else then adding a system prompt and stream back the LLM response, you will find some very rough edges.\n\nInstead I recommend to go straight for the [Copilot Extension SDK](https://github.com/copilot-extensions/preview-sdk.js) library. At the time of writing this SDK in in early alpha stage, but it solves several issues that you will run into when you start building your own extension. I’ve been adding some examples to that repository to help you get started.\n\n### Writing the extension code\n\nUsing the examples in the SDK repo should get you started. The main things you need are in the `README.md` in the `examples` folder. Run the `npm install` and `npm run watch` commands to get the examples running. Don’t forget to make your Codespace port public (so that Copilot can send its messages to it), and to configure the Codespace port URL in the GitHub App settings.\n\nYou need to handle a `POST` event into your application, and then return text and a `createDoneEvent` to indicate your response is complete.\n\nIf you want to, you can create a `createAckEvent` that will tell Copilot you have received the request and are working on it. It will display that status to the user and is a nice way to let the user know you are working on their request, especially when you will be going out to an LLM to generate some text for example.\n\nAfter the `acknowledge` event, you can add `createTextEvent(\"your text here\")` to add custom text to the output. What you do next is up to you. There are several options already supported in the SDK:\n\n- Call the GitHub Copilot API with the user prompt and get the response back (limited model options)\n- Call into an API you have access to\n- Ask the user to confirm something (example later in this post)\n- Call into GitHub Models to get a response from an LLM with more model options\n\n## Running the extension server side in a Codespace\n\nWorking on the extension inside of a [Codespace](https://github.com/features/codespaces) is the most easy way to develop an extension: you receive the traffic directly and you can debug all you want. Do note that I’d recommend using a separate GitHub App for this compared to your production version, as ALL the traffic from the GitHub App will be sent your way, which can be confusing to determine what is coming from.\n\n![Screenshot of the running the extension inside of a Codespace](/images/2024/20240914/Running-the-extension.png)\n\nDon’t forget to make the port public in the Codespace settings, and to configure the URL in the GitHub App settings + the Copilot settings section of the GitHub App. If you do not have a Copilot section in the App, then your App is not flagged in for Copilot extensions.\n\n![Screenshot of the Codespace settings](/images/2024/20240914/AppSettings.png)\n\n## Working with the extension\n\nAs soon as you install the GitHub App in an organization (has to have Copilot licenses enabled), every user in that organization can ask it questions. Do note that GitHub Copilot always checks the incoming prompt for the `@` symbol, so you need to start your prompt with `@your-app-name` to trigger the extension. Once you have done so, the entire conversation will be send to your extension, as there is only one extension per thread that can be interacted with. This is probably for security reasons I think, as the extension will get the entire conversation and can do with it what it wants. You can imagine if your extension would be able to read the conversation from another app, sensitive information could be leaked.\n\n![Screenshot of invoking the extension by calling @xebia with your prompt. It shows the result of the prompt that indicates it has been written with the 'talk like a pirate' system prompt](/images/2024/20240914/01-Invoking-the-extension.png)\n\nYou can now try out the extension in every place that supports it! At the time of writing this post, it is available in VS Code (+ Insiders) and the Web UI on github.com. You can ask the extension for something and it will send the prompt to your extension. Do note that GitHub Copilot by itself checks the incoming prompt with its content filter, to prevent harmful messages from being answered. Only when you pass the filter (like for example it needs to be a coding related prompt), the extension will be called. Same goes for the data you send back, it will be checked by GitHub Copilot before it is shown to the user. I first started with just “hi matey” as a response, but that was blocked and thus not shown to the user.\n\nWhen you first interact with a GitHub Copilot Extension, you get a message asking for consent to share the conversation with the extension. Likewise the extension will get your user information (GitHub handle, Location (approximate)). This is to be able to personalize the response to the user. You can always revoke this consent in the [GitHub settings](https://github.com/settings/installations).\n\n![Screenshot asking for Allow access to the new Copilot extension](/images/2024/20240914/Allow-prompt.png)\n\n## Adding system prompts\n\n``` import { prompt, createAckEvent, createDoneEvent, createTextEvent, parseRequestBody } from \"@copilot-extensions/preview-sdk\";\n\nconst tokenForUser = request.headers['x-github-token']; const payload = parseRequestBody(body);\n\nlet result = await prompt(payload_message.content, { messages: payload.messages, // add the current message thread in here for the LLM to use token: tokenForUser }); response.write(createTextEvent(result.message.content)); response.end(createDoneEvent()); console.log('Response sent');\n\n```\n\n## Working with User Confirmation\n\nYou also have the option to work with user confirmation in your extension. Copilot Extensions are really shaping up to give you endless possibilities like making it an ‘agent’ that can do things for you. Asking a question about a repository and an API that does not exist? Let your Copilot Extension fill an issue in a repo with the question and the answer from the API. Or ask the user to confirm something, like in the following example:\n\n``` import { getUserConfirmation } from \"@copilot-extensions/preview-sdk\";\n\nresponse.write( createConfirmationEvent({ id: \"123\", title: \"Are you sure?\", message: \"Create an issue with the missing API surface.\", }), );\n\n```\n\n![Screenshot showing the user confirm dialog with accept and dismiss buttons](/images/2024/20240914/PromptAccept.png)\n\n# Conclusion\n\nGitHub Copilot Extensions are a great way to extend the capabilities of Copilot to your own needs. You can for example look in your own knowledge store for information (API, Database, an LLM with your own data). All from within GitHub Copilot Chat itself! The possibilities are endless and I am looking forward to see what you will build with it.\n\nI am planning to integrate this with our internal knowledge base, starting with something simple like “What is the GitHub handle for Rob Bos?” and then expanding from there. I am also looking forward to see what other people will build with this, as the possibilities are endless.\n\nWhat ideas do you have to build with this? Let me know in the comments below!",
  "Title": "GitHub Copilot Extensions",
  "PubDate": "2024-09-14T00:00:00+00:00"
}
