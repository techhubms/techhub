{
  "FeedLevelAuthor": "rss.livelink.threads-in-node",
  "Author": "TulikaC",
  "PubDate": "2025-11-13T08:44:41+00:00",
  "EnhancedContent": "Picking up from [**Part I**](https://techcommunity.microsoft.com/blog/appsonazureblog/part-i-otel-sidecar-extension-on-azure-app-service-for-linux---intro--php-walkth/4469514), this post shows how to obtain the Elastic APM Server URL and Secret token, add the **OTEL Elastic sidecar**, and validate telemetry in Kibana.\n\nMost steps are identical to the Azure Monitor walkthrough (create PHP app, add OTEL libraries, deploy, map OTEL\\_PHP\\_AUTOLOAD\\_ENABLED, keep the same startup command, and point your app to the sidecar at [http://127.0.0.1:4318)](http://127.0.0.1:4318%29).\n\nThe **only differences** are - get your **Elastic APM Server URL** and **Secret token**, choose the **OpenTelemetry – Elastic APM** extension, and set Elastic-specific app settings.\n\nYou can use the sample code (based on your language stack) from here - [https://github.com/Azure-Samples/sidecar-samples/tree/main/otel-sidecar](https://github.com/Azure-Samples/sidecar-samples/tree/main/otel-sidecar)\n\n**1) Get the Elastic APM Server URL**\n\nIn **Kibana** go to: **Observability → Data management → Fleet → Agent policies → Elastic Cloud agent policy → Elastic APM**. Copy the **URL** shown in the “Server configuration” section.\n\n**2) Get or generate the Secret token**\n\nStill in the Elastic APM integration page, scroll to **Agent authorization**. Use the existing **Secret token** or generate one if needed.\n\n**3) Add the sidecar extension (Web App → Deployment Center)**\n\n**Deployment Center → Containers (new) → Add → Sidecar Extension →** choose **Observability: OpenTelemetry – Elastic APM**. Provide the **APM Server URL** and **Secret token** you copied above, then **Save**.\n\n**4) View Elastic-specific app settings (main app)**\n\nThese are added by default **Environment variables → Application settings**:\n\n``` ELASTIC_APM_ENDPOINT = https://<your-elastic-apm-server-url> ELASTIC_APM_SECRET_TOKEN = <your-secret-token> OTEL_EXPORTER = elastic OTEL_EXPORTER_OTLP_ENDPOINT = http://127.0.0.1:4318 OTEL_SERVICE_NAME = <your-app-name>\n\n```\n\n*(Keep using :4318 for OTLP/HTTP to the sidecar. Your Elastic URL is the remote APM server the sidecar forwards to.)*\n\nEverything else—code, Composer deps, autoload flag mapping, and startup command—remains the same as the Azure Monitor section.\n\n**5) Validate telemetry in Kibana**\n\n1. In **Kibana**, open **Observability → APM → Services**.\n2. Find your **service name** (the value of OTEL\\_SERVICE\\_NAME).\n3. Open the service to view **transactions, traces, and dependencies**.\n\nYou can also check logs/fields in **Discover**:\n\nThat’s it—your PHP app is instrumented with OTEL, sends signals to the local sidecar, and the sidecar ships them to **Elastic APM**.\n\n**Sample repo (code & containers)**\n\nWe’ve published a repo with working samples for **PHP, Node.js, Python, and .NET** showing both **code-based** and **container-based** setups using the OTEL sidecar extensions. Use it as your starting point: [sidecar-samples/otel-sidecar at main · Azure-Samples/sidecar-samples](https://github.com/Azure-Samples/sidecar-samples/tree/main/otel-sidecar)\n\nIn **Part III**, we’ll share a **language cheat-sheet**, a **copy/paste app-settings reference**, and **troubleshooting tips** for common issues.\n\nPublished Nov 13, 2025\n\nVersion 1.0\n\n[azure app service](/tag/azure%20app%20service?nodeId=board%3AAppsonAzureBlog)\n\n[azure paas](/tag/azure%20paas?nodeId=board%3AAppsonAzureBlog)\n\n[modern apps](/tag/modern%20apps?nodeId=board%3AAppsonAzureBlog)\n\n[web apps](/tag/web%20apps?nodeId=board%3AAppsonAzureBlog)\n\n[!\\[TulikaC&#x27;s avatar\\](https://techcommunity.microsoft.com/t5/s/gxcuf89792/m_assets/avatars/default/avatar-1.svg?image-dimensions=50x50)](/users/tulikac/1661700) [TulikaC](/users/tulikac/1661700) ![Icon for Microsoft rank](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/cmstNC05WEo0blc?image-dimensions=100x16&amp;constrain-image=true)Microsoft\n\nJoined December 21, 2022\n\n[View Profile](/users/tulikac/1661700)\n\n/category/azure/blog/appsonazureblog [Apps on Azure Blog](/category/azure/blog/appsonazureblog) Follow this blog board to get notified when there's new activity",
  "OutputDir": "_community",
  "Description": "Picking up from [**Part I**](https://techcommunity.microsoft.com/blog/appsonazureblog/part-i-otel-sidecar-extension-on-azure-app-service-for-linux---intro--php-walkth/4469514), this post shows how to obtain the Elastic APM Server URL and Secret token, add the **OTEL Elastic sidecar**, and validate telemetry in Kibana.\n\nMost steps are identical to the Azure Monitor walkthrough (create PHP app, add OTEL libraries, deploy, map OTEL\\_PHP\\_AUTOLOAD\\_ENABLED, keep the same startup command, and point your app to the sidecar at [http://127.0.0.1:4318)](http://127.0.0.1:4318%29).\n\nThe **only differences** are - get your **Elastic APM Server URL** and **Secret token**, choose the **OpenTelemetry – Elastic APM** extension, and set Elastic-specific app settings.\n\nYou can use the sample code (based on your language stack) from here - [https://github.com/Azure-Samples/sidecar-samples/tree/main/otel-sidecar](https://github.com/Azure-Samples/sidecar-samples/tree/main/otel-sidecar)\n\n**1) Get the Elastic APM Server URL**\n\nIn **Kibana** go to: **Observability → Data management → Fleet → Agent policies → Elastic Cloud agent policy → Elastic APM**. Copy the **URL** shown in the “Server configuration” section.\n\n![]()\n\n**2) Get or generate the Secret token**\n\nStill in the Elastic APM integration page, scroll to **Agent authorization**. Use the existing **Secret token** or generate one if needed.\n\n![]()\n\n**3) Add the sidecar extension (Web App → Deployment Center)**\n\n**Deployment Center → Containers (new) → Add → Sidecar Extension →** choose **Observability: OpenTelemetry – Elastic APM**. Provide the **APM Server URL** and **Secret token** you copied above, then **Save**.\n\n**4) View Elastic-specific app settings (main app)**\n\nThese are added by default **Environment variables → Application settings**:\n\n- ELASTIC\\_APM\\_ENDPOINT = https://\nELASTIC\\_APM\\_SECRET\\_TOKEN = OTEL\\_EXPORTER = elastic OTEL\\_EXPORTER\\_OTLP\\_ENDPOINT = http://127.0.0.1:4318 OTEL\\_SERVICE\\_NAME =\n\n*(Keep using :4318 for OTLP/HTTP to the sidecar. Your Elastic URL is the remote APM server the sidecar forwards to.)*\n\nEverything else—code, Composer deps, autoload flag mapping, and startup command—remains the same as the Azure Monitor section.\n\n**5) Validate telemetry in Kibana**\n\n1. In **Kibana**, open **Observability → APM → Services**.\n2. Find your **service name** (the value of OTEL\\_SERVICE\\_NAME).\n3. Open the service to view **transactions, traces, and dependencies**.\n\nYou can also check logs/fields in **Discover**:\n\n![]()\n\nThat’s it—your PHP app is instrumented with OTEL, sends signals to the local sidecar, and the sidecar ships them to **Elastic APM**.\n\n**Sample repo (code & containers)**\n\nWe’ve published a repo with working samples for **PHP, Node.js, Python, and .NET** showing both **code-based** and **container-based** setups using the OTEL sidecar extensions. Use it as your starting point: [sidecar-samples/otel-sidecar at main · Azure-Samples/sidecar-samples](https://github.com/Azure-Samples/sidecar-samples/tree/main/otel-sidecar)\n\nIn **Part III**, we’ll share a **language cheat-sheet**, a **copy/paste app-settings reference**, and **troubleshooting tips** for common issues.",
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure",
  "Link": "https://techcommunity.microsoft.com/t5/apps-on-azure-blog/part-ii-otel-sidecar-extension-on-azure-app-service-for-linux/ba-p/4469576",
  "ProcessedDate": "2025-11-13 09:05:42",
  "Title": "Part II: OTEL sidecar extension on Azure App Service for Linux - Elastic APM setup",
  "Tags": [],
  "FeedName": "Microsoft Tech Community"
}
