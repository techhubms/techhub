{
  "ProcessedDate": "2025-09-30 10:03:57",
  "EnhancedContent": "Azure Storage Actions is a powerful platform for automating data management tasks across Blob and Data Lake Storage. Among its many features, **Exclude Prefix** stands out as a subtle yet critical capability that helps fine-tune task assignments.\n\n**What Is the \"Exclude Prefix\" Feature?**\n\nThe **Exclude Prefix** option allows users to **omit specific blobs or folders** from being targeted by Azure Storage Actions. This is particularly useful when applying actions such as:\n\n- Moving blobs to a cooler tier\n- Deleting blobs\n- Rehydrating archived blobs\n- Triggering workflows based on blob changes\n\nFor example, if you're running a task to archive blobs older than 30 days, but you want to **exclude logs or config files**, you can define a prefix like logs/ or config/ in the exclusion list.\n\n**How to Use It — Example Scenario:**In the following example, blobs across the entire storage account were deleted based on a condition: if a blob’s access tier was set to **Hot**, it was deleted **except** for those blobs or paths explicitly listed under the **Exclude blob prefixes** property.\n\n- **Create a Task: -**\n- Navigate to the Azure portal and search for **Storage tasks**. Then, under **Services**, click on **Storage tasks – Azure Storage Actions**\n\n- - On the **Azure Storage Actions | Storage Tasks** page, click **Create** to begin configuring a new task.\n\n- - Complete all the required fields, then click **Next** to proceed to the **Conditions** page. To configure blob deletion, add the following conditions on the **Conditions** page.\n\n- **Add the Assignment :-**\n- Click Add assignment **in** the **Select scope** section, choose your subscription and storage account, then provide a name for the assignment.\n- In the **Role assignment** section, select **Storage Blob Data** Owner from the Role drop-down list to assign this role to the system-assigned managed identity of the storage task.\n- In the **Filter objects** section, specify the **Exclude Blob Prefix** filter if you want to exclude specific blobs or folders from the task.\n\nIn the example specified above, blobs will be deleted—except for those under the path “excludefiles” listed in the *Exclude                                                blobprefixes* property.\n\n- - In the **Trigger details** section, choose the runs of the task and then\nselect the container where you'd like to store the execution reports.\n- Select **Add**. In the **Tags** tab, select **Next** and in the **Review + Create** tab, **select Review + create**.\n- When the task is deployed, your deployment is complete page appears and select **Go to resource** to open the **Overview page** of the storage task.\n- **Enable the Task Assignment: -**\n- **In the Trigger details section, we have a Enable task assignment checkbox which is checked by default.**\n\n- - If the **Enable task assignments** checkbox is unchecked, you can still enable assignments manually from the **Assignments** page. To do this, go to **Assignments**, select the relevant assignment, and then click **Enable**.\n\nThe task assignment is queued to run and will run at the specified time.\n\n- **Monitoring the runs:-**After the task completes running, you can view the results of the run.\n\n- With the **Assignments** page still open, select **View task runs**.\n- Select the **View report** link to download a report. You can also view these comma-separated reports in the container that you specified when you configured the assignment.\n\n****\n\n**Conclusion:**The **Exclude Prefix** feature in Azure Storage Actions provides enhanced control and flexibility when managing blob data at scale. By allowing you to **exclude specific prefixes from actions like delete or tier changes**, it helps you **safeguard critical data**, reduce mistakes, and fine-tune automation workflows. This targeted approach not only improves operational efficiency but also supports more **granular data** in Azure Blob Storage.\n\n**Note:-**\n\n- **Azure Storage Actions are generally available in the following public regions:**[**https://learn.microsoft.com/en-us/azure/storage-actions/overview#supported-regions**](https://learn.microsoft.com/en-us/azure/storage-actions/overview#supported-regions)\n- We can also exclude certain blobs using the **“Not”**operator when building task conditions. Blobs may be excluded based on specific blob or container attributes from the **task conditions** side as well—not just through task assignments.\nIn the screenshot below, we are using the **Not** operator (!) to exclude blobs where the blob name is equal to \"Test\".\n\n**Please refer: [https://learn.microsoft.com/en-us/azure/storage-actions/storage-tasks/storage-task-conditions#multiple-clauses-in-a-condition](https://learn.microsoft.com/en-us/azure/storage-actions/storage-tasks/storage-task-conditions#multiple-clauses-in-a-condition).**\n\n****\n\n**Reference Links:-**\n\n- [**About Azure Storage Actions - Azure Storage Actions | Microsoft Learn**](https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fazure%2Fstorage-actions%2Foverview&amp;data=05%7C02%7Cankitsah%40microsoft.com%7C09d1fc4fed9240532a5b08ddb957ba75%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638870508625797507%7CUnknown%7CTWFpbGZsb3d8eyJFbXB0eU1hcGkiOnRydWUsIlYiOiIwLjAuMDAwMCIsIlAiOiJXaW4zMiIsIkFOIjoiTWFpbCIsIldUIjoyfQ%3D%3D%7C0%7C%7C%7C&amp;sdata=b5obgvCr5ksIWs9x7Z3azY9fYhbH9OkpGFrZ6YeO1js%3D&amp;reserved=0)\n- [**Storage task best practices - Azure Storage Actions | Microsoft Learn**](https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fazure%2Fstorage-actions%2Fstorage-tasks%2Fstorage-task-best-practices&amp;data=05%7C02%7Cankitsah%40microsoft.com%7C09d1fc4fed9240532a5b08ddb957ba75%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638870508625816690%7CUnknown%7CTWFpbGZsb3d8eyJFbXB0eU1hcGkiOnRydWUsIlYiOiIwLjAuMDAwMCIsIlAiOiJXaW4zMiIsIkFOIjoiTWFpbCIsIldUIjoyfQ%3D%3D%7C0%7C%7C%7C&amp;sdata=%2B08AQNo4KSTdZguHWpAcepcxU6tTIKJUAS9nFd3GP0I%3D&amp;reserved=0)\n- [**Known issues and limitations with storage tasks - Azure Storage Actions | Microsoft Learn**](https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fazure%2Fstorage-actions%2Fstorage-tasks%2Fstorage-task-known-issues&amp;data=05%7C02%7Cankitsah%40microsoft.com%7C09d1fc4fed9240532a5b08ddb957ba75%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638870508625830066%7CUnknown%7CTWFpbGZsb3d8eyJFbXB0eU1hcGkiOnRydWUsIlYiOiIwLjAuMDAwMCIsIlAiOiJXaW4zMiIsIkFOIjoiTWFpbCIsIldUIjoyfQ%3D%3D%7C0%7C%7C%7C&amp;sdata=%2BC2rkfBNAvumSVUtBXcGgUHdGox2n3cIwmwG2PvQK%2Fo%3D&amp;reserved=0)\n\nUpdated Sep 26, 2025\n\nVersion 1.0\n\n[azure storage](/tag/azure%20storage?nodeId=board%3AAzurePaaSBlog)\n\n[!\\[ManjunathS&#x27;s avatar\\](https://techcommunity.microsoft.com/t5/s/gxcuf89792/m_assets/avatars/default/avatar-5.svg?image-dimensions=50x50)](/users/manjunaths/1674463) [ManjunathS](/users/manjunaths/1674463) ![Icon for Microsoft rank](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/cmstNC05WEo0blc?image-dimensions=100x16&amp;constrain-image=true)Microsoft\n\nJoined January 04, 2023\n\n[View Profile](/users/manjunaths/1674463)\n\n/category/azure/blog/azurepaasblog [Azure PaaS Blog](/category/azure/blog/azurepaasblog) Follow this blog board to get notified when there's new activity",
  "FeedName": "Microsoft Tech Community",
  "Link": "https://techcommunity.microsoft.com/t5/azure-paas-blog/exclude-prefix-in-azure-storage-action-smarter-blob-management/ba-p/4440075",
  "Tags": [],
  "Author": "ManjunathS",
  "Description": "Azure Storage Actions is a powerful platform for automating data management tasks across Blob and Data Lake Storage. Among its many features, **Exclude Prefix** stands out as a subtle yet critical capability that helps fine-tune task assignments.\n\n**What Is the \"Exclude Prefix\" Feature?**\n\nThe **Exclude Prefix** option allows users to **omit specific blobs or folders** from being targeted by Azure Storage Actions. This is particularly useful when applying actions such as:\n\n- Moving blobs to a cooler tier\n- Deleting blobs\n- Rehydrating archived blobs\n- Triggering workflows based on blob changes\n\nFor example, if you're running a task to archive blobs older than 30 days, but you want to **exclude logs or config files**, you can define a prefix like logs/ or config/ in the exclusion list.\n\n**How to Use It — Example Scenario:**In the following example, blobs across the entire storage account were deleted based on a condition: if a blob’s access tier was set to **Hot**, it was deleted **except** for those blobs or paths explicitly listed under the **Exclude blob prefixes** property.\n\n- **Create a Task: -**\n- Navigate to the Azure portal and search for **Storage tasks**. Then, under **Services**, click on **Storage tasks – Azure Storage Actions**\n\n![]()\n- - On the **Azure Storage Actions | Storage Tasks** page, click **Create** to begin configuring a new task.\n\n![]()\n- - Complete all the required fields, then click **Next** to proceed to the **Conditions** page. To configure blob deletion, add the following conditions on the **Conditions** page.\n\n![]()\n\n- **Add the Assignment :-**\n- Click Add assignment **in** the **Select scope** section, choose your subscription and storage account, then provide a name for the assignment.\n- In the **Role assignment** section, select **Storage Blob Data** Owner from the Role drop-down list to assign this role to the system-assigned managed identity of the storage task.\n- In the **Filter objects** section, specify the **Exclude Blob Prefix** filter if you want to exclude specific blobs or folders from the task.\n\n![]()\n\nIn the example specified above, blobs will be deleted—except for those under the path “excludefiles” listed in the *Exclude blobprefixes* property.\n\n- - In the **Trigger details** section, choose the runs of the task and then\nselect the container where you'd like to store the execution reports.\n- Select **Add**. In the **Tags** tab, select **Next** and in the **Review + Create** tab, **select Review + create**.\n- When the task is deployed, your deployment is complete page appears and select **Go to resource** to open the **Overview page** of the storage task.\n- **Enable the Task Assignment: -**\n- **In the Trigger details section, we have a Enable task assignment checkbox which is checked by default.**\n\n![]()\n- - If the **Enable task assignments** checkbox is unchecked, you can still enable assignments manually from the **Assignments** page. To do this, go to **Assignments**, select the relevant assignment, and then click **Enable**.\n\n![]()\n\nThe task assignment is queued to run and will run at the specified time.\n\n- **Monitoring the runs:-**After the task completes running, you can view the results of the run.\n\n- With the **Assignments** page still open, select **View task runs**.\n- Select the **View report** link to download a report. You can also view these comma-separated reports in the container that you specified when you configured the assignment.\n\n****\n\n**Conclusion:**The **Exclude Prefix** feature in Azure Storage Actions provides enhanced control and flexibility when managing blob data at scale. By allowing you to **exclude specific prefixes from actions like delete or tier changes**, it helps you **safeguard critical data**, reduce mistakes, and fine-tune automation workflows. This targeted approach not only improves operational efficiency but also supports more **granular data** in Azure Blob Storage.\n\n**Note:-**\n\n- **Azure Storage Actions are generally available in the following public regions:** [**https://learn.microsoft.com/en-us/azure/storage-actions/overview#supported-regions**](https://learn.microsoft.com/en-us/azure/storage-actions/overview#supported-regions)\n- We can also exclude certain blobs using the **“Not”**operator when building task conditions. Blobs may be excluded based on specific blob or container attributes from the **task conditions** side as well—not just through task assignments.\nIn the screenshot below, we are using the **Not** operator (!) to exclude blobs where the blob name is equal to \"Test\". ![]()\n\n**Please refer: [https://learn.microsoft.com/en-us/azure/storage-actions/storage-tasks/storage-task-conditions#multiple-clauses-in-a-condition](https://learn.microsoft.com/en-us/azure/storage-actions/storage-tasks/storage-task-conditions#multiple-clauses-in-a-condition).**\n\n****\n\n**Reference Links:-**\n\n- [**About Azure Storage Actions - Azure Storage Actions | Microsoft Learn**](https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fazure%2Fstorage-actions%2Foverview&data=05%7C02%7Cankitsah%40microsoft.com%7C09d1fc4fed9240532a5b08ddb957ba75%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638870508625797507%7CUnknown%7CTWFpbGZsb3d8eyJFbXB0eU1hcGkiOnRydWUsIlYiOiIwLjAuMDAwMCIsIlAiOiJXaW4zMiIsIkFOIjoiTWFpbCIsIldUIjoyfQ%3D%3D%7C0%7C%7C%7C&sdata=b5obgvCr5ksIWs9x7Z3azY9fYhbH9OkpGFrZ6YeO1js%3D&reserved=0)\n- [**Storage task best practices - Azure Storage Actions | Microsoft Learn**](https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fazure%2Fstorage-actions%2Fstorage-tasks%2Fstorage-task-best-practices&data=05%7C02%7Cankitsah%40microsoft.com%7C09d1fc4fed9240532a5b08ddb957ba75%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638870508625816690%7CUnknown%7CTWFpbGZsb3d8eyJFbXB0eU1hcGkiOnRydWUsIlYiOiIwLjAuMDAwMCIsIlAiOiJXaW4zMiIsIkFOIjoiTWFpbCIsIldUIjoyfQ%3D%3D%7C0%7C%7C%7C&sdata=%2B08AQNo4KSTdZguHWpAcepcxU6tTIKJUAS9nFd3GP0I%3D&reserved=0)\n- [**Known issues and limitations with storage tasks - Azure Storage Actions | Microsoft Learn**](https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fazure%2Fstorage-actions%2Fstorage-tasks%2Fstorage-task-known-issues&data=05%7C02%7Cankitsah%40microsoft.com%7C09d1fc4fed9240532a5b08ddb957ba75%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C638870508625830066%7CUnknown%7CTWFpbGZsb3d8eyJFbXB0eU1hcGkiOnRydWUsIlYiOiIwLjAuMDAwMCIsIlAiOiJXaW4zMiIsIkFOIjoiTWFpbCIsIldUIjoyfQ%3D%3D%7C0%7C%7C%7C&sdata=%2BC2rkfBNAvumSVUtBXcGgUHdGox2n3cIwmwG2PvQK%2Fo%3D&reserved=0)",
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure",
  "Title": "Exclude Prefix in Azure Storage Action: Smarter Blob Management",
  "OutputDir": "_community",
  "PubDate": "2025-09-30T09:26:23+00:00",
  "FeedLevelAuthor": "rss.livelink.threads-in-node"
}
