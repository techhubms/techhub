{
  "OutputDir": "_community",
  "ProcessedDate": "2025-11-12 18:05:42",
  "FeedLevelAuthor": "rss.livelink.threads-in-node",
  "Title": "Announcing public preview of query-based metric alerts in Azure Monitor",
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure",
  "PubDate": "2025-11-12T17:43:31+00:00",
  "Description": "### **Azure Monitor metric alerts are now more powerful than ever**\n\nAzure Monitor metric alerts now **support all Azure metrics**—including platform, Prometheus, and custom metrics—giving you complete coverage for your monitoring needs. In addition, metric alerts now offer **powerful query capabilities with PromQL**, enabling complex logic across multiple metrics and resources. This makes it easier to detect patterns, correlate signals, and customize alerts for modern workloads like Kubernetes clusters, VMs, and custom applications.\n\n### **Key Benefits**\n\n- **Full metrics coverage:** metric alerts now support alerting on any Azure metrics including platform metrics, Prometheus metrics and custom metrics.\n- **PromQL-Powered Conditions**: Use PromQL to select, aggregate, and transform metrics for advanced alerting scenarios.\n- **Powerful event detection**: Query-based alert rules can now detect intricate patterns across multiple timeseries based on metric change ratio, complex aggregations, or comparison between different metrics and timeseries. You can also analyze metrics across different time windows to identify change in metric behavior over time.\n- **Flexible Scoping**: For query-based alert rules, choose between **resource-centric alerts** for granular RBAC or **workspace-centric alerts** for cross-resource visibility.\n- **Alerting at scale**: Query-based alert rules allow monitoring metrics from multiple resources within a subscription or a resource group, using a single rule.\n- **Managed Identity Support**: Securely authorize queries using [Azure Managed Identity](https://learn.microsoft.com/en-us/entra/identity/managed-identities-azure-resources/overview), ensuring compliance and reducing credential management overhead.\n- **Customizable Notifications**: Add dynamic custom properties and custom email subjects for faster triage and context-rich alerting.\n- **Reuse community alerts**: Easily import and re-use PromQL alert queries from the open-source community or from other Prometheus-based monitoring systems.\n\n### **Supported metrics**\n\nAt this time, query-based metric alerts support any metrics ingested into Azure Monitor Workspace (AMW). This currently includes:\n\n- Metrics collected by [Azure Monitor managed service for Prometheus](https://learn.microsoft.com/en-us/azure/azure-monitor/metrics/prometheus-metrics-overview), from Azure Kubernetes Services clusters (AKS) or from other sources.\n- [Virtual machine OpenTelemetry (OTel) Guest OS Metrics](https://learn.microsoft.com/en-us/azure/azure-monitor/metrics/metrics-opentelemetry-guest)\n- Other [OTel custom metrics](https://learn.microsoft.com/en-us/azure/azure-monitor/app/opentelemetry) collected into Azure Monitor.\n\nYou can still create threshold-based metric alerts as before on Azure platform metrics. Query-based alerts on platform metrics will be added in future releases.\n\n### **Comparison: Query-based metric alerts vs. Prometheus rule groups alerts**\n\nQuery-based metric alerts serve as an alternative to alerts defined in Prometheus rule groups. Both options remain viable and execute the same **PromQL-based alerting logic.**\n\nHowever, metric alerts are **natively integrated with Azure Monitor**, aligning seamlessly with other Azure alert types. They now support **all your metric alerting needs within the same rule type**. They also offer **richer functionality and greater flexibility**, making them a strong choice for teams looking for consistency across Azure monitoring solutions. See the table below for detailed comparison of the two alternatives.\n\nStay tuned - additional enhancements to metric alerts are coming in future releases!\n\n| **Feature** | **Azure Prometheus rule groups** | **Query-based metric alerts** | | --- | --- | --- | | **Alert rule management** | Part of a rule group resource | Independent Azure resource | | **Supported metrics** | Metrics in AMW (Managed Prometheus) | Metrics in AMW (Managed Prometheus, OTel metrics) | | **Condition logic** | PromQL-based query | PromQL-based query | | **Aggregation & transformation** | Full PromQL support | Full PromQL support | | **Scope** | Workspace-wide | Resource-centric or workspace-wide | | **Alerting at scale** | Not supported | Subscription level, Resource-group level | | **Cross-resource conditions** | Supported | Supported | | **RBAC granularity** | Workspace level | Resource or workspace level | | **Managed identity support** | Not supported | Supported | | **Notification customization** | Supported - Prometheus labels and annotations | Advanced - dynamic custom properties, custom email subject |\n\n### **Getting Started**\n\nIf you have an Azure Monitor workspace containing Prometheus or OpenTelemetry metrics, you can create query-based metric alert rules today. Rules can be created and managed using the **Azure Portal**, **ARM templates**, or **Azure REST API**. For details, visit [Azure Monitor documentation.](https://learn.microsoft.com/en-us/azure/azure-monitor/alerts/alerts-query-based-metric-alerts-overview)",
  "FeedName": "Microsoft Tech Community",
  "Tags": [],
  "Link": "https://techcommunity.microsoft.com/t5/azure-observability-blog/announcing-public-preview-of-query-based-metric-alerts-in-azure/ba-p/4469290",
  "Author": "yairgil",
  "EnhancedContent": "### **Azure Monitor metric alerts are now more powerful than ever**\n\nAzure Monitor metric alerts now **support all Azure metrics**—including platform, Prometheus, and custom metrics—giving you complete coverage for your monitoring needs. In addition, metric alerts now offer **powerful query capabilities with PromQL**, enabling complex logic across multiple metrics and resources. This makes it easier to detect patterns, correlate signals, and customize alerts for modern workloads like Kubernetes clusters, VMs, and custom applications.\n\n### **Key Benefits**\n\n- **Full metrics coverage:** metric alerts now support alerting on any Azure metrics including platform metrics, Prometheus metrics and custom metrics.\n- **PromQL-Powered Conditions**: Use PromQL to select, aggregate, and transform metrics for advanced alerting scenarios.\n- **Powerful event detection**: Query-based alert rules can now detect intricate patterns across multiple timeseries based on metric change ratio, complex aggregations, or comparison between different metrics and timeseries. You can also analyze metrics across different time windows to identify change in metric behavior over time.\n- **Flexible Scoping**: For query-based alert rules, choose between **resource-centric alerts** for granular RBAC or **workspace-centric alerts** for cross-resource visibility.\n- **Alerting at scale**: Query-based alert rules allow monitoring metrics from multiple resources within a subscription or a resource group, using a single rule.\n- **Managed Identity Support**: Securely authorize queries using [Azure Managed Identity](https://learn.microsoft.com/en-us/entra/identity/managed-identities-azure-resources/overview), ensuring compliance and reducing credential management overhead.\n- **Customizable Notifications**: Add dynamic custom properties and custom email subjects for faster triage and context-rich alerting.\n- **Reuse community alerts**: Easily import and re-use PromQL alert queries from the open-source community or from other Prometheus-based monitoring systems.\n\n### **Supported metrics**\n\nAt this time, query-based metric alerts support any metrics ingested into Azure Monitor Workspace (AMW).  This currently includes:\n\n- Metrics collected by [Azure Monitor managed service for Prometheus](https://learn.microsoft.com/en-us/azure/azure-monitor/metrics/prometheus-metrics-overview), from Azure Kubernetes Services clusters (AKS) or from other sources.\n- [Virtual machine OpenTelemetry (OTel) Guest OS Metrics](https://learn.microsoft.com/en-us/azure/azure-monitor/metrics/metrics-opentelemetry-guest)\n- Other [OTel custom metrics](https://learn.microsoft.com/en-us/azure/azure-monitor/app/opentelemetry) collected into Azure Monitor.\n\nYou can still create threshold-based metric alerts as before on Azure platform metrics. Query-based alerts on platform metrics will be added in future releases.\n\n### **Comparison: Query-based metric alerts vs. Prometheus rule groups alerts**\n\nQuery-based metric alerts serve as an alternative to alerts defined in Prometheus rule groups. Both options remain viable and execute the same **PromQL-based alerting logic.**\n\nHowever, metric alerts are **natively integrated with Azure Monitor**, aligning seamlessly with other Azure alert types. They now support **all your metric alerting needs within the same rule type**. They also offer **richer functionality and greater flexibility**, making them a strong choice for teams looking for consistency across Azure monitoring solutions. See the table below for detailed comparison of the two alternatives.\n\nStay tuned - additional enhancements to metric alerts are coming in future releases!\n\n| **Feature** | **Azure Prometheus rule groups** | **Query-based metric alerts** | | --- | --- | --- | | **Alert rule management** | Part of a rule group resource | Independent Azure resource | | **Supported metrics** | Metrics in AMW (Managed Prometheus) | Metrics in AMW (Managed Prometheus, OTel metrics) | | **Condition logic** | PromQL-based query | PromQL-based query | | **Aggregation & transformation** | Full PromQL support | Full PromQL support | | **Scope** | Workspace-wide | Resource-centric or workspace-wide | | **Alerting at scale** | Not supported | Subscription level, Resource-group level | | **Cross-resource conditions** | Supported | Supported | | **RBAC granularity** | Workspace level | Resource or workspace level | | **Managed identity support** | Not supported | Supported | | **Notification customization** | Supported - Prometheus labels and annotations | Advanced - dynamic custom properties, custom email subject |\n\n### **Getting Started**\n\nIf you have an Azure Monitor workspace containing Prometheus or OpenTelemetry metrics, you can create query-based metric alert rules today. Rules can be created and managed using the **Azure Portal**, **ARM templates**, or **Azure REST API**. For details, visit [Azure Monitor documentation.](https://learn.microsoft.com/en-us/azure/azure-monitor/alerts/alerts-query-based-metric-alerts-overview)\n\nUpdated Nov 12, 2025\n\nVersion 1.0\n\n[azure monitor](/tag/azure%20monitor?nodeId=board%3AAzureObservabilityBlog)\n\n[azure monitor managed service for prometheus](/tag/azure%20monitor%20managed%20service%20for%20prometheus?nodeId=board%3AAzureObservabilityBlog)\n\n[msignite](/tag/msignite?nodeId=board%3AAzureObservabilityBlog)\n\n[opentelemetry](/tag/opentelemetry?nodeId=board%3AAzureObservabilityBlog)\n\n[!\\[yairgil&#x27;s avatar\\](https://techcommunity.microsoft.com/t5/s/gxcuf89792/m_assets/avatars/default/avatar-7.svg?image-dimensions=50x50)](/users/yairgil/394958) [yairgil](/users/yairgil/394958) ![Icon for Microsoft rank](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/cmstNC05WEo0blc?image-dimensions=100x16&amp;constrain-image=true)Microsoft\n\nJoined August 20, 2019\n\n[View Profile](/users/yairgil/394958)\n\n/category/azure/blog/azureobservabilityblog [Azure Observability Blog](/category/azure/blog/azureobservabilityblog) Follow this blog board to get notified when there's new activity"
}
