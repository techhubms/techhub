{
  "ProcessedDate": "2025-11-20 10:05:29",
  "Tags": [],
  "Title": "Exposing Legacy APIs hosted on Azure Container Apps to AI Agents using MCP Servers",
  "Description": "# Overview\n\nThis article explains the process of exposing legacy APIs, which are hosted on [Azure Container Apps](https://azure.microsoft.com/en-us/products/container-apps), to AI Agents, as[Model Context Protocol](https://modelcontextprotocol.io/docs/getting-started/intro) (MCP) servers by utilizing[Azure API Management](https://azure.microsoft.com/en-us/products/api-management).\n\n# Use Case\n\nImagine your organization has a legacy REST API hosted on Azure Container Apps that core business systems depend on (order management, pricing, inventory, etc.). You now want AI agents (e.g., GitHub Copilot Agent Mode, Claude, internal copilots) to safely discover and invoke that functionality as “tools,” **without** rewriting the backend or loosening governance.\n\nTo showcase the use case, we deploy an e-commerce application that includes these legacy API endpoints onto Azure Container Apps. For demonstration purposes, we use the [Store API](http://%28https://github.com/keikaavousi/fake-store-api) a widely used REST API designed for e-commerce prototyping. The exposed endpoints are then published as MCP Server endpoints through Azure API Management, providing agents a standards-based entry point with centralized security, throttling, and observability. Following this, Visual Studio Code is used to consume these endpoints, facilitating modern and efficient API access for client applications.\n\n# Deploy Sample Store App to Azure Container Apps\n\nDeploy the Store App to Azure Container Apps. The App offers realistic endpoints for managing products, users, shopping carts, and authentication. Fork the [Store API](http://%28https://github.com/keikaavousi/fake-store-api) and build the .*Dockerfile* and provide the below details to create the App. More details on deployment could be found [here .](https://learn.microsoft.com/en-us/azure/container-apps/code-to-cloud-options)\n\n- az group create --name \"store-app-rg\" --location \"East US\" az containerapp env create --name \"store-app-env\" --resource-group \"store-app-rg\" --location \"East US\" az containerapp create --name \"store-app\" --resource-group \"store-app-rg\" --environment \"store-app-env\" --image \"voronalk/fakestoreapi:latest\" --target-port 3000 --ingress external --min-replicas 1 --max-replicas 5 --cpu 0.5 --memory 1Gi --env-vars PORT=3000 az containerapp show --name \"store-app\" --resource-group \"store-app-rg\" --query \"properties.configuration.ingress.fqdn\" --output table\n\n# Create an Azure API Management Instance\n\nTo securely create, expose and govern MCP servers and their backends, API management instance is created. It also provides centralized control over MCP server authentication, authorization, and monitoring.\n- az group create --name \"store-app-rg\" --location \"East US\" az apim create --name \"store-app-apim\" --resource-group \"store-app-rg\" --location \"East US\" --publisher-email \"admin@example.com\" --publisher-name \"Store App Publisher\" --sku-name Developer\n\n# Import the Storefront Open API Specification in Azure API Management\n\nThe APIs which are hosted on Azure Container Apps needs to be imported to Azure API Management such that the existing APIs can be exposed through MCP Server without rewriting their backends. The Open API Specification provides options to quick import and creates Proxies within API Management\n- # First get the Container App URL\nCONTAINER\\_APP\\_URL=$(az containerapp show --name \"store-app\" --resource-group \"store-app-rg\" --query \"properties.configuration.ingress.fqdn\" --output tsv)\n# Import the API\naz apim api import --resource-group \"store-app-rg\" --service-name \"store-app-apim\" --api-id \"store-api\" --path \"/storeapp\" --specification-format \"OpenApi\" --specification-url \"https://fakestoreapi.com/docs-data\" --display-name \"Store API\" --protocols https --service-url \"https://$CONTAINER\\_APP\\_URL\"\n\nHere is the Open API representation of the Legacy Store Endpoints\n\n![]()\n\n# Expose the Legacy APIs as a MCP Server\n\nNavigate to APIs, select MCP Servers > + Create MCP server. Provide the endpoints that needs to be available as MCP server. Select the operations required to be exposed to the AI Agents. Follow the [steps](https://learn.microsoft.com/en-us/azure/api-management/export-rest-mcp-server#expose-api-as-an-mcp-server)for more details\n\n![]()\n\nBelow, the MCP server is created, and the API operations are exposed as tools. The MCP server is listed in the MCP Servers blade. The Server URL column shows the endpoint of the MCP server to call for testing or within a client application.\n\n![]()\n\n# Configure the MCP Server from VS Code\n\nFollow the [steps](https://learn.microsoft.com/en-us/azure/api-management/export-rest-mcp-server#add-the-mcp-server-in-visual-studio-code) mentioned here to configure the MCP Server in VS Code. The MCP endpoint created in the above step is protected by an API Key, ensure that the key details are provided in the configuration.\n\nUpdate the *settings.json* with the following configuration\n\n![]()\n\nUpdate the *mcp.json* with the following configuration providing the MCP endpoint for the AI Agents\n\n![]()\n\n# Query the MCP Server endpoint from VS Code Chat\n\nFollowing is the response from the query on requesting the MCP endpoint.\n\nFollowing are some of the other prompts you could try\n\n- *Show me all the products available in the Store*\n- *List the top 10 products from Store*\n- *Give me all men’s clothing and sort them by price*\n- *Find all carts created between 2020-10-01 and 2020-12-31*![]()",
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure",
  "FeedName": "Microsoft Tech Community",
  "EnhancedContent": "# Overview\n\nThis article explains the process of exposing legacy APIs, which are hosted on [Azure Container Apps](https://azure.microsoft.com/en-us/products/container-apps), to AI Agents, as[Model Context Protocol](https://modelcontextprotocol.io/docs/getting-started/intro) (MCP) servers by utilizing[Azure API Management](https://azure.microsoft.com/en-us/products/api-management).\n\n# Use Case\n\nImagine your organization has a legacy REST API hosted on Azure Container Apps that core business systems depend on (order management, pricing, inventory, etc.). You now want AI agents (e.g., GitHub Copilot Agent Mode, Claude, internal copilots) to safely discover and invoke that functionality as “tools,” **without** rewriting the backend or loosening governance.\n\nTo showcase the use case, we deploy an e-commerce application that includes these legacy API endpoints onto Azure Container Apps. For demonstration purposes, we use the [Store API](http://%28https://github.com/keikaavousi/fake-store-api) a widely used REST API designed for e-commerce prototyping.  The exposed endpoints are then published as MCP Server endpoints through Azure API Management, providing agents a standards-based entry point with centralized security, throttling, and observability. Following this, Visual Studio Code is used to consume these endpoints, facilitating modern and efficient API access for client applications.\n\n# Deploy Sample Store App to Azure Container Apps\n\nDeploy the Store App to Azure Container Apps. The App offers realistic endpoints for managing products, users, shopping carts, and authentication.  Fork the [Store API](http://%28https://github.com/keikaavousi/fake-store-api) and build the .*Dockerfile*and provide the below details to create the App. More details on deployment could be found [here .](https://learn.microsoft.com/en-us/azure/container-apps/code-to-cloud-options)\n\n``` az group create --name \"store-app-rg\" --location \"East US\" az containerapp env create --name \"store-app-env\" --resource-group \"store-app-rg\" --location \"East US\" az containerapp create --name \"store-app\" --resource-group \"store-app-rg\" --environment \"store-app-env\" --image \"voronalk/fakestoreapi:latest\" --target-port 3000 --ingress external --min-replicas 1 --max-replicas 5 --cpu 0.5 --memory 1Gi --env-vars PORT=3000 az containerapp show --name \"store-app\" --resource-group \"store-app-rg\" --query \"properties.configuration.ingress.fqdn\" --output table ```\n\n# Create an Azure API Management Instance\n\nTo securely create, expose and govern MCP servers and their backends, API management instance is created. It also provides centralized control over MCP server authentication, authorization, and monitoring.\n\n``` az group create --name \"store-app-rg\" --location \"East US\" az apim create --name \"store-app-apim\" --resource-group \"store-app-rg\" --location \"East US\" --publisher-email \"admin@example.com\" --publisher-name \"Store App Publisher\" --sku-name Developer ```\n\n# Import the Storefront Open API Specification in Azure API Management\n\nThe APIs which are hosted on Azure Container Apps needs to be imported to Azure API Management such that the existing APIs can be exposed through MCP Server without rewriting their backends.  The Open API Specification provides options to quick import and creates Proxies within API Management\n\n```\n# First get the Container App URL\nCONTAINER_APP_URL=$(az containerapp show --name \"store-app\" --resource-group \"store-app-rg\" --query \"properties.configuration.ingress.fqdn\" --output tsv)\n# Import the API\naz apim api import --resource-group \"store-app-rg\" --service-name \"store-app-apim\" --api-id \"store-api\" --path \"/storeapp\" --specification-format \"OpenApi\" --specification-url \"https://fakestoreapi.com/docs-data\" --display-name \"Store API\" --protocols https --service-url \"https://$CONTAINER_APP_URL\" ```\n\nHere is the Open API representation of the Legacy Store Endpoints\n\n# Expose the Legacy APIs as a MCP Server\n\nNavigate to APIs, select MCP Servers &gt; + Create MCP server. Provide the endpoints that needs to be available as MCP server. Select the operations required to be exposed to the AI Agents. Follow the [steps](https://learn.microsoft.com/en-us/azure/api-management/export-rest-mcp-server#expose-api-as-an-mcp-server)for more details\n\nBelow, the MCP server is created, and the API operations are exposed as tools. The MCP server is listed in the MCP Servers blade. The Server URL column shows the endpoint of the MCP server to call for testing or within a client application.\n\n# Configure the MCP Server from VS Code\n\nFollow the [steps](https://learn.microsoft.com/en-us/azure/api-management/export-rest-mcp-server#add-the-mcp-server-in-visual-studio-code) mentioned here to configure the MCP Server in VS Code. The MCP endpoint created in the above step is protected by an API Key, ensure that the key details are provided in the configuration.\n\nUpdate the *settings.json* with the following configuration\n\nUpdate the *mcp.json* with the following configuration providing the MCP endpoint for the AI Agents\n\n# Query the MCP Server endpoint from VS Code Chat\n\nFollowing is the response from the query on requesting the MCP endpoint.\n\nFollowing are some of the other prompts you could try\n\n- *Show me all the products available in the Store*\n- *List the top 10 products from Store*\n- *Give me all men’s clothing and sort them by price*\n- *Find all carts created between 2020-10-01 and 2020-12-31*\n\nUpdated Nov 20, 2025\n\nVersion 1.0\n\n[azure container apps](/tag/azure%20container%20apps?nodeId=board%3AAppsonAzureBlog)\n\n[!\\[DeepGanguly&#x27;s avatar\\](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/dS0zMTc3ODQ4LTBEV0FTUQ?image-coordinates=6%2C0%2C536%2C530&amp;image-dimensions=50x50)](/users/deepganguly/3177848) [DeepGanguly](/users/deepganguly/3177848) ![Icon for Microsoft rank](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/cmstNC05WEo0blc?image-dimensions=100x16&amp;constrain-image=true)Microsoft\n\nJoined September 11, 2025\n\n[View Profile](/users/deepganguly/3177848)\n\n/category/azure/blog/appsonazureblog [Apps on Azure Blog](/category/azure/blog/appsonazureblog) Follow this blog board to get notified when there's new activity",
  "Link": "https://techcommunity.microsoft.com/t5/apps-on-azure-blog/exposing-legacy-apis-hosted-on-azure-container-apps-to-ai-agents/ba-p/4470476",
  "PubDate": "2025-11-20T09:37:41+00:00",
  "OutputDir": "_community",
  "Author": "DeepGanguly",
  "FeedLevelAuthor": "rss.livelink.threads-in-node"
}
