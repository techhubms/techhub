{
  "FeedLevelAuthor": "rss.livelink.threads-in-node",
  "Author": "Antonio Buonaiuto",
  "FeedName": "Microsoft Tech Community",
  "PubDate": "2025-11-19T08:57:53+00:00",
  "ProcessedDate": "2025-11-19 18:06:11",
  "Description": "I'm using a network security perimeter in Azure.\n\nIn the perimeter there are two resources assigned: A storage Account and An Azure SQL Databse.\n\nI'm using the BULK INSERT dbo.YourTable FROM 'sample\\_data.csv' getting data from the storage account.\n\nThe NSP is enforced for both resources, so the public connectivity is denied for resources outside the perimeter\n\nI have experienced this behavior: the azure SQL CANNOT access the storage account when I run the command. I resolved using:\n\n1. I need to add an outbound rule in the NSP to reach the storage fqdn\n2. I need to add an inbound rule in the NSP to allow the public IP of the SQL Azure\n\nWhen I do 1 and 2, azure SQL is able to pump data from the storage.\n\nIMHO this is not the expected behavior for two resources in the NSP. I expect that, as they are in the same NSP, they can communicate to each other.\n\nI have experienced a different behavior when using keyvault in the same NSP. I'm using the keyvault to get the keys for encryption for the same storage. For the key vault, i didn't have to create any rule to make it able to communicate to the storage, as they are in the same NSP.\n\nI know, Azure SQL is in preview for the NSP and the keyvault in GA, but I want to ask if the experienced behavior (the SQL CANNOT connect to the storage even if in the same NSP) is due to a unstable or unimplemented feature, or I'm missing something? What is the expected behavior?\n\nThank you community!!",
  "Link": "https://techcommunity.microsoft.com/t5/azure-networking/what-would-be-the-expected-behavior-for-an-nsp/m-p/4471260#M748",
  "Title": "What would be the expected behavior for an NSP?",
  "Tags": [],
  "EnhancedContent": "I'm using a network security perimeter in Azure.\n\nIn the perimeter there are two resources assigned: A storage Account and An Azure SQL Databse.\n\nI'm using the BULK INSERT dbo.YourTable FROM 'sample\\_data.csv' getting data from the storage account.\n\nThe NSP is enforced for both resources, so the public connectivity is denied for resources outside the perimeter\n\nI have experienced this behavior: the azure SQL CANNOT access the storage account when I run the command. I resolved using:\n\n1. I need to add an outbound rule in the NSP to reach the storage fqdn\n2. I need to add an inbound rule in the NSP to allow the public IP of the SQL Azure\n\nWhen I do 1 and 2, azure SQL is able to pump data from the storage.\n\nIMHO this is not the expected behavior for two resources in the NSP. I expect that, as they are in the same NSP, they can communicate to each other.\n\nI have experienced a different behavior when using keyvault in the same NSP. I'm using the keyvault to get the keys for encryption for the same storage. For the key vault, i didn't have to create any rule to make it able to communicate to the storage, as they are in the same NSP.\n\nI know, Azure SQL is in preview for the NSP and the keyvault in GA, but I want to ask if the experienced behavior (the SQL CANNOT connect to the storage even if in the same NSP) is due to a unstable or unimplemented feature, or I'm missing something? What is the expected behavior?\n\nThank you community!!",
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure",
  "OutputDir": "_community"
}
