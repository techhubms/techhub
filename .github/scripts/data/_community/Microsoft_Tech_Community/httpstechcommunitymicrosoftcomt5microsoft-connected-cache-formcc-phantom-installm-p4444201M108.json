{
  "OutputDir": "_community",
  "Link": "https://techcommunity.microsoft.com/t5/microsoft-connected-cache-for/mcc-phantom-install/m-p/4444201#M108",
  "Title": "MCC Phantom Install",
  "ProcessedDate": "2025-08-15 17:13:29",
  "FeedLevelAuthor": "rss.livelink.threads-in-node",
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Community",
  "PubDate": "2025-08-15T13:49:08+00:00",
  "Description": "Installing on Windows 2022. WSL and WSL kernel are fully updated.\n\nMCC claims it installed successfully, but there is no distro installed. wsl --list says none exist.\n\nThe wslip.txt file just shows: System.Object[] COMPLETED\n\n- Starting MCC installation from scheduled task\n[07/30/2025 17:03:04] Verifying VHDX file exists and is accessible: c:\\mccwsl02\\Ubuntu-24.04-Mcc-Converted.vhdx [07/30/2025 17:03:04] VHDX file verified: Size 132074438656 bytes, accessible for import [07/30/2025 17:03:04] Importing MCC Ubuntu image from c:\\mccwsl02\\Ubuntu-24.04-Mcc-Converted.vhdx to WSL [07/30/2025 17:03:04] Completed imported MCC Ubuntu image from c:\\mccwsl02\\Ubuntu-24.04-Mcc-Converted.vhdx to WSL [07/30/2025 17:03:04] Validating that import was successful [07/30/2025 17:03:17] WSL Ubuntu Image detected running on IP : System.Object[], configuring port proxy [07/30/2025 17:03:18] Completed configuration of port forwarding [07/30/2025 17:03:18] Setting WslMccUbuntuEthZeroIp [07/30/2025 17:03:18] Successfully validated that WSL Imported MCC Ubuntu Image, WSLStatusText : Installed [07/30/2025 17:03:19] Creating cache folder locations within Ubuntu image [07/30/2025 17:03:19] Successfully completed creating cache folder locations within Ubuntu image [07/30/2025 17:03:19] Running MCC install command line within WSL Ubuntu distro... [07/30/2025 17:04:28] MCC install command line has completed within WSL Ubuntu distro [07/30/2025 17:04:28] Validating MCC install to ensure it has completed successfully [07/30/2025 17:04:28] Successfully verified that MCC has been installed on Ubuntu WSL instance [07/30/2025 17:04:30] Waiting for MCC container to become available... [07/30/2025 17:04:35] Waiting for MCC container to be downloaded (could take up to 30 minutes)... [07/30/2025 17:06:15] Jul 30 17:05:11 \\*\\*\\*Removed for Privacy\\*\\*\\* aziot-edged[4186]: 2025-07-30T21:05:11Z [INFO] - Pulling image via tag msconnectedcacheprod1.azurecr.io/mcc/linux/iot/mcc-ubuntu-iot-amd64:2.0.0.2112\\_e... [07/30/2025 17:06:15] Jul 30 17:06:14 \\*\\*\\*Removed for Privacy\\*\\*\\* aziot-edged[4186]: 2025-07-30T21:06:14Z [INFO] - Successfully pulled image msconnectedcacheprod1.azurecr.io/mcc/linux/iot/mcc-ubuntu-iot-amd64:2.0.0.2112\\_e [07/30/2025 17:06:20] MCC container detected as running, waiting for MCC to return ready status code [07/30/2025 17:06:34] Successfully validated MCC install, returned 200 for content request [07/30/2025 17:06:34] Setting LastCompletedInstallStepw2 [07/30/2025 17:06:34] MCC Install Task has returned success [07/30/2025 17:06:34] Final validation, ensuring that MCC is up and responding to requests [07/30/2025 17:06:34] Checking for netsh interface portproxy forwarding rules [07/30/2025 17:06:34] Successfully verified that MCC public port :80 has been forwarded to WSL [07/30/2025 17:06:34] Verifying symlink created: Ubuntu-24.04-Mcc [07/30/2025 17:06:34] Current execution context - User: \\*\\*\\*Removed for Privacy\\*\\*\\*, Path: C:\\Program Files\\WindowsApps\\Microsoft.DeliveryOptimization\\_1.0.24.0\\_neutral\\_\\_8wekyb3d8bbwe\\deliveryoptimization-cli [07/30/2025 17:06:34] MCC Runtime Account: \\*\\*\\*Removed for Privacy\\*\\*\\* [07/30/2025 17:06:34] Validating WSL distribution using gMSA account [07/30/2025 17:06:34] Current execution context - User: \\*\\*\\*Removed for Privacy\\*\\*\\* [07/30/2025 17:06:34] Checking for WSL distribution: Ubuntu-24.04-Mcc as runtime account: \\*\\*\\*Removed for Privacy\\*\\*\\* [07/30/2025 17:06:34] Created temporary task directory: c:\\mccwsl02\\TempWslCheck\\_a0d047e2-1dc9-45ce-be9b-a145ecbb5f3d [07/30/2025 17:06:34] Starting WSL distribution check task 'WSLDistroCheck\\_1654293464' [07/30/2025 17:06:35] Waiting for WSL distribution check task 'WSLDistroCheck\\_1654293464' to complete (max 30 seconds)... [07/30/2025 17:06:37] Task 'WSLDistroCheck\\_1654293464' finished. State: Ready, LastResult: [07/30/2025 17:06:37] Reading WSL distribution check result from file: c:\\mccwsl02\\TempWslCheck\\_a0d047e2-1dc9-45ce-be9b-a145ecbb5f3d\\wsl\\_distro\\_check\\_result.txt [07/30/2025 17:06:37] Check result: U b u n t u - 2 4 . 0 4 - M c c - B a s e\n\nU b u n t u - 2 4 . 0 4 - M c c\n\n[07/30/2025 17:06:37] WSL distribution 'Ubuntu-24.04-Mcc' found for runtime account: \\*\\*\\*Removed for Privacy\\*\\*\\* [07/30/2025 17:06:37] Setting up certificate directories and WSL symlinks for gMSA account via scheduled task approach [07/30/2025 17:06:37] Creating Certificates directory: c:\\mccwsl02\\Certificates [07/30/2025 17:06:37] Certificates directory created successfully [07/30/2025 17:06:37] Creating certs subdirectory: c:\\mccwsl02\\Certificates\\certs [07/30/2025 17:06:37] Certs subdirectory created successfully [07/30/2025 17:06:37] Creating logs subdirectory: c:\\mccwsl02\\Certificates\\logs [07/30/2025 17:06:37] Logs subdirectory created successfully [07/30/2025 17:06:37] Creating WSL symlinks and config using scheduled task approach for gMSA account [07/30/2025 17:06:37] Registering WSL symlink setup task 'WSLSymlinkSetup\\_1872124169' using gMSA account for \\*\\*\\*Removed for Privacy\\*\\*\\* [07/30/2025 17:06:37] Starting WSL symlink setup task 'WSLSymlinkSetup\\_1872124169' [07/30/2025 17:06:37] Waiting for WSL symlink setup task 'WSLSymlinkSetup\\_1872124169' to complete (max 45 seconds)... [07/30/2025 17:06:43] Task 'WSLSymlinkSetup\\_1872124169' finished. State: Ready, LastResult: [07/30/2025 17:06:43] WSL Setup Results: Directory setup: Symlink creation: Subdirectories: Config file: Symlink verification: lrwxrwxrwx 1 root root 28 Jul 30 17:06 windowsCerts -> /mnt/c/mccwsl02/Certificates Config verification: Config file exists SUCCESS: WSL setup completed Directory setup: Symlink creation: Subdirectories: Config file: Symlink verification: lrwxrwxrwx 1 root root 28 Jul 30 17:06 windowsCerts -> /mnt/c/mccwsl02/Certificates Config verification: Config file exists SUCCESS: WSL setup completed [07/30/2025 17:06:43] WSL symlink and config creation completed successfully via scheduled task [07/30/2025 17:06:43] Successfully created WSL symlink for gMSA account using scheduled task approach [07/30/2025 17:06:43] Successfully created config file for gMSA account using scheduled task approach [07/30/2025 17:06:43] Cleaning up temporary task directory: c:\\mccwsl02\\TempWslCheck\\_a0d047e2-1dc9-45ce-be9b-a145ecbb5f3d [07/30/2025 17:06:43] ============================================================== [07/30/2025 17:06:43] TLS INFRASTRUCTURE SETUP RESULT DETAILS: [07/30/2025 17:06:43] ============================================================== [07/30/2025 17:06:43] WSLDistroFound: True [07/30/2025 17:06:43] CertificatesDirectoryCreated: True [07/30/2025 17:06:43] WSLSymlinkCreated: True [07/30/2025 17:06:43] ConfigFileCreated: True [07/30/2025 17:06:43] HasLocalAccountCredential: False [07/30/2025 17:06:43] ErrorMessage: [07/30/2025 17:06:43] ErrorDetails: None [07/30/2025 17:06:43] SUCCESS CALCULATION BREAKDOWN: [07/30/2025 17:06:44]\n\n[07/30/2025 17:06:44] Has Local Credentials = False [07/30/2025 17:06:44] WSLDistroFound = True [07/30/2025 17:06:44] CertificatesDirectoryCreated = True [07/30/2025 17:06:44] WSLSymlinkCreated = True [07/30/2025 17:06:44] ConfigFileCreated = True [07/30/2025 17:06:44] FINAL SUCCESS RESULT: True [07/30/2025 17:06:44] ============================================================== [07/30/2025 17:06:44]\n\n[07/30/2025 17:06:44] TLS infrastructure setup completed successfully [07/30/2025 17:06:44]\n\n[07/30/2025 17:06:44] Successfully received response from MCC content server, status description: OK, System.Net.HttpWebRequest.URL, System.Net.HttpWebRequest.StatusCode [07/30/2025 17:06:44] Successfully verified MCC is installed, running and responding to requests! [07/30/2025 17:06:44] Setting LastCompletedInstallStep [07/30/2025 17:06:44] Setting InvocationExitCode [07/30/2025 17:06:44] Unregistered base Ubuntu image version: Ubuntu-24.04-Mcc after successful install of MCC [07/30/2025 17:06:44] Setting InvocationEndTime [07/30/2025 17:06:44] Setting InvocationState [07/30/2025 17:06:44] Installer return code 0 \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\* Windows PowerShell transcript end End time: 20250730170644 \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*",
  "FeedName": "Microsoft Tech Community",
  "Author": "jjmehren",
  "Tags": [],
  "EnhancedContent": "Installing on Windows 2022. WSL and WSL kernel are fully updated.\n\nMCC claims it installed successfully, but there is no distro installed. wsl --list says none exist.\n\nThe wslip.txt file just shows: System.Object[] COMPLETED\n\n``` Starting MCC installation from scheduled task [07/30/2025 17:03:04] Verifying VHDX file exists and is accessible: c:\\mccwsl02\\Ubuntu-24.04-Mcc-Converted.vhdx [07/30/2025 17:03:04] VHDX file verified: Size 132074438656 bytes, accessible for import [07/30/2025 17:03:04] Importing MCC Ubuntu image from c:\\mccwsl02\\Ubuntu-24.04-Mcc-Converted.vhdx to WSL [07/30/2025 17:03:04] Completed imported MCC Ubuntu image from c:\\mccwsl02\\Ubuntu-24.04-Mcc-Converted.vhdx to WSL [07/30/2025 17:03:04] Validating that import was successful [07/30/2025 17:03:17] WSL Ubuntu Image detected running on IP : System.Object[], configuring port proxy [07/30/2025 17:03:18] Completed configuration of port forwarding [07/30/2025 17:03:18] Setting WslMccUbuntuEthZeroIp [07/30/2025 17:03:18] Successfully validated that WSL Imported MCC Ubuntu Image, WSLStatusText : Installed [07/30/2025 17:03:19] Creating cache folder locations within Ubuntu image [07/30/2025 17:03:19] Successfully completed creating cache folder locations within Ubuntu image [07/30/2025 17:03:19] Running MCC install command line within WSL Ubuntu distro... [07/30/2025 17:04:28] MCC install command line has completed within WSL Ubuntu distro [07/30/2025 17:04:28] Validating MCC install to ensure it has completed successfully [07/30/2025 17:04:28] Successfully verified that MCC has been installed on Ubuntu WSL instance [07/30/2025 17:04:30] Waiting for MCC container to become available... [07/30/2025 17:04:35] Waiting for MCC container to be downloaded (could take up to 30 minutes)... [07/30/2025 17:06:15] Jul 30 17:05:11 ***Removed for Privacy*** aziot-edged[4186]: 2025-07-30T21:05:11Z [INFO] - Pulling image via tag msconnectedcacheprod1.azurecr.io/mcc/linux/iot/mcc-ubuntu-iot-amd64:2.0.0.2112_e... [07/30/2025 17:06:15] Jul 30 17:06:14 ***Removed for Privacy*** aziot-edged[4186]: 2025-07-30T21:06:14Z [INFO] - Successfully pulled image msconnectedcacheprod1.azurecr.io/mcc/linux/iot/mcc-ubuntu-iot-amd64:2.0.0.2112_e [07/30/2025 17:06:20] MCC container detected as running, waiting for MCC to return ready status code [07/30/2025 17:06:34] Successfully validated MCC install, returned 200 for content request [07/30/2025 17:06:34] Setting LastCompletedInstallStepw2 [07/30/2025 17:06:34] MCC Install Task has returned success [07/30/2025 17:06:34] Final validation, ensuring that MCC is up and responding to requests [07/30/2025 17:06:34] Checking for netsh interface portproxy forwarding rules [07/30/2025 17:06:34] Successfully verified that MCC public port :80 has been forwarded to WSL [07/30/2025 17:06:34] Verifying symlink created: Ubuntu-24.04-Mcc [07/30/2025 17:06:34] Current execution context - User: ***Removed for Privacy***, Path: C:\\Program Files\\WindowsApps\\Microsoft.DeliveryOptimization_1.0.24.0_neutral__8wekyb3d8bbwe\\deliveryoptimization-cli [07/30/2025 17:06:34] MCC Runtime Account: ***Removed for Privacy*** [07/30/2025 17:06:34] Validating WSL distribution using gMSA account [07/30/2025 17:06:34] Current execution context - User: ***Removed for Privacy*** [07/30/2025 17:06:34] Checking for WSL distribution: Ubuntu-24.04-Mcc as runtime account: ***Removed for Privacy*** [07/30/2025 17:06:34] Created temporary task directory: c:\\mccwsl02\\TempWslCheck_a0d047e2-1dc9-45ce-be9b-a145ecbb5f3d [07/30/2025 17:06:34] Starting WSL distribution check task 'WSLDistroCheck_1654293464' [07/30/2025 17:06:35] Waiting for WSL distribution check task 'WSLDistroCheck_1654293464' to complete (max 30 seconds)... [07/30/2025 17:06:37] Task 'WSLDistroCheck_1654293464' finished. State: Ready, LastResult: [07/30/2025 17:06:37] Reading WSL distribution check result from file: c:\\mccwsl02\\TempWslCheck_a0d047e2-1dc9-45ce-be9b-a145ecbb5f3d\\wsl_distro_check_result.txt [07/30/2025 17:06:37] Check result: U b u n t u - 2 4 . 0 4 - M c c - B a s e\n\nU b u n t u - 2 4 . 0 4 - M c c\n\n[07/30/2025 17:06:37] WSL distribution 'Ubuntu-24.04-Mcc' found for runtime account: ***Removed for Privacy*** [07/30/2025 17:06:37] Setting up certificate directories and WSL symlinks for gMSA account via scheduled task approach [07/30/2025 17:06:37] Creating Certificates directory: c:\\mccwsl02\\Certificates [07/30/2025 17:06:37] Certificates directory created successfully [07/30/2025 17:06:37] Creating certs subdirectory: c:\\mccwsl02\\Certificates\\certs [07/30/2025 17:06:37] Certs subdirectory created successfully [07/30/2025 17:06:37] Creating logs subdirectory: c:\\mccwsl02\\Certificates\\logs [07/30/2025 17:06:37] Logs subdirectory created successfully [07/30/2025 17:06:37] Creating WSL symlinks and config using scheduled task approach for gMSA account [07/30/2025 17:06:37] Registering WSL symlink setup task 'WSLSymlinkSetup_1872124169' using gMSA account for ***Removed for Privacy*** [07/30/2025 17:06:37] Starting WSL symlink setup task 'WSLSymlinkSetup_1872124169' [07/30/2025 17:06:37] Waiting for WSL symlink setup task 'WSLSymlinkSetup_1872124169' to complete (max 45 seconds)... [07/30/2025 17:06:43] Task 'WSLSymlinkSetup_1872124169' finished. State: Ready, LastResult: [07/30/2025 17:06:43] WSL Setup Results: Directory setup: Symlink creation: Subdirectories: Config file: Symlink verification: lrwxrwxrwx 1 root root 28 Jul 30 17:06 windowsCerts -> /mnt/c/mccwsl02/Certificates Config verification: Config file exists SUCCESS: WSL setup completed Directory setup: Symlink creation: Subdirectories: Config file: Symlink verification: lrwxrwxrwx 1 root root 28 Jul 30 17:06 windowsCerts -> /mnt/c/mccwsl02/Certificates Config verification: Config file exists SUCCESS: WSL setup completed [07/30/2025 17:06:43] WSL symlink and config creation completed successfully via scheduled task [07/30/2025 17:06:43] Successfully created WSL symlink for gMSA account using scheduled task approach [07/30/2025 17:06:43] Successfully created config file for gMSA account using scheduled task approach [07/30/2025 17:06:43] Cleaning up temporary task directory: c:\\mccwsl02\\TempWslCheck_a0d047e2-1dc9-45ce-be9b-a145ecbb5f3d [07/30/2025 17:06:43] ============================================================== [07/30/2025 17:06:43] TLS INFRASTRUCTURE SETUP RESULT DETAILS: [07/30/2025 17:06:43] ============================================================== [07/30/2025 17:06:43] WSLDistroFound: True [07/30/2025 17:06:43] CertificatesDirectoryCreated: True [07/30/2025 17:06:43] WSLSymlinkCreated: True [07/30/2025 17:06:43] ConfigFileCreated: True [07/30/2025 17:06:43] HasLocalAccountCredential: False [07/30/2025 17:06:43] ErrorMessage: [07/30/2025 17:06:43] ErrorDetails: None [07/30/2025 17:06:43] SUCCESS CALCULATION BREAKDOWN: [07/30/2025 17:06:44]\n\n[07/30/2025 17:06:44] Has Local Credentials = False [07/30/2025 17:06:44] WSLDistroFound = True [07/30/2025 17:06:44] CertificatesDirectoryCreated = True [07/30/2025 17:06:44] WSLSymlinkCreated = True [07/30/2025 17:06:44] ConfigFileCreated = True [07/30/2025 17:06:44] FINAL SUCCESS RESULT: True [07/30/2025 17:06:44] ============================================================== [07/30/2025 17:06:44]\n\n[07/30/2025 17:06:44] TLS infrastructure setup completed successfully [07/30/2025 17:06:44]\n\n[07/30/2025 17:06:44] Successfully received response from MCC content server, status description: OK, System.Net.HttpWebRequest.URL, System.Net.HttpWebRequest.StatusCode [07/30/2025 17:06:44] Successfully verified MCC is installed, running and responding to requests! [07/30/2025 17:06:44] Setting LastCompletedInstallStep [07/30/2025 17:06:44] Setting InvocationExitCode [07/30/2025 17:06:44] Unregistered base Ubuntu image version: Ubuntu-24.04-Mcc after successful install of MCC [07/30/2025 17:06:44] Setting InvocationEndTime [07/30/2025 17:06:44] Setting InvocationState [07/30/2025 17:06:44] Installer return code 0 ********************** Windows PowerShell transcript end End time: 20250730170644 ********************** ```"
}
