{
  "FeedLevelAuthor": "rss.livelink.threads-in-node",
  "Tags": [],
  "Description": "## Overview\n\nAzure Container Apps (ACA) simplifies container orchestration, but capacity planning often confuses developers. Questions like “How do replicas consume node resources?”, “When does ACA add nodes?”, and “How should I model limits and requests?”. This guide pairs **official ACA guidance** with **practical examples** to demystify workload profiles, autoscaling, and resource modelling.\n\n## Understanding Workload Profiles in Azure Container Apps\n\nACA offers three profile types:\n\n### Consumption\n\n- Scales to zero\n- Platform decides node size\n- Billing per replica execution time\n\n### Dedicated\n\n- Choose VM SKU (e.g., D4 → 4 vCPU, 16 GiB RAM)\n- Billing per node\n\n### Flex (Preview)\n\n- Combines dedicated isolation with consumption-like billing\n\nEach profile defines **node-level resources**. For Example: D4 → 4 vCPU, 16 GiB RAM per node.\n\n## 2. How Replicas Consume Node Resources\n\nACA runs on managed Kubernetes.\n\n- **Node = VM with fixed resources**\n- **Replica = Pod scheduled on a node**\n- Replicas share node resources; ACA packs replicas until node capacity is full.\n\n### Example\n\nNode: D4 (4 vCPU, 16 GiB RAM) Replica requests: 1 vCPU, 2 GiB 5 replicas → Needs 5 vCPU, 10 GiB\n\nACA places **4 replicas on Node 1** and adds **Node 2** for the 5th.\n\n![]()\n\n## 3. When ACA Adds Nodes\n\nACA adds nodes when:\n\n- Pending replicas cannot fit on existing nodes\n- Resource requests exceed available capacity\n\nACA uses Kubernetes scheduling principles. Nodes scale out when pods are not schedulable due to CPU/memory constrains.\n\n## 4. Practical Sizing Strategy\n\n1. Identify peak load → translate to CPU/memory per replica\n2. Choose workload profile SKU (e.g., D4)\n3. Calculate packing: **node capacity ÷ replica request = max replica node**\n4. Add buffer (e.g. 20%) for headroom\n5. Configure autoscaling:\n- Min replicas for HA.\n- Max replicas for burst.\n- Min/Max nodes for cost control.\n\n## 5. Common Misconceptions\n\n**Myth:** “Replicas have dedicated CPU/RAM per container automatically.” **Reality:** Not exactly. They **consume from the node pool** based on your configured CPU & memory. Multiple replicas compete for the **same node** until capacity is exhausted.\n\n**Myth:** “ACA node scaling is CPU-time based.” **Reality:** ACA node scaling is driven by **non-schedulable replicas** (cannot place due to configured resources). Triggers for **replica scaling** are KEDA rules (HTTP, queue, CPU/memory %, etc.), but **node scale** follows from replica placement pressure.\n\n## 6. Key Takeaways\n\n- Model **per-node packing** before setting replica counts\n- Plan for **zero-downtime upgrades** (double replicas temporarily)\n- Monitor autoscaling behavior; defaults may not fit every workload\n\n**[Post questions](https://social.msdn.microsoft.com/forums/azure/en-US/home?forum=windowsazurewebsitespreview) | [Provide product feedback](https://feedback.azure.com/forums/169385-web-apps)**",
  "Title": "Capacity Planning with Azure Container Apps Workload Profiles",
  "EnhancedContent": "## Overview\n\nAzure Container Apps (ACA) simplifies container orchestration, but capacity planning often confuses developers. Questions like “How do replicas consume node resources?”, “When does ACA add nodes?”, and “How should I model limits and requests?”. This guide pairs **official ACA guidance** with **practical examples** to demystify workload profiles, autoscaling, and resource modelling.\n\n## Understanding Workload Profiles in Azure Container Apps\n\nACA offers three profile types:\n\n### Consumption\n\n- Scales to zero\n- Platform decides node size\n- Billing per replica execution time\n\n### Dedicated\n\n- Choose VM SKU (e.g., D4 → 4 vCPU, 16 GiB RAM)\n- Billing per node\n\n### Flex (Preview)\n\n- Combines dedicated isolation with consumption-like billing\n\nEach profile defines **node-level resources**. For Example: D4 → 4 vCPU, 16 GiB RAM per node.\n\n## 2. How Replicas Consume Node Resources\n\nACA runs on managed Kubernetes.\n\n- **Node = VM with fixed resources**\n- **Replica = Pod scheduled on a node**\n- Replicas share node resources; ACA packs replicas until node capacity is full.\n\n### Example\n\nNode: D4 (4 vCPU, 16 GiB RAM) Replica requests: 1 vCPU, 2 GiB 5 replicas → Needs 5 vCPU, 10 GiB\n\nACA places **4 replicas on Node 1** and adds **Node 2** for the 5th.\n\n## 3. When ACA Adds Nodes\n\nACA adds nodes when:\n\n- Pending replicas cannot fit on existing nodes\n- Resource requests exceed available capacity\n\nACA uses Kubernetes scheduling principles. Nodes scale out when pods are not schedulable due to CPU/memory constrains.\n\n## 4. Practical Sizing Strategy\n\n1. Identify peak load → translate to CPU/memory per replica\n2. Choose workload profile SKU (e.g., D4)\n3. Calculate packing: **node capacity ÷ replica request = max replica node**\n4. Add buffer (e.g. 20%) for headroom\n5. Configure autoscaling:\n- Min replicas for HA.\n- Max replicas for burst.\n- Min/Max nodes for cost control.\n\n## 5. Common Misconceptions\n\n**Myth:** “Replicas have dedicated CPU/RAM per container automatically.” **Reality:** Not exactly. They **consume from the node pool** based on your configured CPU & memory. Multiple replicas compete for the **same node** until capacity is exhausted.\n\n**Myth:** “ACA node scaling is CPU-time based.” **Reality:** ACA node scaling is driven by **non-schedulable replicas** (cannot place due to configured resources). Triggers for **replica scaling** are KEDA rules (HTTP, queue, CPU/memory %, etc.), but **node scale** follows from replica placement pressure.\n\n## 6. Key Takeaways\n\n- Model **per-node packing** before setting replica counts\n- Plan for **zero-downtime upgrades** (double replicas temporarily)\n- Monitor autoscaling behavior; defaults may not fit every workload\n\n**[Post questions](https://social.msdn.microsoft.com/forums/azure/en-US/home?forum=windowsazurewebsitespreview) | [Provide product feedback](https://feedback.azure.com/forums/169385-web-apps)**\n\nPublished Dec 11, 2025\n\nVersion 1.0\n\n[azure container apps](/tag/azure%20container%20apps?nodeId=board%3AAppsonAzureBlog)\n\n[!\\[nesubram&#x27;s avatar\\](https://techcommunity.microsoft.com/t5/s/gxcuf89792/m_assets/avatars/default/avatar-3.svg?image-dimensions=50x50)](/users/nesubram/1490448) [nesubram](/users/nesubram/1490448) ![Icon for Microsoft rank](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/cmstNC05WEo0blc?image-dimensions=100x16&amp;constrain-image=true)Microsoft\n\nJoined August 18, 2022\n\n[View Profile](/users/nesubram/1490448)\n\n/category/azure/blog/appsonazureblog [Apps on Azure Blog](/category/azure/blog/appsonazureblog) Follow this blog board to get notified when there's new activity",
  "OutputDir": "_community",
  "Link": "https://techcommunity.microsoft.com/t5/apps-on-azure-blog/capacity-planning-with-azure-container-apps-workload-profiles/ba-p/4477085",
  "ProcessedDate": "2025-12-11 06:05:03",
  "PubDate": "2025-12-11T05:23:42+00:00",
  "Author": "nesubram",
  "FeedName": "Microsoft Tech Community",
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure"
}
