{
  "FeedLevelAuthor": "rss.livelink.threads-in-node",
  "EnhancedContent": "As enterprises adopt Microsoft Azure for large-scale workloads, securing network traffic becomes a critical part of the platform foundation. Azure’s [**Well-Architected Framework**](https://learn.microsoft.com/en-us/azure/well-architected/) provides the blueprint for enterprise-scale **Landing Zone** design and deployments, and while **[Azure Firewall](https://learn.microsoft.com/en-us/azure/firewall/overview)** is a built-in PaaS option, some organizations prefer **third-party firewall appliances** for familiarity, feature depth, and vendor alignment.\n\nThis blog explains the **basic design patterns**, **key configurations**, and **best practices** when deploying third-party firewalls (Palo Alto, Fortinet, Check Point, etc.) as part of an Azure Landing Zone.\n\n## 1. Landing Zone Architecture and Firewall Role\n\nThe **Azure Landing Zone** is Microsoft’s recommended enterprise-scale architecture for adopting cloud at scale. It provides a standardized, modular design that organizations can use to deploy and govern workloads consistently across subscriptions and regions.\n\nAt its core, the Landing Zone follows a [**hub-and-spoke** **topology**](https://learn.microsoft.com/en-us/azure/architecture/networking/architecture/hub-spoke)**:**\n\n- **Hub (Connectivity Subscription):**\n- Central place for shared services like **DNS, private endpoints, VPN/ExpressRoute gateways, Azure Firewall (or third-party firewall appliances), Bastion, and monitoring agents**.\n- Provides consistent security controls and connectivity for all workloads.\n- Firewalls are deployed here to act as the **traffic inspection and enforcement point**.\n- **Spokes (Workload Subscriptions):**\n- Application workloads (e.g., SAP, web apps, data platforms) are placed in spoke VNets.\n- Additional specialized spokes may exist for **Identity**, **Shared Services**, **Security**, or **Management**.\n- These are isolated for governance and compliance, but all connectivity back to other workloads or on-premises routes through the hub.\n\n#### Traffic Flows Through Firewalls\n\n- **North-South Traffic:**\n- Inbound connections from the Internet (e.g., customer access to applications).\n- Outbound connections from Azure workloads to Internet services.\n- Hybrid connectivity to on-premises datacenters or other clouds.\n- Routed through the **external firewall set** for inspection and policy enforcement.\n- **East-West Traffic:**\n- Lateral traffic between spokes (e.g., Application VNet to Database VNet).\n- Communication across environments like Dev → Test → Prod (if allowed).\n- Routed through an **internal firewall set** to apply segmentation, zero-trust principles, and prevent lateral movement of threats.\n\n#### Why Firewalls Matter in the Landing Zone\n\nWhile Azure provides **NSGs (Network Security Groups)** and **Route Tables** for basic packet filtering and routing, these are not sufficient for advanced security scenarios. Firewalls add:\n\n- **Deep packet inspection (DPI)** and **application-level filtering**.\n- **Intrusion Detection/Prevention (IDS/IPS)** capabilities.\n- **Centralized policy management** across multiple spokes.\n- **Segmentation of workloads** to reduce blast radius of potential attacks.\n- **Consistent enforcement** of enterprise security baselines across hybrid and multi-cloud.\n\n#### Organizations May Choose\n\nDepending on **security needs, cost tolerance, and operational complexity**, organizations typically adopt one of two models for third party firewalls:\n\n1. **Two sets of firewalls**\n- One set dedicated for **north-south traffic** (external to Azure).\n- Another set for **east-west traffic** (between VNets and spokes).\n- Provides the **highest security granularity**, but comes with higher cost and management overhead.\n2. **Single set of firewalls**\n- A consolidated deployment where **the same firewall cluster handles both east-west and north-south traffic**.\n- Simpler and more cost-effective, but may introduce complexity in routing and policy segregation.\n\nThis design choice is usually made during Landing Zone design, balancing **security requirements, budget, and operational maturity**.\n\n## 2. Why Choose Third-Party Firewalls Over Azure Firewall?\n\nWhile **[Azure](https://learn.microsoft.com/en-us/azure/firewall/overview)**[Firewall](https://learn.microsoft.com/en-us/azure/firewall/overview) provides simplicity as a managed service, customers often choose third-party solutions due to:\n\n- **Advanced features** – Deep packet inspection, IDS/IPS, SSL decryption, threat feeds.\n- **Vendor familiarity** – Network teams trained on Palo Alto, Fortinet, or Check Point.\n- **Existing contracts** – Enterprise license agreements and support channels.\n- **Hybrid alignment** – Same vendor firewalls across on-premises and Azure.\n\nAzure Firewall is a **fully managed PaaS service**, ideal for customers who want a simple, cloud-native solution without worrying about underlying infrastructure. However, many enterprises continue to choose **third-party firewall appliances** (Palo Alto, Fortinet, Check Point, etc.) when implementing their Landing Zones. The decision usually depends on **capabilities, familiarity, and enterprise strategy**.\n\n#### Key Reasons to Choose Third-Party Firewalls\n\n1. **Feature Depth and Advanced Security**\n- Third-party vendors offer advanced capabilities such as:\n- **Deep Packet Inspection (DPI)** for application-aware filtering.\n- **Intrusion Detection and Prevention (IDS/IPS)**.\n- **SSL/TLS decryption and inspection**.\n- **Advanced threat feeds, malware protection, sandboxing, and botnet detection**.\n- While Azure Firewall continues to evolve, these vendors have a longer track record in advanced threat protection.\n2. **Operational Familiarity and Skills**\n- Network and security teams often have years of experience managing Palo Alto, Fortinet, or Check Point appliances on-premises.\n- Adopting the same technology in Azure reduces the learning curve and ensures **faster troubleshooting, smoother operations, and reuse of existing playbooks**.\n3. **Integration with Existing Security Ecosystem**\n- Many organizations already use vendor-specific **management platforms** (e.g., **Panorama** for Palo Alto, **FortiManager** for Fortinet, or **SmartConsole** for Check Point).\n- Extending the same tools into Azure allows **centralized management** of policies across on-premises and cloud, ensuring consistent enforcement.\n4. **Compliance and Regulatory Requirements**\n- Certain industries (finance, healthcare, government) require **proven, certified firewall vendors** for security compliance.\n- Customers may already have third-party solutions validated by auditors and prefer extending those to Azure for consistency.\n5. **Hybrid and Multi-Cloud Alignment**\n- Many enterprises run a **hybrid model**, with workloads split across on-premises, Azure, AWS, or GCP.\n- Third-party firewalls provide a **common security layer across environments**, simplifying multi-cloud operations and governance.\n6. **Customization and Flexibility**\n- Unlike Azure Firewall, which is a managed service with limited backend visibility, third-party firewalls give admins **full control over operating systems, patching, advanced routing, and custom integrations**.\n- This flexibility can be essential when supporting complex or non-standard workloads.\n7. **Licensing Leverage (BYOL)**\n- Enterprises with existing enterprise agreements or volume discounts can **bring their own firewall licenses (BYOL)** to Azure.\n- This often reduces cost compared to pay-as-you-go Azure Firewall pricing.\n\n#### When Azure Firewall Might Still Be Enough\n\n- Organizations with **simple security needs** (basic north-south inspection, FQDN filtering).\n- **Cloud-first teams** that prefer managed services with minimal infrastructure overhead.\n- Customers who want to avoid **manual scaling and VM patching** that comes with IaaS appliances.\n\nIn practice, many large organizations use a **hybrid approach**: Azure Firewall for lightweight scenarios or specific environments, and third-party firewalls for enterprise workloads that require **advanced inspection, vendor alignment, and compliance certifications**.\n\n## 3. Deployment Models in Azure\n\nThird-party firewalls in Azure are primarily **IaaS-based appliances** deployed as virtual machines (VMs). Leading vendors publish **Azure Marketplace images** and **ARM/Bicep templates**, enabling rapid, repeatable deployments across multiple environments. These firewalls allow organizations to enforce advanced network security policies, perform deep packet inspection, and integrate with Azure-native services such as Virtual Network (VNet) peering, Azure Monitor, and Azure Sentinel.\n\n**Note:** Some vendors now also release **PaaS versions** of their firewalls, offering managed firewall services with simplified operations. However, for the purposes of this blog, we will focus mainly on **IaaS-based firewall deployments**.\n\n#### Common Deployment Modes\n\n1. **Active-Active**\n- **Description:** In this mode, multiple firewall VMs operate simultaneously, sharing the traffic load. An **Azure Load Balancer** distributes inbound and outbound traffic across all active firewall instances.\n- **Use Cases:** Ideal for environments requiring **high throughput**, **resilience**, and **near-zero downtime**, such as enterprise data centers, multi-region deployments, or mission-critical applications.\n- **Considerations:**\n- Requires careful **route and policy synchronization** between firewall instances to ensure consistent traffic handling.\n- Typically involves **BGP or user-defined routes** (UDRs) for optimal traffic steering.\n- Scaling is easier: additional firewall VMs can be added behind the load balancer to handle traffic spikes.\n\n1. **Active-Passive**\n- **Description:** One firewall VM handles all traffic (**active**), while the secondary VM (**passive**) stands by for failover. When the active node fails, Azure service principals manage IP reassignment and traffic rerouting.\n- **Use Cases:** Suitable for environments where **simpler management** and **lower operational complexity** are preferred over continuous load balancing.\n- **Considerations:**\n- Failover may result in a **brief downtime**, typically measured in seconds to a few minutes.\n- Synchronization between the active and passive nodes ensures firewall **policies, sessions, and configurations** are mirrored.\n- Recommended for smaller deployments or those with predictable traffic patterns.\n\n#### Network Interfaces (NICs)\n\nThird-party firewall VMs often include **multiple NICs**, each dedicated to a specific type of traffic:\n\n1. **Untrust/Public NIC:** Connects to the Internet or external networks. Handles inbound/outbound public traffic and enforces perimeter security policies.\n2. **Trust/Internal NIC:** Connects to private VNets or subnets. Manages internal traffic between application tiers and enforces internal segmentation.\n3. **Management NIC:** Dedicated to firewall management traffic. Keeps administration separate from data plane traffic, improving security and reducing performance interference.\n4. **HA NIC (Active-Passive setups):** Facilitates synchronization between active and passive firewall nodes, ensuring session and configuration state is maintained across failovers.\n\nThis design choice is usually made during Landing Zone design, balancing **security requirements, budget, and operational maturity**.\n\n**Figure 1**: NICs of Palo Alto External Firewalls and FortiGate Internal Firewalls in two sets of firewall scenario\n\n## 4. Key Configuration Considerations\n\nWhen deploying third-party firewalls in Azure, several design and configuration elements play a critical role in ensuring **security, performance, and high availability**. These considerations should be carefully aligned with organizational security policies, compliance requirements, and operational practices.\n\n#### Routing\n\n- **User-Defined Routes (UDRs):**\n- Define UDRs in **spoke Virtual Networks** to ensure all outbound traffic flows through the firewall, enforcing inspection and security policies before reaching the Internet or other Virtual Networks.\n- Centralized routing helps standardize controls across multiple application Virtual Networks.\n- Depending on the architecture traffic flow design, use appropriate Load Balancer IP as the Next Hop on UDRs of spoke Virtual Networks.\n- **Symmetric Routing:**\n- Ensure traffic follows symmetric paths (i.e., outbound and inbound flows pass through the same firewall instance).\n- Avoid **asymmetric routing**, which can cause stateful firewalls to drop return traffic.\n- Leverage **BGP with Azure Route Server** where supported, to simplify route propagation across hub-and-spoke topologies.\n\n**Figure 2**: Azure UDR directing all traffic from a Spoke VNET to the Firewall IP Address\n\n#### Policies\n\n- **NAT Rules:**\n- Configure **DNAT** (Destination NAT) rules to publish applications securely to the Internet.\n- Use **SNAT** (Source NAT) to mask private IPs when workloads access external resources.\n- **Security Rules:**\n- Define granular **allow/deny rules** for both **north-south traffic** (Internet to VNet) and **east-west traffic** (between Virtual Networks or subnets).\n- Ensure least privilege by only allowing required ports, protocols, and destinations.\n- **Segmentation:**\n- Apply firewall policies to separate **workloads, environments, and tenants** (e.g., Production vs. Development).\n- Enforce compliance by isolating workloads subject to **regulatory standards** (PCI-DSS, HIPAA, GDPR).\n- **Application-Aware Policies:**\n- Many vendors support Layer 7 inspection, enabling controls based on **applications, users, and content** (not just IP/port).\n- Integrate with **identity providers (Azure AD, LDAP, etc.)** for user-based firewall rules.\n\n**Figure 3**: Example Configuration of NAT Rules on a Palo Alto External Firewall\n\n#### Load Balancers\n\n- **Internal Load Balancer (ILB):**\n- Use ILBs for **east-west traffic** inspection between Virtual Networks or subnets.\n- Ensures that traffic between applications always passes through the firewall, regardless of origin.\n- **External Load Balancer (ELB):**\n- Use ELBs for **north-south traffic**, handling Internet ingress and egress.\n- Required in **Active-Active firewall clusters** to distribute traffic evenly across firewall nodes.\n- **Other Configurations:**\n- Configure health probes for firewall instances to ensure faulty nodes are automatically bypassed.\n- Validate Floating IP configuration on Load Balancing Rules according to the respective vendor recommendations.\n\n#### Identity Integration\n\n- **Azure Service Principals:**\n- In **Active-Passive deployments**, configure service principals to enable automated **IP reassignment** during failover.\n- This ensures continuous service availability without manual intervention.\n- **Role-Based Access Control (RBAC):**\n- Integrate firewall management with **Azure RBAC** to control who can deploy, manage, or modify firewall configurations.\n- **SIEM Integration:**\n- Stream logs to **Azure Monitor, Sentinel, or third-party SIEMs** for auditing, monitoring, and incident response.\n\n#### Licensing\n\n- **Pay-As-You-Go (PAYG):**\n- Licenses are bundled into the VM cost when deploying from the **Azure Marketplace**.\n- Best for **short-term projects, PoCs, or variable workloads**.\n- **Bring Your Own License (BYOL):**\n- Enterprises can apply existing contracts and licenses with vendors to Azure deployments.\n- Often more **cost-effective for large-scale, long-term** deployments.\n- **Hybrid Licensing Models:**\n- Some vendors support **license mobility** from on-premises to Azure, reducing duplication of costs.\n\n## 5. Common Challenges\n\nThird-party firewalls in Azure provide strong security controls, but organizations often face practical challenges in day-to-day operations:\n\n- **Misconfiguration**\n- Incorrect **UDRs, route tables, or NAT rules** can cause dropped traffic or bypassed inspection.\n- **Asymmetric routing** is a frequent issue in hub-and-spoke topologies, leading to session drops in stateful firewalls.\n- **Performance Bottlenecks**\n- Firewall throughput depends on the **VM SKU (CPU, memory, NIC limits)**.\n- Under-sizing causes latency and packet loss, while over-sizing adds unnecessary cost.\n- Continuous monitoring and vendor sizing guides are essential.\n- **Failover Downtime**\n- **Active-Passive models** introduce brief service interruptions while IPs and routes are reassigned.\n- Some sessions may be lost even with state sync, making Active-Active more attractive for mission-critical workloads.\n- **Backup & Recovery**\n- Azure Backup doesn’t support vendor firewall OS.\n- Configurations must be **exported and stored externally** (e.g., storage accounts, repos, or vendor management tools).\n- Without proper backups, recovery from failures or misconfigurations can be slow.\n- **Azure Platform Limits on Connections**\n- Azure imposes a **per-VM cap of 250,000 active connections**, regardless of what the firewall vendor appliance supports.\n- This means even if an appliance is designed for millions of sessions, it will be constrained by Azure’s networking fabric.\n- Hitting this cap can lead to unexplained traffic drops despite available CPU/memory.\n- The workaround is to **scale out horizontally** (multiple firewall VMs behind a load balancer) and carefully monitor connection distribution.\n\n## 6. Best Practices for Third-Party Firewall Deployments\n\nTo maximize security, reliability, and performance of third-party firewalls in Azure, organizations should follow these best practices:\n\n- **Deploy in Availability Zones:**\nPlace firewall instances across **different Availability Zones** to ensure regional resilience and minimize downtime in case of zone-level failures.\n- **Prefer Active-Active for Critical Workloads:**\nWhere **zero downtime** is a requirement, use Active-Active clusters behind an Azure Load Balancer. Active-Passive can be simpler but introduces failover delays.\n- **Use Dedicated Subnets for Interfaces:**\nSeparate **trust, untrust, HA, and management NICs** into their own subnets. This enforces segmentation, simplifies route management, and reduces misconfiguration risk.\n- **Apply Least Privilege Policies:**\nAlways start with a **deny-all baseline**, then allow only necessary applications, ports, and protocols. Regularly review rules to avoid policy sprawl.\n- **Standardize Naming & Tagging:**\nAdopt consistent **naming conventions and resource tags** for firewalls, subnets, route tables, and policies. This aids troubleshooting, automation, and compliance reporting.\n- **Validate End-to-End Traffic Flows:**\nTest both **north-south (Internet ↔ VNet)** and **east-west (VNet ↔ VNet/subnet)** flows after deployment. Use tools like **Azure Network Watcher** and vendor traffic logs to confirm inspection.\n- **Plan for Scalability:**\nMonitor **throughput, CPU, memory, and session counts** to anticipate when scale-out or higher VM SKUs are needed. Some vendors support **autoscaling clusters** for bursty workloads.\n- **Maintain Firmware & Threat Signatures:**\nRegularly update the firewall’s **software, patches, and threat intelligence feeds** to ensure protection against emerging vulnerabilities and attacks. Automate updates where possible.\n\n## Conclusion\n\nThird-party firewalls remain a core building block in many enterprise Azure Landing Zones. They provide the deep security controls and operational familiarity enterprises need, while Azure provides the scalable infrastructure to host them.\n\nBy following the **hub-and-spoke architecture**, carefully planning **deployment models**, and enforcing **best practices for routing, redundancy, monitoring, and backup**, organizations can ensure a secure and reliable network foundation in Azure.\n\nUpdated Oct 15, 2025\n\nVersion 1.0\n\n[azure firewall](/tag/azure%20firewall?nodeId=board%3AAzureNetworkingBlog)\n\n[azure networking](/tag/azure%20networking?nodeId=board%3AAzureNetworkingBlog)\n\n[load balancer](/tag/load%20balancer?nodeId=board%3AAzureNetworkingBlog)\n\n[network security perimeter](/tag/network%20security%20perimeter?nodeId=board%3AAzureNetworkingBlog)\n\n[open-source](/tag/open-source?nodeId=board%3AAzureNetworkingBlog)\n\n[virtual network](/tag/virtual%20network?nodeId=board%3AAzureNetworkingBlog)\n\n[well-architected](/tag/well-architected?nodeId=board%3AAzureNetworkingBlog)\n\n[!\\[PramodPalukuru&#x27;s avatar\\](https://techcommunity.microsoft.com/t5/s/gxcuf89792/m_assets/avatars/default/avatar-1.svg?image-dimensions=50x50)](/users/pramodpalukuru/2380760) [PramodPalukuru](/users/pramodpalukuru/2380760) ![Icon for Microsoft rank](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/cmstNC05WEo0blc?image-dimensions=100x16&amp;constrain-image=true)Microsoft\n\nJoined March 22, 2024\n\n[View Profile](/users/pramodpalukuru/2380760)\n\n/category/azure/blog/azurenetworkingblog [Azure Networking Blog](/category/azure/blog/azurenetworkingblog) Follow this blog board to get notified when there's new activity",
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure",
  "Author": "PramodPalukuru",
  "Tags": [],
  "Title": "Deploying Third-Party Firewalls in Azure Landing Zones: Design, Configuration, and Best Practices",
  "FeedName": "Microsoft Tech Community",
  "PubDate": "2025-11-05T06:11:28+00:00",
  "ProcessedDate": "2025-11-05 07:04:27",
  "Link": "https://techcommunity.microsoft.com/t5/azure-networking-blog/deploying-third-party-firewalls-in-azure-landing-zones-design/ba-p/4458972",
  "OutputDir": "_community",
  "Description": "As enterprises adopt Microsoft Azure for large-scale workloads, securing network traffic becomes a critical part of the platform foundation. Azure’s [**Well-Architected Framework**](https://learn.microsoft.com/en-us/azure/well-architected/) provides the blueprint for enterprise-scale **Landing Zone** design and deployments, and while **[Azure Firewall](https://learn.microsoft.com/en-us/azure/firewall/overview)** is a built-in PaaS option, some organizations prefer **third-party firewall appliances** for familiarity, feature depth, and vendor alignment.\n\nThis blog explains the **basic design patterns**, **key configurations**, and **best practices** when deploying third-party firewalls (Palo Alto, Fortinet, Check Point, etc.) as part of an Azure Landing Zone.\n\n## 1. Landing Zone Architecture and Firewall Role\n\nThe **Azure Landing Zone** is Microsoft’s recommended enterprise-scale architecture for adopting cloud at scale. It provides a standardized, modular design that organizations can use to deploy and govern workloads consistently across subscriptions and regions.\n\nAt its core, the Landing Zone follows a [**hub-and-spoke** **topology**](https://learn.microsoft.com/en-us/azure/architecture/networking/architecture/hub-spoke)**:**\n\n- **Hub (Connectivity Subscription):**\n- Central place for shared services like **DNS, private endpoints, VPN/ExpressRoute gateways, Azure Firewall (or third-party firewall appliances), Bastion, and monitoring agents**.\n- Provides consistent security controls and connectivity for all workloads.\n- Firewalls are deployed here to act as the **traffic inspection and enforcement point**.\n- **Spokes (Workload Subscriptions):**\n- Application workloads (e.g., SAP, web apps, data platforms) are placed in spoke VNets.\n- Additional specialized spokes may exist for **Identity**, **Shared Services**, **Security**, or **Management**.\n- These are isolated for governance and compliance, but all connectivity back to other workloads or on-premises routes through the hub.\n\n#### Traffic Flows Through Firewalls\n\n- **North-South Traffic:**\n- Inbound connections from the Internet (e.g., customer access to applications).\n- Outbound connections from Azure workloads to Internet services.\n- Hybrid connectivity to on-premises datacenters or other clouds.\n- Routed through the **external firewall set** for inspection and policy enforcement.\n- **East-West Traffic:**\n- Lateral traffic between spokes (e.g., Application VNet to Database VNet).\n- Communication across environments like Dev → Test → Prod (if allowed).\n- Routed through an **internal firewall set** to apply segmentation, zero-trust principles, and prevent lateral movement of threats.\n\n#### Why Firewalls Matter in the Landing Zone\n\nWhile Azure provides **NSGs (Network Security Groups)** and **Route Tables** for basic packet filtering and routing, these are not sufficient for advanced security scenarios. Firewalls add:\n\n- **Deep packet inspection (DPI)** and **application-level filtering**.\n- **Intrusion Detection/Prevention (IDS/IPS)** capabilities.\n- **Centralized policy management** across multiple spokes.\n- **Segmentation of workloads** to reduce blast radius of potential attacks.\n- **Consistent enforcement** of enterprise security baselines across hybrid and multi-cloud.\n\n#### Organizations May Choose\n\nDepending on **security needs, cost tolerance, and operational complexity**, organizations typically adopt one of two models for third party firewalls:\n\n1. **Two sets of firewalls**\n- One set dedicated for **north-south traffic** (external to Azure).\n- Another set for **east-west traffic** (between VNets and spokes).\n- Provides the **highest security granularity**, but comes with higher cost and management overhead.\n2. **Single set of firewalls**\n- A consolidated deployment where **the same firewall cluster handles both east-west and north-south traffic**.\n- Simpler and more cost-effective, but may introduce complexity in routing and policy segregation.\n\nThis design choice is usually made during Landing Zone design, balancing **security requirements, budget, and operational maturity**.\n\n## 2. Why Choose Third-Party Firewalls Over Azure Firewall?\n\nWhile **[Azure](https://learn.microsoft.com/en-us/azure/firewall/overview)**[Firewall](https://learn.microsoft.com/en-us/azure/firewall/overview) provides simplicity as a managed service, customers often choose third-party solutions due to:\n\n- **Advanced features** – Deep packet inspection, IDS/IPS, SSL decryption, threat feeds.\n- **Vendor familiarity** – Network teams trained on Palo Alto, Fortinet, or Check Point.\n- **Existing contracts** – Enterprise license agreements and support channels.\n- **Hybrid alignment** – Same vendor firewalls across on-premises and Azure.\n\nAzure Firewall is a **fully managed PaaS service**, ideal for customers who want a simple, cloud-native solution without worrying about underlying infrastructure. However, many enterprises continue to choose **third-party firewall appliances** (Palo Alto, Fortinet, Check Point, etc.) when implementing their Landing Zones. The decision usually depends on **capabilities, familiarity, and enterprise strategy**.\n\n#### Key Reasons to Choose Third-Party Firewalls\n\n1. **Feature Depth and Advanced Security**\n- Third-party vendors offer advanced capabilities such as:\n- **Deep Packet Inspection (DPI)** for application-aware filtering.\n- **Intrusion Detection and Prevention (IDS/IPS)**.\n- **SSL/TLS decryption and inspection**.\n- **Advanced threat feeds, malware protection, sandboxing, and botnet detection**.\n- While Azure Firewall continues to evolve, these vendors have a longer track record in advanced threat protection.\n2. **Operational Familiarity and Skills**\n- Network and security teams often have years of experience managing Palo Alto, Fortinet, or Check Point appliances on-premises.\n- Adopting the same technology in Azure reduces the learning curve and ensures **faster troubleshooting, smoother operations, and reuse of existing playbooks**.\n3. **Integration with Existing Security Ecosystem**\n- Many organizations already use vendor-specific **management platforms** (e.g., **Panorama** for Palo Alto, **FortiManager** for Fortinet, or **SmartConsole** for Check Point).\n- Extending the same tools into Azure allows **centralized management** of policies across on-premises and cloud, ensuring consistent enforcement.\n4. **Compliance and Regulatory Requirements**\n- Certain industries (finance, healthcare, government) require **proven, certified firewall vendors** for security compliance.\n- Customers may already have third-party solutions validated by auditors and prefer extending those to Azure for consistency.\n5. **Hybrid and Multi-Cloud Alignment**\n- Many enterprises run a **hybrid model**, with workloads split across on-premises, Azure, AWS, or GCP.\n- Third-party firewalls provide a **common security layer across environments**, simplifying multi-cloud operations and governance.\n6. **Customization and Flexibility**\n- Unlike Azure Firewall, which is a managed service with limited backend visibility, third-party firewalls give admins **full control over operating systems, patching, advanced routing, and custom integrations**.\n- This flexibility can be essential when supporting complex or non-standard workloads.\n7. **Licensing Leverage (BYOL)**\n- Enterprises with existing enterprise agreements or volume discounts can **bring their own firewall licenses (BYOL)** to Azure.\n- This often reduces cost compared to pay-as-you-go Azure Firewall pricing.\n\n#### When Azure Firewall Might Still Be Enough\n\n- Organizations with **simple security needs** (basic north-south inspection, FQDN filtering).\n- **Cloud-first teams** that prefer managed services with minimal infrastructure overhead.\n- Customers who want to avoid **manual scaling and VM patching** that comes with IaaS appliances.\n\nIn practice, many large organizations use a **hybrid approach**: Azure Firewall for lightweight scenarios or specific environments, and third-party firewalls for enterprise workloads that require **advanced inspection, vendor alignment, and compliance certifications**.\n\n## 3. Deployment Models in Azure\n\nThird-party firewalls in Azure are primarily **IaaS-based appliances** deployed as virtual machines (VMs). Leading vendors publish **Azure Marketplace images** and **ARM/Bicep templates**, enabling rapid, repeatable deployments across multiple environments. These firewalls allow organizations to enforce advanced network security policies, perform deep packet inspection, and integrate with Azure-native services such as Virtual Network (VNet) peering, Azure Monitor, and Azure Sentinel.\n\n**Note:** Some vendors now also release **PaaS versions** of their firewalls, offering managed firewall services with simplified operations. However, for the purposes of this blog, we will focus mainly on **IaaS-based firewall deployments**.\n\n#### Common Deployment Modes\n\n1. **Active-Active**\n- **Description:** In this mode, multiple firewall VMs operate simultaneously, sharing the traffic load. An **Azure Load Balancer** distributes inbound and outbound traffic across all active firewall instances.\n- **Use Cases:** Ideal for environments requiring **high throughput**, **resilience**, and **near-zero downtime**, such as enterprise data centers, multi-region deployments, or mission-critical applications.\n- **Considerations:**\n- Requires careful **route and policy synchronization** between firewall instances to ensure consistent traffic handling.\n- Typically involves **BGP or user-defined routes** (UDRs) for optimal traffic steering.\n- Scaling is easier: additional firewall VMs can be added behind the load balancer to handle traffic spikes.\n\n1. **Active-Passive**\n- **Description:** One firewall VM handles all traffic (**active**), while the secondary VM (**passive**) stands by for failover. When the active node fails, Azure service principals manage IP reassignment and traffic rerouting.\n- **Use Cases:** Suitable for environments where **simpler management** and **lower operational complexity** are preferred over continuous load balancing.\n- **Considerations:**\n- Failover may result in a **brief downtime**, typically measured in seconds to a few minutes.\n- Synchronization between the active and passive nodes ensures firewall **policies, sessions, and configurations** are mirrored.\n- Recommended for smaller deployments or those with predictable traffic patterns.\n\n#### Network Interfaces (NICs)\n\nThird-party firewall VMs often include **multiple NICs**, each dedicated to a specific type of traffic:\n\n1. **Untrust/Public NIC:** Connects to the Internet or external networks. Handles inbound/outbound public traffic and enforces perimeter security policies.\n2. **Trust/Internal NIC:** Connects to private VNets or subnets. Manages internal traffic between application tiers and enforces internal segmentation.\n3. **Management NIC:** Dedicated to firewall management traffic. Keeps administration separate from data plane traffic, improving security and reducing performance interference.\n4. **HA NIC (Active-Passive setups):** Facilitates synchronization between active and passive firewall nodes, ensuring session and configuration state is maintained across failovers.\n\nThis design choice is usually made during Landing Zone design, balancing **security requirements, budget, and operational maturity**.\n\n![]()**Figure 1**: NICs of Palo Alto External Firewalls and FortiGate Internal Firewalls in two sets of firewall scenario\n\n## 4. Key Configuration Considerations\n\nWhen deploying third-party firewalls in Azure, several design and configuration elements play a critical role in ensuring **security, performance, and high availability**. These considerations should be carefully aligned with organizational security policies, compliance requirements, and operational practices.\n\n#### Routing\n\n- **User-Defined Routes (UDRs):**\n- Define UDRs in **spoke Virtual Networks** to ensure all outbound traffic flows through the firewall, enforcing inspection and security policies before reaching the Internet or other Virtual Networks.\n- Centralized routing helps standardize controls across multiple application Virtual Networks.\n- Depending on the architecture traffic flow design, use appropriate Load Balancer IP as the Next Hop on UDRs of spoke Virtual Networks.\n- **Symmetric Routing:**\n- Ensure traffic follows symmetric paths (i.e., outbound and inbound flows pass through the same firewall instance).\n- Avoid **asymmetric routing**, which can cause stateful firewalls to drop return traffic.\n- Leverage **BGP with Azure Route Server** where supported, to simplify route propagation across hub-and-spoke topologies.\n\n![]() **Figure 2**: Azure UDR directing all traffic from a Spoke VNET to the Firewall IP Address\n\n#### Policies\n\n- **NAT Rules:**\n- Configure **DNAT** (Destination NAT) rules to publish applications securely to the Internet.\n- Use **SNAT** (Source NAT) to mask private IPs when workloads access external resources.\n- **Security Rules:**\n- Define granular **allow/deny rules** for both **north-south traffic** (Internet to VNet) and **east-west traffic** (between Virtual Networks or subnets).\n- Ensure least privilege by only allowing required ports, protocols, and destinations.\n- **Segmentation:**\n- Apply firewall policies to separate **workloads, environments, and tenants** (e.g., Production vs. Development).\n- Enforce compliance by isolating workloads subject to **regulatory standards** (PCI-DSS, HIPAA, GDPR).\n- **Application-Aware Policies:**\n- Many vendors support Layer 7 inspection, enabling controls based on **applications, users, and content** (not just IP/port).\n- Integrate with **identity providers (Azure AD, LDAP, etc.)** for user-based firewall rules.\n\n![]() **Figure 3**: Example Configuration of NAT Rules on a Palo Alto External Firewall\n\n#### Load Balancers\n\n- **Internal Load Balancer (ILB):**\n- Use ILBs for **east-west traffic** inspection between Virtual Networks or subnets.\n- Ensures that traffic between applications always passes through the firewall, regardless of origin.\n- **External Load Balancer (ELB):**\n- Use ELBs for **north-south traffic**, handling Internet ingress and egress.\n- Required in **Active-Active firewall clusters** to distribute traffic evenly across firewall nodes.\n- **Other Configurations:**\n- Configure health probes for firewall instances to ensure faulty nodes are automatically bypassed.\n- Validate Floating IP configuration on Load Balancing Rules according to the respective vendor recommendations.\n\n#### Identity Integration\n\n- **Azure Service Principals:**\n- In **Active-Passive deployments**, configure service principals to enable automated **IP reassignment** during failover.\n- This ensures continuous service availability without manual intervention.\n- **Role-Based Access Control (RBAC):**\n- Integrate firewall management with **Azure RBAC** to control who can deploy, manage, or modify firewall configurations.\n- **SIEM Integration:**\n- Stream logs to **Azure Monitor, Sentinel, or third-party SIEMs** for auditing, monitoring, and incident response.\n\n#### Licensing\n\n- **Pay-As-You-Go (PAYG):**\n- Licenses are bundled into the VM cost when deploying from the **Azure Marketplace**.\n- Best for **short-term projects, PoCs, or variable workloads**.\n- **Bring Your Own License (BYOL):**\n- Enterprises can apply existing contracts and licenses with vendors to Azure deployments.\n- Often more **cost-effective for large-scale, long-term** deployments.\n- **Hybrid Licensing Models:**\n- Some vendors support **license mobility** from on-premises to Azure, reducing duplication of costs.\n\n## 5. Common Challenges\n\nThird-party firewalls in Azure provide strong security controls, but organizations often face practical challenges in day-to-day operations:\n\n- **Misconfiguration**\n- Incorrect **UDRs, route tables, or NAT rules** can cause dropped traffic or bypassed inspection.\n- **Asymmetric routing** is a frequent issue in hub-and-spoke topologies, leading to session drops in stateful firewalls.\n- **Performance Bottlenecks**\n- Firewall throughput depends on the **VM SKU (CPU, memory, NIC limits)**.\n- Under-sizing causes latency and packet loss, while over-sizing adds unnecessary cost.\n- Continuous monitoring and vendor sizing guides are essential.\n- **Failover Downtime**\n- **Active-Passive models** introduce brief service interruptions while IPs and routes are reassigned.\n- Some sessions may be lost even with state sync, making Active-Active more attractive for mission-critical workloads.\n- **Backup & Recovery**\n- Azure Backup doesn’t support vendor firewall OS.\n- Configurations must be **exported and stored externally** (e.g., storage accounts, repos, or vendor management tools).\n- Without proper backups, recovery from failures or misconfigurations can be slow.\n- **Azure Platform Limits on Connections**\n- Azure imposes a **per-VM cap of 250,000 active connections**, regardless of what the firewall vendor appliance supports.\n- This means even if an appliance is designed for millions of sessions, it will be constrained by Azure’s networking fabric.\n- Hitting this cap can lead to unexplained traffic drops despite available CPU/memory.\n- The workaround is to **scale out horizontally** (multiple firewall VMs behind a load balancer) and carefully monitor connection distribution.\n\n## 6. Best Practices for Third-Party Firewall Deployments\n\nTo maximize security, reliability, and performance of third-party firewalls in Azure, organizations should follow these best practices:\n\n- **Deploy in Availability Zones:**\nPlace firewall instances across **different Availability Zones** to ensure regional resilience and minimize downtime in case of zone-level failures.\n- **Prefer Active-Active for Critical Workloads:**\nWhere **zero downtime** is a requirement, use Active-Active clusters behind an Azure Load Balancer. Active-Passive can be simpler but introduces failover delays.\n- **Use Dedicated Subnets for Interfaces:**\nSeparate **trust, untrust, HA, and management NICs** into their own subnets. This enforces segmentation, simplifies route management, and reduces misconfiguration risk.\n- **Apply Least Privilege Policies:**\nAlways start with a **deny-all baseline**, then allow only necessary applications, ports, and protocols. Regularly review rules to avoid policy sprawl.\n- **Standardize Naming & Tagging:**\nAdopt consistent **naming conventions and resource tags** for firewalls, subnets, route tables, and policies. This aids troubleshooting, automation, and compliance reporting.\n- **Validate End-to-End Traffic Flows:**\nTest both **north-south (Internet ↔ VNet)** and **east-west (VNet ↔ VNet/subnet)** flows after deployment. Use tools like **Azure Network Watcher** and vendor traffic logs to confirm inspection.\n- **Plan for Scalability:**\nMonitor **throughput, CPU, memory, and session counts** to anticipate when scale-out or higher VM SKUs are needed. Some vendors support **autoscaling clusters** for bursty workloads.\n- **Maintain Firmware & Threat Signatures:**\nRegularly update the firewall’s **software, patches, and threat intelligence feeds** to ensure protection against emerging vulnerabilities and attacks. Automate updates where possible.\n\n## Conclusion\n\nThird-party firewalls remain a core building block in many enterprise Azure Landing Zones. They provide the deep security controls and operational familiarity enterprises need, while Azure provides the scalable infrastructure to host them.\n\nBy following the **hub-and-spoke architecture**, carefully planning **deployment models**, and enforcing **best practices for routing, redundancy, monitoring, and backup**, organizations can ensure a secure and reliable network foundation in Azure."
}
