{
  "Link": "https://techcommunity.microsoft.com/t5/azure-networking/azure-traffic-to-storage-account/m-p/4459831#M704",
  "OutputDir": "_community",
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure",
  "Tags": [],
  "FeedName": "Microsoft Tech Community",
  "Author": "Mohsenhs",
  "Title": "Azure traffic to storage account",
  "EnhancedContent": "Hello,\n\nI’ve set up a storage account in **Tenant A**, located in the **AUEast** region, with public access. I also created a VM in **Tenant B**, in the same region (AUEast). I’m able to use IP whitelisting on the storage account in Tenant A to allow traffic only from the VM in Tenant B. However, in the App Insights logs, the traffic appears as 10.X.X.X, likely because the VM is in the same region. I'm unsure why the public IP isn't reflected in the logs.\n\nMoreover, I am not sure about this part\n\n- https://learn.microsoft.com/en-us/azure/storage/common/storage-network-security-limitations#:~:text=You%20can%27t%20use%20IP%20network%20rules%20to%20restrict%20access%20to%20clients%20in%20the%20same%20Azure%20region%20as%20the%20storage%20account.%20IP%20network%20rules%20have%20no%20effect%20on%20requests%20that%20originate%20from%20the%20same%20Azure%20region%20as%20the%20storage%20account.%20Use%20Virtual%20network%20rules%20to%20allow%20same%2Dregion%20requests.\n\nThis seems contradictory, as IP whitelisting is working on the storage account. I assume the explanation above applies only when the client is hosted in the **same tenant and region** as the storage account, and not when the client is in a **different tenant**, even if it's in the same region.\n\nI’d appreciate it if someone could shed some light on this.\n\nThanks,\n\nMohsen",
  "Description": "Hello,\n\nI’ve set up a storage account in **Tenant A**, located in the **AUEast** region, with public access. I also created a VM in **Tenant B**, in the same region (AUEast). I’m able to use IP whitelisting on the storage account in Tenant A to allow traffic only from the VM in Tenant B. However, in the App Insights logs, the traffic appears as 10.X.X.X, likely because the VM is in the same region. I'm unsure why the public IP isn't reflected in the logs.\n\nMoreover, I am not sure about this part\n\n- [You can't use IP network rules to restrict access to clients in the same Azure region as the storage account. IP network rules have no effect on requests that originate from the same Azure region as the storage account. Use Virtual network rules to allow same-region requests.](https://learn.microsoft.com/en-us/azure/storage/common/storage-network-security-limitations#:~:text=You%20can%27t%20use%20IP%20network%20rules%20to%20restrict%20access%20to%20clients%20in%20the%20same%20Azure%20region%20as%20the%20storage%20account.%20IP%20network%20rules%20have%20no%20effect%20on%20requests%20that%20originate%20from%20the%20same%20Azure%20region%20as%20the%20storage%20account.%20Use%20Virtual%20network%20rules%20to%20allow%20same%2Dregion%20requests.)\n\nThis seems contradictory, as IP whitelisting is working on the storage account. I assume the explanation above applies only when the client is hosted in the **same tenant and region** as the storage account, and not when the client is in a **different tenant**, even if it's in the same region.\n\nI’d appreciate it if someone could shed some light on this.\n\nThanks,\n\nMohsen",
  "ProcessedDate": "2025-10-09 00:09:01",
  "FeedLevelAuthor": "rss.livelink.threads-in-node",
  "PubDate": "2025-10-08T05:37:00+00:00"
}
