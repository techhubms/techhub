{
  "FeedName": "Microsoft Tech Community",
  "PubDate": "2025-12-08T16:00:00+00:00",
  "Link": "https://techcommunity.microsoft.com/t5/azure-integration-services-blog/data-mapper-test-executor-a-new-addition-to-logic-apps-standard/ba-p/4472440",
  "EnhancedContent": "## The Data Mapper Test Executor brings first-class support for map testing directly into the Logic Apps Standard Automated Test Framework. This means faster feedback loops, improved reliability, and a more streamlined developer experience.\n\n## Why Does It Matter?\n\nTesting complex data transformations has always been a challenge for Logic Apps developers. With workflows relying on XSLT, Liquid templates, and custom maps, validating these transformations often required manual steps or external tools. The **Data Mapper Test Executor** changes that by bringing **first-class support for map testing directly into the Logic Apps Standard Automated Test Framework**. This means faster feedback loops, improved reliability, and a more streamlined developer experience.\n\n## Key Highlights\n\n- **Native Support for Data Mapper Testing**\nExecute unit tests for XSLT 1.0/2.0/3.0 and Logic Apps Data Mapper (.lml) files without leaving your development environment.\n- **Integrated with Automated Test Framework SDK**\nLeverages the latest SDK capabilities for consistent test execution and reporting.\n- **Enhanced Validation**\nSupports schema validation and transformation checks, ensuring your maps behave as expected across scenarios.\n- **Performance Optimizations**\nBuilt-in caching and resource management for efficient test runs.\n\n## How to Get Started\n\n- **Install and reference the Latest Automated Test Framework SDK**\nMake sure you’re referencing the version 1.0.1 or higher of the framework to access the new executor class. [You can find the latest version in the NuGet gallery.](https://www.nuget.org/packages/Microsoft.Azure.Workflows.WebJobs.Tests.Extension)\n\n``` <PackageReference Include=\"Microsoft.Azure.Workflows.WebJobs.Tests.Extension\" Version=\"1.0.1\" /> ```\n\n- **Add the Data Mapper Test Executor to Your Test Project**\nInclude the new class in your unit test suite for Logic Apps workflows.\n- **Write Your First Test**\n\nCheck the sample code below with three different methods, highlighting the options that can be used with the DataMapTestExecutor\n\n``` using System.Collections.Generic; using System.Threading.Tasks; using Microsoft.Azure.Workflows.UnitTesting.Definitions; using Microsoft.VisualStudio.TestTools.UnitTesting; using la1.Tests.Mocks.Stateful1; using Microsoft.Azure.Workflows.UnitTesting; using System.IO; using System.Text; using Microsoft.Azure.Workflows.Data.Entities; using Newtonsoft.Json.Linq;\n\nnamespace la1.Tests { /// <summary> /// The unit test class. /// </summary> [TestClass] public class DataMapTest { /// <summary> /// The map to test. /// </summary> public const string MapName = \"source_order_to_canonical_order\";\n\npublic string PathToMapDefinition { get; private set; }\n\npublic string PathToCompiledXslt { get; private set; }\n\npublic string PathToXsltTestInputs { get; private set; }\n\n/// <summary> /// The data map test executor. /// </summary> public TestExecutor TestExecutor;\n\n[TestInitialize] public void Setup() { this.TestExecutor = new TestExecutor(\"Stateful1/testSettings.config\"); this.PathToMapDefinition = Path.Combine(this.TestExecutor.rootDirectory, this.TestExecutor.logicAppName, \"Artifacts\", \"MapDefinitions\", $\"{DataMapTest.MapName}.lml\"); this.PathToCompiledXslt = Path.Combine(this.TestExecutor.rootDirectory, this.TestExecutor.logicAppName, \"Artifacts\", \"Maps\", $\"{DataMapTest.MapName}.xslt\"); this.PathToXsltTestInputs = Path.Combine(this.TestExecutor.rootDirectory, \"Tests\", \"la1\", \"Stateful1\", \"DataMapTest\", \"test-input.json\"); }\n\n/// <summary> /// Sample comparing compiled XSLT to generated XSLT using map name. /// </summary> [TestMethod] public async Task DataMapTest_GenerateXslt() { var dataMapTestExecutor = this.TestExecutor.CreateMapExecutor(); var xsltBytes = await dataMapTestExecutor .GenerateXslt(mapName: DataMapTest.MapName) .ConfigureAwait(continueOnCapturedContext: false);\n\nAssert.IsNotNull(xsltBytes); Assert.AreEqual(expected: File.ReadAllText(this.PathToCompiledXslt), actual: Encoding.UTF8.GetString(xsltBytes)); }\n\n/// <summary> /// Sample comparing compiled XSLT to generated XSLT using map content. /// </summary> [TestMethod] public async Task DataMapTest_GenerateXsltWithMapContent() { var mapContent = File.ReadAllText(this.PathToMapDefinition); var generateXsltInput = new GenerateXsltInput { MapContent = mapContent };\n\nvar dataMapTestExecutor = this.TestExecutor.CreateMapExecutor();\n\nvar xsltBytes = await dataMapTestExecutor .GenerateXslt(generateXsltInput: generateXsltInput) .ConfigureAwait(continueOnCapturedContext: false);\n\nAssert.IsNotNull(xsltBytes); Assert.AreEqual(expected: File.ReadAllText(this.PathToCompiledXslt), actual: Encoding.UTF8.GetString(xsltBytes)); }\n\n/// <summary> /// Sample running data map using map name and test inputs. /// </summary> [TestMethod] public async Task DataMapTest_RunMap() { var dataMapTestExecutor = this.TestExecutor.CreateMapExecutor();\n\nvar mapOutput = await dataMapTestExecutor .RunMapAsync( mapName: DataMapTest.MapName, inputContent: File.ReadAllBytes(this.PathToXsltTestInputs)) .ConfigureAwait(continueOnCapturedContext: false);\n\nAssert.IsNotNull(mapOutput); Assert.IsTrue(mapOutput.Type == JTokenType.Object); Assert.AreEqual(expected: \"FC-20250603-001\", actual: mapOutput[\"orderId\"]); Assert.AreEqual(expected: \"VIP-789456\", actual: mapOutput[\"customerId\"]); Assert.AreEqual(expected: \"NEW\", actual: mapOutput[\"status\"]); }\n\n/// <summary> /// Sample running data map using generated XSLT content and test inputs. /// </summary> [TestMethod] public async Task DataMapTest_RunMapWithXsltContentBytes() { var dataMapTestExecutor = this.TestExecutor.CreateMapExecutor();\n\nvar mapContent = File.ReadAllText(this.PathToMapDefinition); var generateXsltInput = new GenerateXsltInput { MapContent = mapContent }; var xsltContent = await dataMapTestExecutor .GenerateXslt(generateXsltInput: generateXsltInput) .ConfigureAwait(continueOnCapturedContext: false);\n\nvar mapOutput = await dataMapTestExecutor .RunMapAsync( xsltContent: xsltContent, inputContent: File.ReadAllBytes(this.PathToXsltTestInputs)) .ConfigureAwait(continueOnCapturedContext: false);\n\nAssert.IsNotNull(mapOutput); Assert.IsTrue(mapOutput.Type == JTokenType.Object); Assert.AreEqual(expected: \"FC-20250603-001\", actual: mapOutput[\"orderId\"]); Assert.AreEqual(expected: \"VIP-789456\", actual: mapOutput[\"customerId\"]); Assert.AreEqual(expected: \"NEW\", actual: mapOutput[\"status\"]); } } } ```\n\nThe default TestExecutor should be updated with a new method, so you can use the same class to create UnitTestExecutor and DataMapTestExecutor instances:\n\n``` public DataMapTestExecutor CreateMapExecutor() { // Set the path for workflow-related input files in the workspace and build the full paths to the required JSON files. var appDirectoryPath = Path.Combine(this.rootDirectory, this.logicAppName);\n\nreturn new DataMapTestExecutor(appDirectoryPath: appDirectoryPath); } ```\n\n> >\n> **Note:** This feature is available starting with the latest SDK release. Update your dependencies before making changes to your code, to get full intelisense support.\n> >\n\n## Limitations\n\n- **Loop Structures**: Dynamic execution within repeating structures is not yet supported.\n- **Non-Mocked Connectors**: All actions in the execution path should be mocked.\n- **Unsupported Actions**: Integration Account maps, custom code actions, and EDI encode/decode remain out of scope for this release.\n- **Preview Caveats**: If you’re using private preview components, expect limited testing compared to GA releases.\n\n## Learn More\n\n- [Logic Apps Standard Automated Test Framework SDK](https://learn.microsoft.com/en-us/azure/logic-apps/testing-framework/automated-test-sdk)\n\nUpdated Dec 07, 2025\n\nVersion 1.0\n\n[enterprise integration](/tag/enterprise%20integration?nodeId=board%3AIntegrationsonAzureBlog)\n\n[logic apps](/tag/logic%20apps?nodeId=board%3AIntegrationsonAzureBlog)\n\n[logic apps standard](/tag/logic%20apps%20standard?nodeId=board%3AIntegrationsonAzureBlog)\n\n[xml](/tag/xml?nodeId=board%3AIntegrationsonAzureBlog)\n\n[xsl transform](/tag/xsl%20transform?nodeId=board%3AIntegrationsonAzureBlog)\n\n[xslt](/tag/xslt?nodeId=board%3AIntegrationsonAzureBlog)\n\n[!\\[WSilveira&#x27;s avatar\\](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/dS0xMjk2NjE3LTM1MzU5NGk5NUZFMkY1QTkwQUZFNzRF?image-dimensions=50x50)](/users/wsilveira/1296617) [WSilveira](/users/wsilveira/1296617) ![Icon for Microsoft rank](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/cmstNC05WEo0blc?image-dimensions=100x16&amp;constrain-image=true)Microsoft\n\nJoined February 03, 2022\n\n[View Profile](/users/wsilveira/1296617)\n\n/category/azure/blog/integrationsonazureblog [Azure Integration Services Blog](/category/azure/blog/integrationsonazureblog) Follow this blog board to get notified when there's new activity",
  "FeedLevelAuthor": "rss.livelink.threads-in-node",
  "Title": "Data Mapper Test Executor: A New Addition to Logic Apps Standard Test Framework",
  "OutputDir": "_community",
  "Tags": [],
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure",
  "Description": "## Why Does It Matter?\n\nTesting complex data transformations has always been a challenge for Logic Apps developers. With workflows relying on XSLT, Liquid templates, and custom maps, validating these transformations often required manual steps or external tools. The **Data Mapper Test Executor** changes that by bringing **first-class support for map testing directly into the Logic Apps Standard Automated Test Framework**. This means faster feedback loops, improved reliability, and a more streamlined developer experience.\n\n## Key Highlights\n\n- **Native Support for Data Mapper Testing**\nExecute unit tests for XSLT 1.0/2.0/3.0 and Logic Apps Data Mapper (.lml) files without leaving your development environment.\n- **Integrated with Automated Test Framework SDK**\nLeverages the latest SDK capabilities for consistent test execution and reporting.\n- **Enhanced Validation**\nSupports schema validation and transformation checks, ensuring your maps behave as expected across scenarios.\n- **Performance Optimizations**\nBuilt-in caching and resource management for efficient test runs.\n\n## How to Get Started\n\n- **Install and reference the Latest Automated Test Framework SDK**\nMake sure you’re referencing the version 1.0.1 or higher of the framework to access the new executor class. [You can find the latest version in the NuGet gallery.](https://www.nuget.org/packages/Microsoft.Azure.Workflows.WebJobs.Tests.Extension)\n\n- - **Add the Data Mapper Test Executor to Your Test Project**\nInclude the new class in your unit test suite for Logic Apps workflows.\n- **Write Your First Test**\n\nCheck the sample code below with three different methods, highlighting the options that can be used with the DataMapTestExecutor\n- using System.Collections.Generic;\nusing System.Threading.Tasks; using Microsoft.Azure.Workflows.UnitTesting.Definitions; using Microsoft.VisualStudio.TestTools.UnitTesting; using la1.Tests.Mocks.Stateful1; using Microsoft.Azure.Workflows.UnitTesting; using System.IO; using System.Text; using Microsoft.Azure.Workflows.Data.Entities; using Newtonsoft.Json.Linq;\n\nnamespace la1.Tests { /// /// The unit test class. /// [TestClass] public class DataMapTest { /// /// The map to test. /// public const string MapName = \"source\\_order\\_to\\_canonical\\_order\";\n\npublic string PathToMapDefinition { get; private set; }\n\npublic string PathToCompiledXslt { get; private set; }\n\npublic string PathToXsltTestInputs { get; private set; }\n\n/// /// The data map test executor. /// public TestExecutor TestExecutor;\n\n[TestInitialize] public void Setup() { this.TestExecutor = new TestExecutor(\"Stateful1/testSettings.config\"); this.PathToMapDefinition = Path.Combine(this.TestExecutor.rootDirectory, this.TestExecutor.logicAppName, \"Artifacts\", \"MapDefinitions\", $\"{DataMapTest.MapName}.lml\"); this.PathToCompiledXslt = Path.Combine(this.TestExecutor.rootDirectory, this.TestExecutor.logicAppName, \"Artifacts\", \"Maps\", $\"{DataMapTest.MapName}.xslt\"); this.PathToXsltTestInputs = Path.Combine(this.TestExecutor.rootDirectory, \"Tests\", \"la1\", \"Stateful1\", \"DataMapTest\", \"test-input.json\"); }\n\n/// /// Sample comparing compiled XSLT to generated XSLT using map name. /// [TestMethod] public async Task DataMapTest\\_GenerateXslt() { var dataMapTestExecutor = this.TestExecutor.CreateMapExecutor(); var xsltBytes = await dataMapTestExecutor .GenerateXslt(mapName: DataMapTest.MapName) .ConfigureAwait(continueOnCapturedContext: false);\n\nAssert.IsNotNull(xsltBytes); Assert.AreEqual(expected: File.ReadAllText(this.PathToCompiledXslt), actual: Encoding.UTF8.GetString(xsltBytes)); }\n\n/// /// Sample comparing compiled XSLT to generated XSLT using map content. /// [TestMethod] public async Task DataMapTest\\_GenerateXsltWithMapContent() { var mapContent = File.ReadAllText(this.PathToMapDefinition); var generateXsltInput = new GenerateXsltInput { MapContent = mapContent };\n\nvar dataMapTestExecutor = this.TestExecutor.CreateMapExecutor();\n\nvar xsltBytes = await dataMapTestExecutor .GenerateXslt(generateXsltInput: generateXsltInput) .ConfigureAwait(continueOnCapturedContext: false);\n\nAssert.IsNotNull(xsltBytes); Assert.AreEqual(expected: File.ReadAllText(this.PathToCompiledXslt), actual: Encoding.UTF8.GetString(xsltBytes)); }\n\n/// /// Sample running data map using map name and test inputs. /// [TestMethod] public async Task DataMapTest\\_RunMap() { var dataMapTestExecutor = this.TestExecutor.CreateMapExecutor();\n\nvar mapOutput = await dataMapTestExecutor .RunMapAsync( mapName: DataMapTest.MapName, inputContent: File.ReadAllBytes(this.PathToXsltTestInputs)) .ConfigureAwait(continueOnCapturedContext: false);\n\nAssert.IsNotNull(mapOutput); Assert.IsTrue(mapOutput.Type == JTokenType.Object); Assert.AreEqual(expected: \"FC-20250603-001\", actual: mapOutput[\"orderId\"]); Assert.AreEqual(expected: \"VIP-789456\", actual: mapOutput[\"customerId\"]); Assert.AreEqual(expected: \"NEW\", actual: mapOutput[\"status\"]); }\n\n/// /// Sample running data map using generated XSLT content and test inputs. /// [TestMethod] public async Task DataMapTest\\_RunMapWithXsltContentBytes() { var dataMapTestExecutor = this.TestExecutor.CreateMapExecutor();\n\nvar mapContent = File.ReadAllText(this.PathToMapDefinition); var generateXsltInput = new GenerateXsltInput { MapContent = mapContent }; var xsltContent = await dataMapTestExecutor .GenerateXslt(generateXsltInput: generateXsltInput) .ConfigureAwait(continueOnCapturedContext: false);\n\nvar mapOutput = await dataMapTestExecutor .RunMapAsync( xsltContent: xsltContent, inputContent: File.ReadAllBytes(this.PathToXsltTestInputs)) .ConfigureAwait(continueOnCapturedContext: false);\n\nAssert.IsNotNull(mapOutput); Assert.IsTrue(mapOutput.Type == JTokenType.Object); Assert.AreEqual(expected: \"FC-20250603-001\", actual: mapOutput[\"orderId\"]); Assert.AreEqual(expected: \"VIP-789456\", actual: mapOutput[\"customerId\"]); Assert.AreEqual(expected: \"NEW\", actual: mapOutput[\"status\"]); } } }\n\nThe default TestExecutor should be updated with a new method, so you can use the same class to create UnitTestExecutor and DataMapTestExecutor instances:\n- public DataMapTestExecutor CreateMapExecutor()\n{ // Set the path for workflow-related input files in the workspace and build the full paths to the required JSON files. var appDirectoryPath = Path.Combine(this.rootDirectory, this.logicAppName);\n\nreturn new DataMapTestExecutor(appDirectoryPath: appDirectoryPath); }\n\n> >\n> **Note:** This feature is available starting with the latest SDK release. Update your dependencies before making changes to your code, to get full intelisense support.\n> >\n\n## Limitations\n\n- **Loop Structures**: Dynamic execution within repeating structures is not yet supported.\n- **Non-Mocked Connectors**: All actions in the execution path should be mocked.\n- **Unsupported Actions**: Integration Account maps, custom code actions, and EDI encode/decode remain out of scope for this release.\n- **Preview Caveats**: If you’re using private preview components, expect limited testing compared to GA releases.\n\n## Learn More\n\n- [Logic Apps Standard Automated Test Framework SDK](https://learn.microsoft.com/en-us/azure/logic-apps/testing-framework/automated-test-sdk)",
  "Author": "WSilveira",
  "ProcessedDate": "2025-12-08 16:04:49"
}
