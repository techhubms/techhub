{
  "EnhancedContent": "We’re excited to announce the public preview of **r** **esource-scope query** for **Azure Monitor Workspaces (AMWs)**—a major step forward in simplifying observability, improving access control, and aligning with Azure-native experiences.\n\nThis new capability builds on the successful implementation of resource-scope query in **Log Analytics Workspaces (LAWs)**, which transformed how users access logs by aligning them with Azure resource scopes. We’re now bringing the same power and flexibility to **metrics** in AMWs.\n\n# What is resource-scope query?\n\n[Resource-scope query](https://learn.microsoft.com/en-us/azure/azure-monitor/metrics/azure-monitor-workspace-manage-access) has been a frequently requested capability that allows users to query metrics scoped to a specific resource, resource group, or subscription—rather than needing to know which AMW the metrics are stored in. This means:\n\n- **Simpler querying:** users can scope to the context of one or more resources directly, without knowledge of where metrics are stored.\n- **Granular Azure RBAC control:** if the AMW is configured in resource-centric access mode, user permissions are checked against the resources they are querying for, rather than access to the workspace itself - just like how [LAW](https://learn.microsoft.com/en-us/azure/azure-monitor/logs/manage-access?tabs=portal) works today. This supports security best practices for least privileged access requirements.\n\n# Why use resource-centric query?\n\nTraditional AMW querying required users to:\n\n- Know the exact AMW storing their metrics.\n- Have access to the AMW.\n- Navigate away from the resource context to query metrics.\n\nThis created friction for DevOps teams and on-call engineers who do not necessarily know which AMW to query when responding to an alert.\n\nWith resource-centric querying:\n\n- Users can query metrics directly from the **resource’s Metrics blade**.\n- **Least privilege access** is respected—users only need access to the resource(s) they are querying about.\n- Central teams can maintain control of AMWs while empowering app teams to self-monitor.\n\n## How does it work?\n\nAll metrics ingested via **Azure Monitor Agent** are automatically stamped with dimensions like Microsoft.resourceid, Microsoft.subscriptionid, and Microsoft.resourcegroupname to enable this experience. The addition of these dimensions does not have any cost implications to end users.\n\nResource-centric queries use a new endpoint:\n\n| https://query.&lt;region&gt;.prometheus.monitor.azure.com | | --- |\n\nWe will re-route queries as needed from any region, but we recommend choosing the one nearest to your AMWs for the best performance.\n\nUsers can query via:\n\n- **Azure Portal PromQL Editor**\n- **Grafana dashboards** ([with data source configuration](https://learn.microsoft.com/en-us/azure/azure-monitor/metrics/azure-monitor-workspace-manage-access))\n- **Query-based metric alerts**\n- **Azure Monitor solutions like Container Insights and App Insights** (when using OTel metrics with AMW as data source)\n- **Prometheus HTTP APIs**\n\nWhen querying programmatically, users pass an HTTP header:\n\n| x-ms-azure-scoping: &lt;ARM Resource ID&gt; | | --- |\n\nScoping supports a single:\n\n- Individual resource\n- Resource group\n- Subscription\n\nAt this time, scoping is only support at a single-resource level, but comma-separated multi-resource scoping will be added by the end of 2025.\n\n## Who Can Benefit?\n\n- **Application Teams**: Query metrics for their own resources without needing AMW access.\n- **Central Monitoring Teams**: Maintain control of AMWs while enabling secure, scoped access for app teams.\n- **DevOps Engineers**: Respond to alerts and troubleshoot specific resources without needing to locate the AMW(s) storing the metrics they need.\n- **Grafana Users**: Configure dashboards scoped to subscriptions or resource groups with dynamic variables without needing to identify the AMW(s) storing their metrics.\n\n## When Is This Available?\n\n- *Microsoft. dimension stamping*\\* is already complete and ongoing for all AMWs.\n- **Public Preview** of the resource-centric query endpoint begins **October 10th, 2025**.\n- Starting on that date, **all newly created AMWs** will default to **resource-context access mode**.\n\n# What is the AMW “access control mode”?\n\nThe *access control mode* is a setting on each workspace that defines how permissions are determined for the workspace.\n\n- **Require workspace permissions**. This control mode does NOT allow granular resource-level Azure RBAC. To access the workspace, the user must be [granted permissions to the workspace](https://github.com/MicrosoftDocs/azure-monitor-docs-pr/blob/60497e5b1881a15f7b697ed785ddec391c95744f/articles/azure-monitor/metrics/azure-monitor-workspace-manage-access.md#azure-rbac).\n\nWhen a user scopes their query to a [workspace](https://github.com/MicrosoftDocs/azure-monitor-docs-pr/blob/60497e5b1881a15f7b697ed785ddec391c95744f/articles/azure-monitor/metrics/azure-monitor-workspace-manage-access.md#query-scope), workspace permissions apply. When a user scopes their query to a [resource](https://github.com/MicrosoftDocs/azure-monitor-docs-pr/blob/60497e5b1881a15f7b697ed785ddec391c95744f/articles/azure-monitor/metrics/azure-monitor-workspace-manage-access.md#query-scope), both workspace permissions AND resource permissions are verified.\n\nThis setting is the default for all workspaces created before October 2025.\n\n- **Use resource or workspace permissions**. This control mode allows granular Azure RBAC. Users can be granted access to only data associated with resources they can view by assigning Azure read permission.\n\nWhen a user scopes their query to a [workspace](https://github.com/MicrosoftDocs/azure-monitor-docs-pr/blob/60497e5b1881a15f7b697ed785ddec391c95744f/articles/azure-monitor/metrics/azure-monitor-workspace-manage-access.md#query-scope), workspace permissions apply. When a user scopes their query to a [resource](https://github.com/MicrosoftDocs/azure-monitor-docs-pr/blob/60497e5b1881a15f7b697ed785ddec391c95744f/articles/azure-monitor/metrics/azure-monitor-workspace-manage-access.md#query-scope), only resource permissions are verified, and workspace permissions are ignored.\n\nThis setting is the default for all workspaces created after October 2025.\n\nRead about [how to change the control mode for your workspaces here.](https://learn.microsoft.com/en-us/azure/azure-monitor/metrics/azure-monitor-workspace-manage-access)\n\n# Final Thoughts\n\nResource-centric query brings AMWs in line with Azure-native experiences, enabling secure, scalable, and intuitive observability. Whether you’re managing thousands of VMs, deploying AKS clusters, or building custom apps with OpenTelemetry, this feature empowers you to monitor in the context of your workloads or resources rather than needing to first query the AMW(s) and then filter down on what you’re looking for.\n\nTo get started, simply navigate to your resource’s Metrics blade after October 10th, 2025 or configure your Grafana data source to use the new query endpoint.\n\nUpdated Oct 10, 2025\n\nVersion 1.0\n\n[application insights](/tag/application%20insights?nodeId=board%3AAzureObservabilityBlog)\n\n[azure managed grafana](/tag/azure%20managed%20grafana?nodeId=board%3AAzureObservabilityBlog)\n\n[azure monitor](/tag/azure%20monitor?nodeId=board%3AAzureObservabilityBlog)\n\n[azure monitor managed service for prometheus](/tag/azure%20monitor%20managed%20service%20for%20prometheus?nodeId=board%3AAzureObservabilityBlog)\n\n[opentelemetry](/tag/opentelemetry?nodeId=board%3AAzureObservabilityBlog)\n\n[updates](/tag/updates?nodeId=board%3AAzureObservabilityBlog)\n\n[!\\[Tyler_Kight&#x27;s avatar\\](https://techcommunity.microsoft.com/t5/s/gxcuf89792/m_assets/avatars/default/avatar-3.svg?image-dimensions=50x50)](/users/tyler_kight/818335) [Tyler_Kight](/users/tyler_kight/818335) ![Icon for Microsoft rank](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/cmstNC05WEo0blc?image-dimensions=100x16&amp;constrain-image=true)Microsoft\n\nJoined October 02, 2020\n\n[View Profile](/users/tyler_kight/818335)\n\n/category/azure/blog/azureobservabilityblog [Azure Observability Blog](/category/azure/blog/azureobservabilityblog) Follow this blog board to get notified when there's new activity",
  "FeedName": "Microsoft Tech Community",
  "Title": "Announcing resource-scope query for Azure Monitor Workspaces",
  "Author": "Tyler_Kight",
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure",
  "Link": "https://techcommunity.microsoft.com/t5/azure-observability-blog/announcing-resource-scope-query-for-azure-monitor-workspaces/ba-p/4460567",
  "PubDate": "2025-10-10T01:32:21+00:00",
  "Description": "We’re excited to announce the public preview of **r** **esource-scope query** for **Azure Monitor Workspaces (AMWs)**—a major step forward in simplifying observability, improving access control, and aligning with Azure-native experiences.\n\nThis new capability builds on the successful implementation of resource-scope query in **Log Analytics Workspaces (LAWs)**, which transformed how users access logs by aligning them with Azure resource scopes. We’re now bringing the same power and flexibility to **metrics** in AMWs.\n\n# What is resource-scope query?\n\n[Resource-scope query](https://learn.microsoft.com/en-us/azure/azure-monitor/metrics/azure-monitor-workspace-manage-access) has been a frequently requested capability that allows users to query metrics scoped to a specific resource, resource group, or subscription—rather than needing to know which AMW the metrics are stored in. This means:\n\n- **Simpler querying:** users can scope to the context of one or more resources directly, without knowledge of where metrics are stored.\n- **Granular Azure RBAC control:** if the AMW is configured in resource-centric access mode, user permissions are checked against the resources they are querying for, rather than access to the workspace itself - just like how [LAW](https://learn.microsoft.com/en-us/azure/azure-monitor/logs/manage-access?tabs=portal) works today. This supports security best practices for least privileged access requirements.\n\n# Why use resource-centric query?\n\nTraditional AMW querying required users to:\n\n- Know the exact AMW storing their metrics.\n- Have access to the AMW.\n- Navigate away from the resource context to query metrics.\n\nThis created friction for DevOps teams and on-call engineers who do not necessarily know which AMW to query when responding to an alert.\n\nWith resource-centric querying:\n\n- Users can query metrics directly from the **resource’s Metrics blade**.\n- **Least privilege access** is respected—users only need access to the resource(s) they are querying about.\n- Central teams can maintain control of AMWs while empowering app teams to self-monitor.\n\n## How does it work?\n\nAll metrics ingested via **Azure Monitor Agent** are automatically stamped with dimensions like Microsoft.resourceid, Microsoft.subscriptionid, and Microsoft.resourcegroupname to enable this experience. The addition of these dimensions does not have any cost implications to end users.\n\nResource-centric queries use a new endpoint:\n\n| https://query..prometheus.monitor.azure.com | | --- |\n\nWe will re-route queries as needed from any region, but we recommend choosing the one nearest to your AMWs for the best performance.\n\nUsers can query via:\n\n- **Azure Portal PromQL Editor**\n- **Grafana dashboards** ([with data source configuration](https://learn.microsoft.com/en-us/azure/azure-monitor/metrics/azure-monitor-workspace-manage-access))\n- **Query-based metric alerts**\n- **Azure Monitor solutions like Container Insights and App Insights** (when using OTel metrics with AMW as data source)\n- **Prometheus HTTP APIs**\n\nWhen querying programmatically, users pass an HTTP header:\n\n| x-ms-azure-scoping: | | --- |\n\nScoping supports a single:\n\n- Individual resource\n- Resource group\n- Subscription\n\nAt this time, scoping is only support at a single-resource level, but comma-separated multi-resource scoping will be added by the end of 2025.\n\n## Who Can Benefit?\n\n- **Application Teams**: Query metrics for their own resources without needing AMW access.\n- **Central Monitoring Teams**: Maintain control of AMWs while enabling secure, scoped access for app teams.\n- **DevOps Engineers**: Respond to alerts and troubleshoot specific resources without needing to locate the AMW(s) storing the metrics they need.\n- **Grafana Users**: Configure dashboards scoped to subscriptions or resource groups with dynamic variables without needing to identify the AMW(s) storing their metrics.\n\n## When Is This Available?\n\n- *Microsoft. dimension stamping*\\* is already complete and ongoing for all AMWs.\n- **Public Preview** of the resource-centric query endpoint begins **October 10th, 2025**.\n- Starting on that date, **all newly created AMWs** will default to **resource-context access mode**.\n\n# What is the AMW “access control mode”?\n\nThe *access control mode* is a setting on each workspace that defines how permissions are determined for the workspace.\n\n- **Require workspace permissions**. This control mode does NOT allow granular resource-level Azure RBAC. To access the workspace, the user must be [granted permissions to the workspace](https://github.com/MicrosoftDocs/azure-monitor-docs-pr/blob/60497e5b1881a15f7b697ed785ddec391c95744f/articles/azure-monitor/metrics/azure-monitor-workspace-manage-access.md#azure-rbac).\n\nWhen a user scopes their query to a [workspace](https://github.com/MicrosoftDocs/azure-monitor-docs-pr/blob/60497e5b1881a15f7b697ed785ddec391c95744f/articles/azure-monitor/metrics/azure-monitor-workspace-manage-access.md#query-scope), workspace permissions apply. When a user scopes their query to a [resource](https://github.com/MicrosoftDocs/azure-monitor-docs-pr/blob/60497e5b1881a15f7b697ed785ddec391c95744f/articles/azure-monitor/metrics/azure-monitor-workspace-manage-access.md#query-scope), both workspace permissions AND resource permissions are verified.\n\nThis setting is the default for all workspaces created before October 2025.\n\n- **Use resource or workspace permissions**. This control mode allows granular Azure RBAC. Users can be granted access to only data associated with resources they can view by assigning Azure read permission.\n\nWhen a user scopes their query to a [workspace](https://github.com/MicrosoftDocs/azure-monitor-docs-pr/blob/60497e5b1881a15f7b697ed785ddec391c95744f/articles/azure-monitor/metrics/azure-monitor-workspace-manage-access.md#query-scope), workspace permissions apply. When a user scopes their query to a [resource](https://github.com/MicrosoftDocs/azure-monitor-docs-pr/blob/60497e5b1881a15f7b697ed785ddec391c95744f/articles/azure-monitor/metrics/azure-monitor-workspace-manage-access.md#query-scope), only resource permissions are verified, and workspace permissions are ignored.\n\nThis setting is the default for all workspaces created after October 2025.\n\nRead about [how to change the control mode for your workspaces here.](https://learn.microsoft.com/en-us/azure/azure-monitor/metrics/azure-monitor-workspace-manage-access)\n\n# Final Thoughts\n\nResource-centric query brings AMWs in line with Azure-native experiences, enabling secure, scalable, and intuitive observability. Whether you’re managing thousands of VMs, deploying AKS clusters, or building custom apps with OpenTelemetry, this feature empowers you to monitor in the context of your workloads or resources rather than needing to first query the AMW(s) and then filter down on what you’re looking for.\n\nTo get started, simply navigate to your resource’s Metrics blade after October 10th, 2025 or configure your Grafana data source to use the new query endpoint.",
  "ProcessedDate": "2025-10-10 02:28:59",
  "OutputDir": "_community",
  "FeedLevelAuthor": "rss.livelink.threads-in-node",
  "Tags": []
}
