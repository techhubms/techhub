{
  "PubDate": "2025-11-21T18:39:06+00:00",
  "EnhancedContent": "Ever hesitated before hitting **Enter** on a command, wondering what changes it might make? You’re not alone. Whether you’re deploying resources or updating configurations, the fear of unintended consequences can slow you down. That’s why we’re introducing new powerful features in Azure CLI and Azure PowerShell to preview the changes the commands may make: the What if and Export Bicep features.\n\nThese capabilities allow you to preview the impact of your commands and allow you to export them as Bicep templates, all before making any changes to your Azure environment. Think of them as your safety net: you can validate actions, confirm resource changes, and even generate reusable infrastructure-as-code templates with confidence.\n\nCurrently, these features are in **private preview**, and we’re excited to share how you can get early access.\n\n##### **Why This Matters**\n\n- **Reduce risk:** Avoid accidental resource deletions or costly misconfigurations.\n- **Build confidence:** Understand exactly what your command will do before execution.\n- **Accelerate adoption of IaC:** Convert CLI commands into Bicep templates automatically.\n- **Improve productivity:** Validate scripts quickly without trial-and-error deployments.\n\n### **How It Works**\n\n##### **What if preview of commands**\n\nAll you have to do is add the `--what-if` parameter to Azure CLI commands and then the `-DryRun` command to Azure PowerShell commands like below.\n\nAzure CLI:\n\n| ```<br>az storage account create --name \"mystorageaccount\" --resource-group \"myResourceGroup\" --location \"eastus\" --what-if<br>``` | | --- |\n\nAzure PowerShell:\n\n| ```<br>New-AzVirtualNetwork -name MyVNET -ResourceGroupName MyResourceGroup -Location eastus -AddressPrefix \"10.0.0.0/16\" -DryRun<br>``` | | --- |\n\n##### **Exporting commands to Bicep**\n\nTo generate bicep from the command you will have to add the `**--export-bicep**` command with the -**-what-if** parameter to generate a bicep file. The bicep code will be saved under the `~/.azure/whatif` directory on your machine. The command will specific exactly where the file is saved on your machine.\n\nBehind the scenes, **AI translates your CLI command into Bicep code**, creating a reusable template for future deployments. After generating the Bicep file, the CLI automatically runs a **What-If analysis on the Bicep template** to show you the expected changes before applying them.\n\nHere is a video of it in action!\n\nHere is another example where there is delete, modify and create actions happening all together.\n\n## Private Preview Access\n\nThese features are available in **private preview**. To sign up:\n\n1. Visit the [aka.ms/PreviewSignupPSCLI](http://aka.ms/PreviewSignupPSCLI)\n2. Submit your request for access.\n3. Once approved, you’ll receive instructions to download the preview package.\n\n## Supported Commands (Private Preview)\n\nGiven these features are in a preview we have only added support for a small set of commands for the time being. Here’s a list of commands that will support these features during the private preview:\n\n**Azure CLI**\n\n- Az vm create\n- Az vm update\n- az storage account create\n- az storage container create\n- az storage share create\n- az network vnet create\n- az network vnet update\n- az storage account network-rule add\n- az vm disk attach\n- az vm disk detach\n- az vm nic remove\n\n**Azure PowerShell**\n\n- New-AzVM\n- Update-AzVM\n- New-AzStorageAccount\n- New-AzRmStorageShare\n- New-AzRmStorageContainer\n- New-AzVirtualNetwork\n- Set-AzVirtualNetwork\n- Add-AzStorageAccountNetworkRule\n\n## **Next Steps**\n\n- Sign up for the private preview.\n- Install the packages using the upcoming script.\n- Start using --what-if, -DryRun, and --export-bicep to make safer, smarter decisions and accelerate your IaC journey.\n- Give us feedback on what you think of the feature! At [https://aka.ms/PreviewFeedbackWhatIf](https://aka.ms/PreviewFeedbackWhatIf)\n\nThanks so much!\n\nSteven Bucher\n\nPM for Azure Client Tools\n\nPublished Nov 21, 2025\n\nVersion 1.0\n\n[azurecli](/tag/azurecli?nodeId=board%3AAzureToolsBlog)\n\n[get started](/tag/get%20started?nodeId=board%3AAzureToolsBlog)\n\n[learning](/tag/learning?nodeId=board%3AAzureToolsBlog)\n\n[msignite](/tag/msignite?nodeId=board%3AAzureToolsBlog)\n\n[powershell](/tag/powershell?nodeId=board%3AAzureToolsBlog)\n\n[!\\[stevenbucher&#x27;s avatar\\](https://techcommunity.microsoft.com/t5/s/gxcuf89792/m_assets/avatars/default/avatar-1.svg?image-dimensions=50x50)](/users/stevenbucher/1481362) [stevenbucher](/users/stevenbucher/1481362) ![Icon for Microsoft rank](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/cmstNC05WEo0blc?image-dimensions=100x16&amp;constrain-image=true)Microsoft\n\nJoined August 09, 2022\n\n[View Profile](/users/stevenbucher/1481362)\n\n/category/azure/blog/azuretoolsblog [Azure Tools Blog](/category/azure/blog/azuretoolsblog) Follow this blog board to get notified when there's new activity",
  "FeedLevelAuthor": "rss.livelink.threads-in-node",
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure",
  "FeedName": "Microsoft Tech Community",
  "OutputDir": "_community",
  "Title": "Gaining Confidence with Az CLI and Az PowerShell: Introducing What if &  Export Bicep",
  "Link": "https://techcommunity.microsoft.com/t5/azure-tools-blog/gaining-confidence-with-az-cli-and-az-powershell-introducing/ba-p/4472147",
  "Author": "stevenbucher",
  "Tags": [],
  "Description": "Ever hesitated before hitting **Enter** on a command, wondering what changes it might make? You’re not alone. Whether you’re deploying resources or updating configurations, the fear of unintended consequences can slow you down. That’s why we’re introducing new powerful features in Azure CLI and Azure PowerShell to preview the changes the commands may make: the What if and Export Bicep features.\n\nThese capabilities allow you to preview the impact of your commands and allow you to export them as Bicep templates, all before making any changes to your Azure environment. Think of them as your safety net: you can validate actions, confirm resource changes, and even generate reusable infrastructure-as-code templates with confidence.\n\nCurrently, these features are in **private preview**, and we’re excited to share how you can get early access.\n\n##### **Why This Matters**\n\n- **Reduce risk:** Avoid accidental resource deletions or costly misconfigurations.\n- **Build confidence:** Understand exactly what your command will do before execution.\n- **Accelerate adoption of IaC:** Convert CLI commands into Bicep templates automatically.\n- **Improve productivity:** Validate scripts quickly without trial-and-error deployments.\n\n### **How It Works**\n\n##### **What if preview of commands**\n\nAll you have to do is add the `--what-if` parameter to Azure CLI commands and then the `-DryRun` command to Azure PowerShell commands like below.\n\nAzure CLI:\n\n| ```<br>az storage account create --name \"mystorageaccount\" --resource-group \"myResourceGroup\" --location \"eastus\" --what-if<br>``` | | --- |\n\nAzure PowerShell:\n\n| ```<br>New-AzVirtualNetwork -name MyVNET -ResourceGroupName MyResourceGroup -Location eastus -AddressPrefix \"10.0.0.0/16\" -DryRun<br>``` | | --- |\n\n##### **Exporting commands to Bicep**\n\nTo generate bicep from the command you will have to add the `**--export-bicep**` command with the -**-what-if** parameter to generate a bicep file. The bicep code will be saved under the `~/.azure/whatif` directory on your machine. The command will specific exactly where the file is saved on your machine.\n\nBehind the scenes, **AI translates your CLI command into Bicep code**, creating a reusable template for future deployments. After generating the Bicep file, the CLI automatically runs a **What-If analysis on the Bicep template** to show you the expected changes before applying them.\n\nHere is a video of it in action!\n\n![]()\n\nHere is another example where there is delete, modify and create actions happening all together.\n\n![]()\n\n## Private Preview Access\n\nThese features are available in **private preview**. To sign up:\n\n1. Visit the [aka.ms/PreviewSignupPSCLI](http://aka.ms/PreviewSignupPSCLI)\n2. Submit your request for access.\n3. Once approved, you’ll receive instructions to download the preview package.\n\n## Supported Commands (Private Preview)\n\nGiven these features are in a preview we have only added support for a small set of commands for the time being. Here’s a list of commands that will support these features during the private preview:\n\n**Azure CLI**\n\n- Az vm create\n- Az vm update\n- az storage account create\n- az storage container create\n- az storage share create\n- az network vnet create\n- az network vnet update\n- az storage account network-rule add\n- az vm disk attach\n- az vm disk detach\n- az vm nic remove\n\n**Azure PowerShell**\n\n- New-AzVM\n- Update-AzVM\n- New-AzStorageAccount\n- New-AzRmStorageShare\n- New-AzRmStorageContainer\n- New-AzVirtualNetwork\n- Set-AzVirtualNetwork\n- Add-AzStorageAccountNetworkRule\n\n## **Next Steps**\n\n- Sign up for the private preview.\n- Install the packages using the upcoming script.\n- Start using --what-if, -DryRun, and --export-bicep to make safer, smarter decisions and accelerate your IaC journey.\n- Give us feedback on what you think of the feature! At [https://aka.ms/PreviewFeedbackWhatIf](https://aka.ms/PreviewFeedbackWhatIf)\n\nThanks so much!\n\nSteven Bucher\n\nPM for Azure Client Tools",
  "ProcessedDate": "2025-11-21 19:05:06"
}
