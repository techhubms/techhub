{
  "EnhancedContent": "We are thrilled to announce that **Layer 7 (L7) Network Policies** for Azure Kubernetes Service (AKS), powered by Cilium and Advanced Container Networking Services (ACNS), has reached **General Availability (GA)!**\n\nThe journey from public preview to GA signifies a critical step: L7 Network Policies are now fully supported, highly optimized, and ready for your most demanding, mission-critical production workloads.\n\n## A Practical Example: Securing a Multi-Tier Retail Application\n\nLet's walk through a common production scenario. Imagine a standard retail application running on AKS with three core microservices:\n\n- frontend-app: Handles user traffic and displays product information.\n- inventory-api: A backend service that provides product stock levels. It should be read-only for the frontend.\n- payment-gateway: A highly sensitive service that processes transactions. It should only accept POST requests from the frontend to a specific endpoint.\n\n**The Security Challenge:** A traditional L4 policy would allow the frontend-app to talk to the inventory-api on its port, but it couldn't prevent a compromised frontend pod from trying to exploit a potential vulnerability by sending a DELETE or POST request to modify inventory data.\n\n**The L7 Policy Solution:** With GA L7 policies, you can enforce the Principle of Least Privilege at the application layer. Here's how you would protect the inventory-api:\n\n``` apiVersion: cilium.io/v2 kind: CiliumNetworkPolicy metadata: name: protect-inventory-api spec: endpointSelector: matchLabels: app: inventory-api ingress:\n- fromEndpoints:\n- matchLabels:\napp: frontend-app toPorts:\n- ports:\n- port: \"8080\" # The application port\nprotocol: TCP rules: http:\n- method: \"GET\" # ONLY allow the GET method\npath: \"/api/inventory/.*\" # For paths under /api/inventory/\n\n```\n\n### The Outcome:\n\n- Allowed: A legitimate request from the frontend-app (GET /api/inventory/item123) is seamlessly forwarded.\n- Blocked: Assuming frontend-app is compromised, any malicious request (like DELETE /api/inventory/item123) originating from it is blocked at the network layer. This Zero Trust approach protects the inventory-api service from the threat, regardless of the security state of the source service.\n\nThis same principle can be applied to protect the payment-gateway, ensuring it only accepts POST requests to the /process-payment endpoint, and nothing else.\n\n## Beyond L7: Supporting Zero Trust with Enhanced Security\n\nIn addition, toL7 application-level policies to ensure Zero Trust, we support Layer 3/4 network security and advanced egress controls like **Fully Qualified Domain Name (FQDN) filtering**.\n\nThis comprehensive approach allows administrators to:\n\n- **Restrict Outbound Connections (L3/L4 & FQDN):** Implement strict egress control by ensuring that workloads can only communicate with approved external services. FQDN filtering is crucial here, allowing pods to connect exclusively to trusted external domains (e.g., www.trusted-partner.com), significantly reducing the risk of data exfiltration and maintaining compliance. To learn more, visit the [FQDN Filtering Overview.](https://learn.microsoft.com/en-us/azure/aks/container-network-security-fqdn-filtering-concepts)\n- **Enforce Uniform Policy Across the Cluster (CCNP):** Extend protections beyond individual namespaces. By defining security measures as a Cilium Clusterwide Network Policy (CCNP), thanks to its General Availability (GA), administrators can ensure uniform policy enforcement across multiple namespaces or the entire Kubernetes cluster, simplifying management and strengthening the overall security posture of all workloads. To learn\n\n## CCNP Example: L4 Egress Policy with FQDN Filtering\n\nThis policy ensures that **all pods** across the cluster (CiliumClusterwideNetworkPolicy) are **only allowed** to establish outbound connections to the domain \\*.example.com on the standard web ports (80 and 443).\n\n``` apiVersion: cilium.io/v2kind: CiliumClusterwideNetworkPolicymetadata:  name: allow-egress-to-example-comspec:  endpointSelector: {} # Applies to all pods in the cluster  egress:    - toFQDNs:        - matchPattern: \"*.example.com\" # Allows access to any subdomain of example.com      toPorts:        - ports:            - port: \"443\"              protocol: TCP            - port: \"80\"              protocol: TCP\n\n```\n\n## Operational Excellence: Observability You Can Trust\n\nA secure system must be observable. With GA, the integrated visibility of your L7 traffic is production ready.\n\nIn our example above, the blocked DELETE request isn't silent. It is immediately visible in your Azure Managed Grafana dashboards as a **\"Dropped\"** flow, attributed directly to the protect-inventory-api policy. This makes security incidents auditable and easy to diagnose, enabling operations teams to detect misconfigurations or threats in real time. Below is a sample dashboard layout screenshot.\n\n##\n\n## Next Steps: Upgrade and Secure Your Production!\n\nWe encourage you to enable L7 Network Policies on your AKS clusters and level up your network security controls for containerized workloads. We value your feedback as we continue to develop and improve this feature. Please refer to the [Layer 7 Policy Overview](https://aka.ms/acns/l7policy) for more information and visit [How to Apply L7 Policy](https://aka.ms/acns/l7policy-how-to) for an example scenario.\n\nUpdated Nov 07, 2025\n\nVersion 1.0\n\n[azure cni](/tag/azure%20cni?nodeId=board%3AAzureNetworkingBlog)\n\n[azure networking](/tag/azure%20networking?nodeId=board%3AAzureNetworkingBlog)\n\n[cilium](/tag/cilium?nodeId=board%3AAzureNetworkingBlog)\n\n[container networking](/tag/container%20networking?nodeId=board%3AAzureNetworkingBlog)\n\n[ebpf](/tag/ebpf?nodeId=board%3AAzureNetworkingBlog)\n\n[!\\[KhushbuP&#x27;s avatar\\](https://techcommunity.microsoft.com/t5/s/gxcuf89792/m_assets/avatars/default/avatar-9.svg?image-dimensions=50x50)](/users/khushbup/1859529) [KhushbuP](/users/khushbup/1859529) ![Icon for Microsoft rank](https://techcommunity.microsoft.com/t5/s/gxcuf89792/images/cmstNC05WEo0blc?image-dimensions=100x16&amp;constrain-image=true)Microsoft\n\nJoined May 10, 2023\n\n[View Profile](/users/khushbup/1859529)\n\n/category/azure/blog/azurenetworkingblog [Azure Networking Blog](/category/azure/blog/azurenetworkingblog) Follow this blog board to get notified when there's new activity",
  "OutputDir": "_community",
  "Tags": [],
  "PubDate": "2025-11-08T03:12:57+00:00",
  "FeedUrl": "https://techcommunity.microsoft.com/t5/s/gxcuf89792/rss/Category?category.id=Azure",
  "ProcessedDate": "2025-11-08 03:17:50",
  "Author": "KhushbuP",
  "Description": "We are thrilled to announce that **Layer 7 (L7) Network Policies** for Azure Kubernetes Service (AKS), powered by Cilium and Advanced Container Networking Services (ACNS), has reached **General Availability (GA)!**\n\nThe journey from public preview to GA signifies a critical step: L7 Network Policies are now fully supported, highly optimized, and ready for your most demanding, mission-critical production workloads.\n\n## A Practical Example: Securing a Multi-Tier Retail Application\n\nLet's walk through a common production scenario. Imagine a standard retail application running on AKS with three core microservices:\n\n- frontend-app: Handles user traffic and displays product information.\n- inventory-api: A backend service that provides product stock levels. It should be read-only for the frontend.\n- payment-gateway: A highly sensitive service that processes transactions. It should only accept POST requests from the frontend to a specific endpoint.\n\n![]()\n\n**The Security Challenge:** A traditional L4 policy would allow the frontend-app to talk to the inventory-api on its port, but it couldn't prevent a compromised frontend pod from trying to exploit a potential vulnerability by sending a DELETE or POST request to modify inventory data.\n\n**The L7 Policy Solution:** With GA L7 policies, you can enforce the Principle of Least Privilege at the application layer. Here's how you would protect the inventory-api:\n\n``` apiVersion: cilium.io/v2 kind: CiliumNetworkPolicy metadata: name: protect-inventory-api spec: endpointSelector: matchLabels: app: inventory-api ingress:\n- fromEndpoints:\n- matchLabels:\napp: frontend-app toPorts:\n- ports:\n- port: \"8080\" # The application port\nprotocol: TCP rules: http:\n- method: \"GET\" # ONLY allow the GET method\npath: \"/api/inventory/.*\" # For paths under /api/inventory/\n\n```\n\n### The Outcome:\n\n- Allowed: A legitimate request from the frontend-app (GET /api/inventory/item123) is seamlessly forwarded.\n- Blocked: Assuming frontend-app is compromised, any malicious request (like DELETE /api/inventory/item123) originating from it is blocked at the network layer. This Zero Trust approach protects the inventory-api service from the threat, regardless of the security state of the source service.\n\nThis same principle can be applied to protect the payment-gateway, ensuring it only accepts POST requests to the /process-payment endpoint, and nothing else.\n\n## Beyond L7: Supporting Zero Trust with Enhanced Security\n\nIn addition, toL7 application-level policies to ensure Zero Trust, we support Layer 3/4 network security and advanced egress controls like **Fully Qualified Domain Name (FQDN) filtering**.\n\nThis comprehensive approach allows administrators to:\n\n- **Restrict Outbound Connections (L3/L4 & FQDN):** Implement strict egress control by ensuring that workloads can only communicate with approved external services. FQDN filtering is crucial here, allowing pods to connect exclusively to trusted external domains (e.g., www.trusted-partner.com), significantly reducing the risk of data exfiltration and maintaining compliance. To learn more, visit the [FQDN Filtering Overview.](https://learn.microsoft.com/en-us/azure/aks/container-network-security-fqdn-filtering-concepts)\n- **Enforce Uniform Policy Across the Cluster (CCNP):** Extend protections beyond individual namespaces. By defining security measures as a Cilium Clusterwide Network Policy (CCNP), thanks to its General Availability (GA), administrators can ensure uniform policy enforcement across multiple namespaces or the entire Kubernetes cluster, simplifying management and strengthening the overall security posture of all workloads. To learn\n\n## CCNP Example: L4 Egress Policy with FQDN Filtering\n\nThis policy ensures that **all pods** across the cluster (CiliumClusterwideNetworkPolicy) are **only allowed** to establish outbound connections to the domain \\*.example.com on the standard web ports (80 and 443).\n\n``` apiVersion: cilium.io/v2kind: CiliumClusterwideNetworkPolicymetadata: name: allow-egress-to-example-comspec: endpointSelector: {} # Applies to all pods in the cluster egress: - toFQDNs: - matchPattern: \"*.example.com\" # Allows access to any subdomain of example.com toPorts: - ports: - port: \"443\" protocol: TCP - port: \"80\" protocol: TCP\n\n```\n\n## Operational Excellence: Observability You Can Trust\n\nA secure system must be observable. With GA, the integrated visibility of your L7 traffic is production ready.\n\nIn our example above, the blocked DELETE request isn't silent. It is immediately visible in your Azure Managed Grafana dashboards as a **\"Dropped\"** flow, attributed directly to the protect-inventory-api policy. This makes security incidents auditable and easy to diagnose, enabling operations teams to detect misconfigurations or threats in real time. Below is a sample dashboard layout screenshot.\n\n![]()\n\n##\n\n## Next Steps: Upgrade and Secure Your Production!\n\nWe encourage you to enable L7 Network Policies on your AKS clusters and level up your network security controls for containerized workloads. We value your feedback as we continue to develop and improve this feature. Please refer to the [Layer 7 Policy Overview](https://aka.ms/acns/l7policy) for more information and visit [How to Apply L7 Policy](https://aka.ms/acns/l7policy-how-to) for an example scenario.",
  "Title": "Layer 7 Network Policies for AKS: Now Generally Available for Production Security and Observability!",
  "FeedName": "Microsoft Tech Community",
  "FeedLevelAuthor": "rss.livelink.threads-in-node",
  "Link": "https://techcommunity.microsoft.com/t5/azure-networking-blog/layer-7-network-policies-for-aks-now-generally-available-for/ba-p/4467598"
}
