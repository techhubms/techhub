{
  "Title": "How to only allow PRs if pipelines X & Y both run green?",
  "FeedName": "Reddit Azure DevOps",
  "OutputDir": "_community",
  "Tags": [
    "azuredevops"
  ],
  "ProcessedDate": "2025-08-05 17:37:33",
  "Description": "Can anyone point me towards either documentation or videos describing how to automatically reject a PR into a specific branch unless certain specific pipelines run green?\n\nBasically, we have had some instances where code has not been properly tested before a PR was done, and we've had to revert the changes afterwards. I don't really know for sure if what I want is really possible. Ideally I'd like when someone raises a PR, Pipelines X & Y are run against the code in the PR, and if the pipeline completes successfully or with a warning, the PR can go ahead, and if the pipeline fails, then it automatically rejects. These are YAML Terraform Pipelines, and the branch the pipeline uses is stated in a YAML file. Is this possible?\n\nAnd if so, where can I read up on it? I must be searching for something now quite right, because I can't really find anything on this.",
  "Author": "panzerbjrn",
  "Link": "https://www.reddit.com/r/azuredevops/comments/1mbguxq/how_to_only_allow_prs_if_pipelines_x_y_both_run/",
  "PubDate": "2025-07-28T13:56:17+00:00",
  "EnhancedContent": "Can anyone point me towards either documentation or videos describing how to automatically reject a PR into a specific branch unless certain specific pipelines run green?\n\nBasically, we have had some instances where code has not been properly tested before a PR was done, and we've had to revert the changes afterwards. I don't really know for sure if what I want is really possible. Ideally I'd like when someone raises a PR, Pipelines X & Y are run against the code in the PR, and if the pipeline completes successfully or with a warning, the PR can go ahead, and if the pipeline fails, then it automatically rejects. These are YAML Terraform Pipelines, and the branch the pipeline uses is stated in a YAML file. Is this possible?\n\nAnd if so, where can I read up on it? I must be searching for something now quite right, because I can't really find anything on this.\n\nGo to the settings for the repository.\n\nCreate a branch policy that applies to the target branch(es) for the PRs in question.\n\nIn the branch policy, under Build Validation, hit the + button and add a policy that requires the first pipeline to succeed before merging.\n\nHit that + button again and add a second policy for the second pipeline.\n\nLet me know if that actually works, I don't have an environment where I can test this scenario easily right now.\n\nI've set up branch policies about 9 billion times, you're right.\n\nThanks, I will give that a try. That seems much simpler than I thought it would be :-D\n\nThis is correct ðŸ’¯\n\nThanks again. I was trying to do this, but found that I need to create a \"Build Definition\" first. Reading up on those, makes it look like youcan only create those with the \"Classic\" pipelines, is that a correct understanding? We are onnly using YAML pipelines, so if that's the case, I'm not sure this will work -\\_\\_-\n\nJust to clarify a bit, is your repo in Azure DevOps git?\n\nSorry, I should have said, yes, everything is in Azure DevOps, repos and pipelines. Our agents are all internal as well.",
  "FeedLevelAuthor": "Azure DevOps",
  "FeedUrl": "https://www.reddit.com/r/azuredevops/.rss"
}
