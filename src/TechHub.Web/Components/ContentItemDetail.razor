@using TechHub.Core.DTOs

<div class="content-detail-header">
    <h1 class="page-h1" tabindex="-1">@Item.Title</h1>

    <div class="article-metadata">
        <time datetime="@Item.DateIso">@FormatDate(Item.DateEpoch)</time>
        @if (!string.IsNullOrWhiteSpace(Item.Author))
        {
            <span class="metadata-separator">â€¢</span>
            <span class="author">@Item.Author</span>
        }
    </div>
</div>

@if (!string.IsNullOrWhiteSpace(Item.RenderedHtml))
{
    <div class="article-body">
        @((MarkupString)Item.RenderedHtml)
    </div>
}

@code {
    [Parameter, EditorRequired]
    public ContentItemDetailDto Item { get; set; } = null!;

    private string FormatDate(long epochSeconds)
    {
        if (epochSeconds == 0) return string.Empty;

        var dateTime = DateTimeOffset.FromUnixTimeSeconds(epochSeconds);
        return dateTime.ToString("MMMM d, yyyy");
    }
}