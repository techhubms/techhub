@using TechHub.Core.DTOs

@* 
    SectionBanner - Decorative banner/hero for section pages
    
    Usage:
    <SectionBanner Section="@sectionData" />
    <SectionBanner Title="Page Title" Description="Description" BackgroundImage="/images/bg.webp" />
*@

<div class="section-banner @CssClass @BackgroundClass">
    <div class="section-banner-content header-text-overlay">
        <div class="banner-title">@DisplayTitle</div>
        @if (!string.IsNullOrEmpty(DisplayDescription))
        {
            <p class="banner-description">@DisplayDescription</p>
        }
    </div>
</div>

@code {
    // For static pages - provide Title, Description, BackgroundCssClass
    [Parameter]
    public string? Title { get; set; }

    [Parameter]
    public string? Description { get; set; }

    [Parameter]
    public string? BackgroundCssClass { get; set; }

    // For section pages - provide Section
    [Parameter]
    public SectionDto? Section { get; set; }

    // Computed properties - prefer Section data if available
    private string DisplayTitle => Section?.Title ?? Title ?? string.Empty;
    private string? DisplayDescription => Section?.Description ?? Description;
    private string BackgroundClass => Section != null
    ? $"section-banner-bg-{Section.Name}"
    : BackgroundCssClass ?? "section-banner-bg-none";

    private string CssClass => Section == null && string.IsNullOrEmpty(BackgroundCssClass) ? "home-banner" : "";
}