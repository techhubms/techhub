@* ============================================================================
   Sidebar Tags Component
   
   Renders a cloud of clickable tags that link to filtered content.
   Supports both article tags (content detail pages) and popular tags (homepage).
   
   Usage:
     Article tags (filter within section):
       <SidebarTags Tags="@item.Tags"
                    Title="Tags"
                    BaseUrl="@($"/{sectionName}")" />
     
     Popular tags (filter across all content):
       <SidebarTags Tags="@popularTags"
                    Title="Popular Tags"
                    BaseUrl="/all"
                    MaxTags="15" />
   ============================================================================ *@

@if (Tags != null && Tags.Any())
{
    <nav class="sidebar-section @CssClass" aria-label="Filter by tags">
        <h2 class="sidebar-h2">@Title</h2>
        <div class="sidebar-tags-cloud">
            @foreach (var tag in Tags.Take(MaxTags ?? int.MaxValue))
            {
                <a href="@BaseUrl?tags=@Uri.EscapeDataString(tag)" class="sidebar-tag-button">@tag</a>
            }
        </div>
    </nav>
}

@code {
    /// <summary>
    /// Collection of tags to display.
    /// </summary>
    [Parameter, EditorRequired]
    public required IEnumerable<string> Tags { get; set; }

    /// <summary>
    /// Section title for the tags component.
    /// </summary>
    [Parameter]
    public string Title { get; set; } = "Tags";

    /// <summary>
    /// Base URL for tag filtering (e.g., "/ai" for section filtering, "/all" for global).
    /// </summary>
    [Parameter, EditorRequired]
    public required string BaseUrl { get; set; }

    /// <summary>
    /// Maximum number of tags to display. Null = show all tags.
    /// </summary>
    [Parameter]
    public int? MaxTags { get; set; }

    /// <summary>
    /// Additional CSS class for the component (e.g., "popular-tags", "article-tags").
    /// </summary>
    [Parameter]
    public string CssClass { get; set; } = string.Empty;
}